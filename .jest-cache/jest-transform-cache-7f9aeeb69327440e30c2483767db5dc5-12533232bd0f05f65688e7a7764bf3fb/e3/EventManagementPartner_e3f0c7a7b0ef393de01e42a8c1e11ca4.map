{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\partner\\pages\\EventManagementPartner.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\partner\\pages\\EventManagementPartner.jsx"],"sourcesContent":["// src/pages/EventManagementPartner.jsx\r\nimport { useState, useEffect } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Button } from '@/features/shared/components/ui/button';\r\nimport { \r\n  Loader2, \r\n  Plus, \r\n  Calendar, \r\n  AlertTriangle, \r\n  Edit, \r\n  MessageSquare, \r\n  Users, \r\n  Zap,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Clock,\r\n  Key\r\n} from 'lucide-react';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport EventPasswordCard from '@/features/partner/components/EventPasswordCard';\r\n\r\nconst EventManagementPartner = () => {\r\n  const navigate = useNavigate();\r\n  const { user, profile } = useAuth();\r\n  const [events, setEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [expandedEventId, setExpandedEventId] = useState(null);\r\n\r\n  const isPremiumPartner = profile?.isPremiumPartner === true;\r\n\r\n  useEffect(() => {\r\n    const fetchMyEvents = async () => {\r\n      if (!user || !profile?.partner_id) {\r\n        setError(\"Perfil de parceiro n√£o encontrado.\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      if (!isPremiumPartner) {\r\n        setLoading(false);\r\n        setEvents([]);\r\n        return;\r\n      }\r\n\r\n      setLoading(true);\r\n      try {\r\n        // üÜï Adicionar event_entry_password ao select\r\n        const { data, error: fetchError } = await supabase\r\n          .from('events')\r\n          .select('id, title, start_time, end_time, vagas, status, event_type, event_entry_password')\r\n          .eq('partner_id', profile.partner_id)\r\n          .eq('creator_id', user.id)\r\n          .order('start_time', { ascending: false });\r\n\r\n        if (fetchError) throw fetchError;\r\n        setEvents(data || []);\r\n      } catch (err) {\r\n        setError(err.message || 'Erro ao carregar eventos.');\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMyEvents();\r\n\r\n    // üîÑ Atualizar a cada 30 segundos para pegar novas senhas\r\n    const interval = setInterval(fetchMyEvents, 30000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [user, profile, isPremiumPartner]);\r\n\r\n  // üéØ Verifica se evento est√° pr√≥ximo (menos de 5 minutos)\r\n  const isEventSoon = (startTime) => {\r\n    const now = new Date();\r\n    const start = new Date(startTime);\r\n    const diff = start - now;\r\n    const minutesLeft = Math.floor(diff / 1000 / 60);\r\n    return minutesLeft >= 0 && minutesLeft <= 5;\r\n  };\r\n\r\n  // üéØ Verifica se evento est√° em andamento\r\n  const isEventOngoing = (startTime, endTime) => {\r\n    const now = new Date();\r\n    const start = new Date(startTime);\r\n    const end = new Date(endTime);\r\n    return now >= start && now <= end;\r\n  };\r\n\r\n  const toggleEventExpand = (eventId) => {\r\n    setExpandedEventId(expandedEventId === eventId ? null : eventId);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Meus Eventos - Mesapra2</title>\r\n      </Helmet>\r\n\r\n      <div className=\"py-6\">\r\n        {/* Cabe√ßalho */}\r\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold gradient-text mb-2\">Meus Eventos</h1>\r\n            <p className=\"text-white/60\">\r\n              {isPremiumPartner\r\n                ? 'Gerencie os eventos criados para o seu restaurante.'\r\n                : 'Seu plano atual n√£o permite a cria√ß√£o de Eventos Institucionais.'}\r\n            </p>\r\n          </div>\r\n\r\n          {isPremiumPartner ? (\r\n            <Button\r\n              onClick={() => navigate('/partner/create-event')}\r\n              className=\"bg-gradient-to-r from-purple-500 to-pink-500\"\r\n            >\r\n              <Plus className=\"w-4 h-4 mr-2\" />\r\n              Criar Novo Evento\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              variant=\"outline\"\r\n              className=\"border-yellow-500 text-yellow-500 hover:bg-yellow-500/10 hover:text-yellow-400\"\r\n              onClick={() => navigate('/partner/settings')}\r\n            >\r\n              <Zap className=\"w-4 h-4 mr-2\" />\r\n              Seja Premium para Criar Eventos\r\n            </Button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Loading */}\r\n        {loading && (\r\n          <div className=\"flex items-center justify-center min-h-[40vh]\">\r\n            <Loader2 className=\"w-8 h-8 animate-spin text-purple-500\" />\r\n          </div>\r\n        )}\r\n\r\n        {/* Erro */}\r\n        {error && (\r\n          <div className=\"flex flex-col items-center justify-center min-h-[40vh] glass-effect p-8 rounded-2xl border border-red-500/30\">\r\n            <AlertTriangle className=\"w-12 h-12 text-red-500 mb-4\" />\r\n            <h2 className=\"text-xl font-semibold text-white mb-2\">Erro ao carregar</h2>\r\n            <p className=\"text-white/60\">{error}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Lista de Eventos */}\r\n        {!loading && !error && (\r\n          <>\r\n            {events.length === 0 ? (\r\n              <div className=\"flex flex-col items-center justify-center min-h-[40vh] glass-effect p-8 rounded-2xl border border-white/10\">\r\n                <Calendar className=\"w-16 h-16 text-white/20 mb-4\" />\r\n                <h2 className=\"text-xl font-semibold text-white mb-2\">\r\n                  {isPremiumPartner ? 'Nenhum evento criado' : 'Seu plano n√£o permite criar eventos'}\r\n                </h2>\r\n                <p className=\"text-white/60 mb-6\">\r\n                  {isPremiumPartner\r\n                    ? 'Que tal criar seu primeiro evento agora?'\r\n                    : 'Fa√ßa o upgrade para Partner Premium para criar seus pr√≥prios eventos.'}\r\n                </p>\r\n                \r\n                {isPremiumPartner ? (\r\n                  <Button\r\n                    onClick={() => navigate('/partner/create-event')}\r\n                    className=\"bg-gradient-to-r from-purple-500 to-pink-500\"\r\n                  >\r\n                    <Plus className=\"w-4 h-4 mr-2\" />\r\n                    Criar Evento\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"border-yellow-500 text-yellow-500 hover:bg-yellow-500/10 hover:text-yellow-400\"\r\n                    onClick={() => navigate('/partner/settings')}\r\n                  >\r\n                    <Zap className=\"w-4 h-4 mr-2\" />\r\n                    Conhecer Planos Premium\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-4\">\r\n                {events.map((event) => {\r\n                  const isSoon = isEventSoon(event.start_time);\r\n                  const isOngoing = isEventOngoing(event.start_time, event.end_time);\r\n                  const isExpanded = expandedEventId === event.id;\r\n                  const hasPassword = !!event.event_entry_password;\r\n\r\n                  return (\r\n                    <div\r\n                      key={event.id}\r\n                      className={`glass-effect rounded-2xl border transition-all ${\r\n                        isOngoing \r\n                          ? 'border-green-500/50 bg-green-500/5' \r\n                          : isSoon \r\n                          ? 'border-yellow-500/50 bg-yellow-500/5'\r\n                          : 'border-white/10'\r\n                      }`}\r\n                    >\r\n                      {/* Header do Card */}\r\n                      <div className=\"p-4 sm:p-6\">\r\n                        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                          {/* Informa√ß√µes do Evento */}\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <div className=\"flex items-center gap-2 flex-wrap mb-2\">\r\n                              <span\r\n                                className={`inline-block px-2 py-0.5 rounded-full text-xs font-medium ${\r\n                                  event.status === 'Aberto'\r\n                                    ? 'bg-green-500/20 text-green-300'\r\n                                    : event.status === 'Em Andamento'\r\n                                    ? 'bg-purple-500/20 text-purple-300'\r\n                                    : 'bg-gray-500/20 text-gray-300'\r\n                                }`}\r\n                              >\r\n                                {event.status}\r\n                              </span>\r\n                              \r\n                              {isOngoing && (\r\n                                <span className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-300 animate-pulse\">\r\n                                  <div className=\"w-2 h-2 rounded-full bg-green-400\" />\r\n                                  AO VIVO\r\n                                </span>\r\n                              )}\r\n                              \r\n                              {isSoon && !isOngoing && (\r\n                                <span className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-500/20 text-yellow-300\">\r\n                                  <Clock className=\"w-3 h-3\" />\r\n                                  Em breve\r\n                                </span>\r\n                              )}\r\n\r\n                              {hasPassword && (\r\n                                <span className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-blue-500/20 text-blue-300\">\r\n                                  <Key className=\"w-3 h-3\" />\r\n                                  Senha gerada\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                            \r\n                            <h3 className=\"text-lg font-semibold text-white truncate\">{event.title}</h3>\r\n                            \r\n                            <div className=\"flex flex-col sm:flex-row sm:items-center gap-x-4 gap-y-1 text-sm text-white/60 mt-1\">\r\n                              <div className=\"flex items-center gap-1.5\">\r\n                                <Calendar className=\"w-4 h-4\" />\r\n                                <span>{format(new Date(event.start_time), \"dd/MM/yy '√†s' HH:mm\", { locale: ptBR })}</span>\r\n                              </div>\r\n                              <div className=\"flex items-center gap-1.5\">\r\n                                <Users className=\"w-4 h-4\" />\r\n                                <span>{event.vagas} vagas</span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Bot√µes de A√ß√£o */}\r\n                          <div className=\"flex flex-shrink-0 gap-2\">\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"icon\"\r\n                              onClick={() => navigate(`/event/${event.id}/chat`)}\r\n                              title=\"Acessar Chat\"\r\n                            >\r\n                              <MessageSquare className=\"w-4 h-4\" />\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"icon\"\r\n                              onClick={() => navigate(`/partner/edit-event/${event.id}`)}\r\n                              title=\"Editar Evento\"\r\n                            >\r\n                              <Edit className=\"w-4 h-4\" />\r\n                            </Button>\r\n                            \r\n                            {/* Bot√£o de Expandir */}\r\n                            {(isSoon || isOngoing || hasPassword) && (\r\n                              <Button\r\n                                variant=\"outline\"\r\n                                size=\"icon\"\r\n                                onClick={() => toggleEventExpand(event.id)}\r\n                                title={isExpanded ? \"Recolher\" : \"Ver senha\"}\r\n                              >\r\n                                {isExpanded ? (\r\n                                  <ChevronUp className=\"w-4 h-4\" />\r\n                                ) : (\r\n                                  <ChevronDown className=\"w-4 h-4\" />\r\n                                )}\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* üîê Card de Senha (Expand√≠vel) */}\r\n                      {isExpanded && (isSoon || isOngoing || hasPassword) && (\r\n                        <div className=\"px-4 sm:px-6 pb-6\">\r\n                          <EventPasswordCard eventId={event.id} />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EventManagementPartner;"],"version":3}