1330442d7c74eb8feeab3fe3c4804b6d
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
// src/features/shared/pages/LoginPage.jsx
const react_1 = tslib_1.__importStar(require("react"));
const react_router_dom_1 = require("react-router-dom");
const react_helmet_async_1 = require("react-helmet-async");
const framer_motion_1 = require("framer-motion");
const lucide_react_1 = require("lucide-react");
const AuthContext_1 = require("@/contexts/AuthContext");
const button_1 = require("@/features/shared/components/ui/button");
const input_1 = require("@/features/shared/components/ui/input");
const label_1 = require("@/features/shared/components/ui/label");
const use_toast_1 = require("@/features/shared/components/ui/use-toast");
const SocialLoginButtons_1 = tslib_1.__importDefault(require("@/features/shared/components/auth/SocialLoginButtons"));
const supabaseClient_1 = require("@/lib/supabaseClient");
const LoginPage = () => {
    const [email, setEmail] = (0, react_1.useState)('');
    const [password, setPassword] = (0, react_1.useState)('');
    const [loading, setLoading] = (0, react_1.useState)(false);
    const [resendingEmail, setResendingEmail] = (0, react_1.useState)(false);
    const [showResendButton, setShowResendButton] = (0, react_1.useState)(false);
    const { login, signInWithGoogle, signInWithApple, signInWithFacebook } = (0, AuthContext_1.useAuth)();
    const navigate = (0, react_router_dom_1.useNavigate)();
    const { toast } = (0, use_toast_1.useToast)();
    const handleSubmit = async (e) => {
        e.preventDefault();
        setLoading(true);
        setShowResendButton(false);
        try {
            await login(email, password);
            // Se chegou aqui, login foi bem-sucedido
            toast({
                title: 'âœ… Login realizado!',
                description: 'Redirecionando...',
                variant: 'default'
            });
            navigate('/dashboard');
        }
        catch (error) {
            console.error('Erro no login:', error);
            // Tratamento especÃ­fico para email nÃ£o confirmado
            if (error.message?.includes('Email not confirmed')) {
                setShowResendButton(true);
                toast({
                    title: 'ðŸ“§ Email nÃ£o confirmado',
                    description: 'Por favor, verifique sua caixa de entrada e confirme seu email antes de fazer login.',
                    variant: 'destructive',
                    duration: 6000
                });
            }
            // Tratamento para credenciais invÃ¡lidas
            else if (error.message?.includes('Invalid login credentials')) {
                toast({
                    title: 'âŒ Credenciais invÃ¡lidas',
                    description: 'Email ou senha incorretos. Tente novamente.',
                    variant: 'destructive'
                });
            }
            // Outros erros
            else {
                toast({
                    title: 'âŒ Erro ao fazer login',
                    description: error.message || 'Ocorreu um erro inesperado. Tente novamente.',
                    variant: 'destructive'
                });
            }
        }
        finally {
            setLoading(false);
        }
    };
    // FunÃ§Ã£o para reenviar email de confirmaÃ§Ã£o
    const handleResendConfirmation = async () => {
        if (!email) {
            toast({
                title: 'âš ï¸ Email nÃ£o informado',
                description: 'Por favor, digite seu email no campo acima.',
                variant: 'destructive'
            });
            return;
        }
        setResendingEmail(true);
        try {
            const { error } = await supabaseClient_1.supabase.auth.resend({
                type: 'signup',
                email: email,
                options: {
                    emailRedirectTo: `${window.location.origin}/auth/callback`
                }
            });
            if (error)
                throw error;
            toast({
                title: 'âœ… Email reenviado!',
                description: 'Verifique sua caixa de entrada e spam.',
                variant: 'default',
                duration: 5000
            });
            setShowResendButton(false);
        }
        catch (error) {
            console.error('Erro ao reenviar email:', error);
            toast({
                title: 'âŒ Erro ao reenviar',
                description: error.message || 'NÃ£o foi possÃ­vel reenviar o email. Tente novamente mais tarde.',
                variant: 'destructive'
            });
        }
        finally {
            setResendingEmail(false);
        }
    };
    const handleGoogleLogin = async () => {
        try {
            await signInWithGoogle();
        }
        catch (error) {
            console.error('Erro no login Google:', error);
            toast({
                title: 'âŒ Erro no login',
                description: 'NÃ£o foi possÃ­vel fazer login com Google.',
                variant: 'destructive'
            });
        }
    };
    const handleAppleLogin = async () => {
        try {
            await signInWithApple();
        }
        catch (error) {
            console.error('Erro no login Apple:', error);
            toast({
                title: 'âŒ Erro no login',
                description: 'NÃ£o foi possÃ­vel fazer login com Apple.',
                variant: 'destructive'
            });
        }
    };
    const handleFacebookLogin = async () => {
        try {
            await signInWithFacebook();
        }
        catch (error) {
            console.error('Erro no login Facebook:', error);
            toast({
                title: 'âŒ Erro no login',
                description: 'NÃ£o foi possÃ­vel fazer login com Facebook.',
                variant: 'destructive'
            });
        }
    };
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)(react_helmet_async_1.Helmet, { children: [(0, jsx_runtime_1.jsx)("title", { children: "Login - Mesapra2" }), (0, jsx_runtime_1.jsx)("meta", { name: "description", content: "Fa\u00E7a login no Mesapra2 e participe de eventos sociais em restaurantes." })] }), (0, jsx_runtime_1.jsx)("div", { className: "min-h-screen flex items-center justify-center p-4", children: (0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, className: "w-full max-w-md", children: (0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl p-8 border border-white/10", children: [(0, jsx_runtime_1.jsx)("div", { className: "flex justify-center mb-8", children: (0, jsx_runtime_1.jsx)("div", { className: "w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "w-8 h-8 text-white" }) }) }), (0, jsx_runtime_1.jsx)("h1", { className: "text-3xl font-bold text-center mb-2 gradient-text", children: "Bem-vindo de volta" }), (0, jsx_runtime_1.jsx)("p", { className: "text-center text-white/60 mb-8", children: "Entre na sua conta para continuar" }), (0, jsx_runtime_1.jsx)(SocialLoginButtons_1.default, { onGoogleClick: handleGoogleLogin, onAppleClick: handleAppleLogin, onFacebookClick: handleFacebookLogin, loading: loading }), (0, jsx_runtime_1.jsxs)("div", { className: "relative my-6", children: [(0, jsx_runtime_1.jsx)("div", { className: "absolute inset-0 flex items-center", children: (0, jsx_runtime_1.jsx)("div", { className: "w-full border-t border-white/10" }) }), (0, jsx_runtime_1.jsx)("div", { className: "relative flex justify-center text-sm", children: (0, jsx_runtime_1.jsx)("span", { className: "px-4 bg-background text-white/60", children: "ou continue com email" }) })] }), (0, jsx_runtime_1.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "email", children: "Email" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Mail, { className: "absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "email", type: "email", placeholder: "seu@email.com", value: email, onChange: (e) => setEmail(e.target.value), className: "pl-10 glass-effect border-white/10", required: true })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "password", children: "Senha" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Lock, { className: "absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "password", type: "password", placeholder: "\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022", value: password, onChange: (e) => setPassword(e.target.value), className: "pl-10 glass-effect border-white/10", required: true })] })] }), showResendButton && ((0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, height: 0 }, animate: { opacity: 1, height: 'auto' }, className: "bg-orange-500/10 border border-orange-500/30 rounded-lg p-4", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-3", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertCircle, { className: "w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-sm text-orange-200 mb-2", children: "Voc\u00EA ainda n\u00E3o confirmou seu email. Clique no bot\u00E3o abaixo para receber um novo link de confirma\u00E7\u00E3o." }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "button", onClick: handleResendConfirmation, disabled: resendingEmail, variant: "outline", className: "w-full bg-orange-500/20 hover:bg-orange-500/30 border-orange-500/40 text-orange-200", children: resendingEmail ? 'Reenviando...' : 'ðŸ“§ Reenviar email de confirmaÃ§Ã£o' })] })] }) })), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "submit", disabled: loading, className: "w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 h-12 text-base font-semibold", children: loading ? 'Entrando...' : 'Entrar' })] }), (0, jsx_runtime_1.jsxs)("div", { className: "mt-6 space-y-4", children: [(0, jsx_runtime_1.jsxs)("p", { className: "text-center text-white/60 text-sm", children: ["N\u00E3o tem uma conta?", ' ', (0, jsx_runtime_1.jsx)(react_router_dom_1.Link, { to: "/register", className: "text-purple-400 hover:text-purple-300 font-semibold", children: "Cadastre-se" })] }), (0, jsx_runtime_1.jsxs)("p", { className: "text-center text-white/60 text-sm", children: ["\u00C9 um restaurante?", ' ', (0, jsx_runtime_1.jsx)(react_router_dom_1.Link, { to: "/partner/register", className: "text-purple-400 hover:text-purple-300 font-semibold", children: "Cadastre seu estabelecimento" })] })] })] }) }) })] }));
};
exports.default = LoginPage;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xcc2hhcmVkXFxwYWdlc1xcTG9naW5QYWdlLmpzeCIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsMENBQTBDO0FBQzFDLHVEQUF3QztBQUN4Qyx1REFBcUQ7QUFDckQsMkRBQTRDO0FBQzVDLGlEQUF1QztBQUN2QywrQ0FBaUU7QUFDakUsd0RBQWlEO0FBQ2pELG1FQUFnRTtBQUNoRSxpRUFBOEQ7QUFDOUQsaUVBQThEO0FBQzlELHlFQUFxRTtBQUNyRSxzSEFBc0Y7QUFDdEYseURBQWdEO0FBRWhELE1BQU0sU0FBUyxHQUFHLEdBQUcsRUFBRTtJQUNyQixNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxFQUFFLENBQUMsQ0FBQztJQUN2QyxNQUFNLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxFQUFFLENBQUMsQ0FBQztJQUM3QyxNQUFNLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUM5QyxNQUFNLENBQUMsY0FBYyxFQUFFLGlCQUFpQixDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzVELE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUNoRSxNQUFNLEVBQUUsS0FBSyxFQUFFLGdCQUFnQixFQUFFLGVBQWUsRUFBRSxrQkFBa0IsRUFBRSxHQUFHLElBQUEscUJBQU8sR0FBRSxDQUFDO0lBQ25GLE1BQU0sUUFBUSxHQUFHLElBQUEsOEJBQVcsR0FBRSxDQUFDO0lBQy9CLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxJQUFBLG9CQUFRLEdBQUUsQ0FBQztJQUU3QixNQUFNLFlBQVksR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDL0IsQ0FB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QUMsQ0FBQztBQUVGLGtCQUFlLFNBQVMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcREVWTWl4XFxBcHAuTWVzYXByYTIuY29tXFxzcmNcXGZlYXR1cmVzXFxzaGFyZWRcXHBhZ2VzXFxMb2dpblBhZ2UuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9mZWF0dXJlcy9zaGFyZWQvcGFnZXMvTG9naW5QYWdlLmpzeFxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IExpbmssIHVzZU5hdmlnYXRlIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB7IEhlbG1ldCB9IGZyb20gJ3JlYWN0LWhlbG1ldC1hc3luYyc7XHJcbmltcG9ydCB7IG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xyXG5pbXBvcnQgeyBDYWxlbmRhciwgTWFpbCwgTG9jaywgQWxlcnRDaXJjbGUgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9jb250ZXh0cy9BdXRoQ29udGV4dCc7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvZmVhdHVyZXMvc2hhcmVkL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcclxuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL2lucHV0JztcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL2xhYmVsJztcclxuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL3VzZS10b2FzdCc7XHJcbmltcG9ydCBTb2NpYWxMb2dpbkJ1dHRvbnMgZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy9hdXRoL1NvY2lhbExvZ2luQnV0dG9ucyc7XHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2VDbGllbnQnO1xyXG5cclxuY29uc3QgTG9naW5QYWdlID0gKCkgPT4ge1xyXG4gIGNvbnN0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtwYXNzd29yZCwgc2V0UGFzc3dvcmRdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbcmVzZW5kaW5nRW1haWwsIHNldFJlc2VuZGluZ0VtYWlsXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2hvd1Jlc2VuZEJ1dHRvbiwgc2V0U2hvd1Jlc2VuZEJ1dHRvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgeyBsb2dpbiwgc2lnbkluV2l0aEdvb2dsZSwgc2lnbkluV2l0aEFwcGxlLCBzaWduSW5XaXRoRmFjZWJvb2sgfSA9IHVzZUF1dGgoKTtcclxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XHJcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICBzZXRTaG93UmVzZW5kQnV0dG9uKGZhbHNlKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBsb2dpbihlbWFpbCwgcGFzc3dvcmQpO1xyXG4gICAgICBcclxuICAgICAgLy8gU2UgY2hlZ291IGFxdWksIGxvZ2luIGZvaSBiZW0tc3VjZWRpZG9cclxuICAgICAgdG9hc3Qoe1xyXG4gICAgICAgIHRpdGxlOiAn4pyFIExvZ2luIHJlYWxpemFkbyEnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUmVkaXJlY2lvbmFuZG8uLi4nLFxyXG4gICAgICAgIHZhcmlhbnQ6ICdkZWZhdWx0J1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIG5hdmlnYXRlKCcvZGFzaGJvYXJkJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIG5vIGxvZ2luOicsIGVycm9yKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFRyYXRhbWVudG8gZXNwZWPDrWZpY28gcGFyYSBlbWFpbCBuw6NvIGNvbmZpcm1hZG9cclxuICAgICAgaWYgKGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdFbWFpbCBub3QgY29uZmlybWVkJykpIHtcclxuICAgICAgICBzZXRTaG93UmVzZW5kQnV0dG9uKHRydWUpO1xyXG4gICAgICAgIHRvYXN0KHtcclxuICAgICAgICAgIHRpdGxlOiAn8J+TpyBFbWFpbCBuw6NvIGNvbmZpcm1hZG8nLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdQb3IgZmF2b3IsIHZlcmlmaXF1ZSBzdWEgY2FpeGEgZGUgZW50cmFkYSBlIGNvbmZpcm1lIHNldSBlbWFpbCBhbnRlcyBkZSBmYXplciBsb2dpbi4nLFxyXG4gICAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcclxuICAgICAgICAgIGR1cmF0aW9uOiA2MDAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gXHJcbiAgICAgIC8vIFRyYXRhbWVudG8gcGFyYSBjcmVkZW5jaWFpcyBpbnbDoWxpZGFzXHJcbiAgICAgIGVsc2UgaWYgKGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdJbnZhbGlkIGxvZ2luIGNyZWRlbnRpYWxzJykpIHtcclxuICAgICAgICB0b2FzdCh7XHJcbiAgICAgICAgICB0aXRsZTogJ+KdjCBDcmVkZW5jaWFpcyBpbnbDoWxpZGFzJyxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRW1haWwgb3Ugc2VuaGEgaW5jb3JyZXRvcy4gVGVudGUgbm92YW1lbnRlLicsXHJcbiAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gT3V0cm9zIGVycm9zXHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHRvYXN0KHtcclxuICAgICAgICAgIHRpdGxlOiAn4p2MIEVycm8gYW8gZmF6ZXIgbG9naW4nLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfHwgJ09jb3JyZXUgdW0gZXJybyBpbmVzcGVyYWRvLiBUZW50ZSBub3ZhbWVudGUuJyxcclxuICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZSdcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gRnVuw6fDo28gcGFyYSByZWVudmlhciBlbWFpbCBkZSBjb25maXJtYcOnw6NvXHJcbiAgY29uc3QgaGFuZGxlUmVzZW5kQ29uZmlybWF0aW9uID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFlbWFpbCkge1xyXG4gICAgICB0b2FzdCh7XHJcbiAgICAgICAgdGl0bGU6ICfimqDvuI8gRW1haWwgbsOjbyBpbmZvcm1hZG8nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUG9yIGZhdm9yLCBkaWdpdGUgc2V1IGVtYWlsIG5vIGNhbXBvIGFjaW1hLicsXHJcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJ1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFJlc2VuZGluZ0VtYWlsKHRydWUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgucmVzZW5kKHtcclxuICAgICAgICB0eXBlOiAnc2lnbnVwJyxcclxuICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgZW1haWxSZWRpcmVjdFRvOiBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9hdXRoL2NhbGxiYWNrYFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG5cclxuICAgICAgdG9hc3Qoe1xyXG4gICAgICAgIHRpdGxlOiAn4pyFIEVtYWlsIHJlZW52aWFkbyEnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmVyaWZpcXVlIHN1YSBjYWl4YSBkZSBlbnRyYWRhIGUgc3BhbS4nLFxyXG4gICAgICAgIHZhcmlhbnQ6ICdkZWZhdWx0JyxcclxuICAgICAgICBkdXJhdGlvbjogNTAwMFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNldFNob3dSZXNlbmRCdXR0b24oZmFsc2UpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyByZWVudmlhciBlbWFpbDonLCBlcnJvcik7XHJcbiAgICAgIHRvYXN0KHtcclxuICAgICAgICB0aXRsZTogJ+KdjCBFcnJvIGFvIHJlZW52aWFyJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3IubWVzc2FnZSB8fCAnTsOjbyBmb2kgcG9zc8OtdmVsIHJlZW52aWFyIG8gZW1haWwuIFRlbnRlIG5vdmFtZW50ZSBtYWlzIHRhcmRlLicsXHJcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJ1xyXG4gICAgICB9KTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldFJlc2VuZGluZ0VtYWlsKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVHb29nbGVMb2dpbiA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHNpZ25JbldpdGhHb29nbGUoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gbm8gbG9naW4gR29vZ2xlOicsIGVycm9yKTtcclxuICAgICAgdG9hc3Qoe1xyXG4gICAgICAgIHRpdGxlOiAn4p2MIEVycm8gbm8gbG9naW4nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTsOjbyBmb2kgcG9zc8OtdmVsIGZhemVyIGxvZ2luIGNvbSBHb29nbGUuJyxcclxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUFwcGxlTG9naW4gPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBzaWduSW5XaXRoQXBwbGUoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gbm8gbG9naW4gQXBwbGU6JywgZXJyb3IpO1xyXG4gICAgICB0b2FzdCh7XHJcbiAgICAgICAgdGl0bGU6ICfinYwgRXJybyBubyBsb2dpbicsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdOw6NvIGZvaSBwb3Nzw612ZWwgZmF6ZXIgbG9naW4gY29tIEFwcGxlLicsXHJcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJ1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVGYWNlYm9va0xvZ2luID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgc2lnbkluV2l0aEZhY2Vib29rKCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIG5vIGxvZ2luIEZhY2Vib29rOicsIGVycm9yKTtcclxuICAgICAgdG9hc3Qoe1xyXG4gICAgICAgIHRpdGxlOiAn4p2MIEVycm8gbm8gbG9naW4nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTsOjbyBmb2kgcG9zc8OtdmVsIGZhemVyIGxvZ2luIGNvbSBGYWNlYm9vay4nLFxyXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZSdcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIDxIZWxtZXQ+XHJcbiAgICAgICAgPHRpdGxlPkxvZ2luIC0gTWVzYXByYTI8L3RpdGxlPlxyXG4gICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJGYcOnYSBsb2dpbiBubyBNZXNhcHJhMiBlIHBhcnRpY2lwZSBkZSBldmVudG9zIHNvY2lhaXMgZW0gcmVzdGF1cmFudGVzLlwiIC8+XHJcbiAgICAgIDwvSGVsbWV0PlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00XCI+XHJcbiAgICAgICAgPG1vdGlvbi5kaXZcclxuICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogMjAgfX1cclxuICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCByb3VuZGVkLTJ4bCBwLTggYm9yZGVyIGJvcmRlci13aGl0ZS8xMFwiPlxyXG4gICAgICAgICAgICB7LyogTG9nbyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIG1iLThcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiByb3VuZGVkLTJ4bCBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS01MDAgdG8tcGluay01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxDYWxlbmRhciBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtd2hpdGVcIiAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBUw610dWxvICovfVxyXG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtY2VudGVyIG1iLTIgZ3JhZGllbnQtdGV4dFwiPlxyXG4gICAgICAgICAgICAgIEJlbS12aW5kbyBkZSB2b2x0YVxyXG4gICAgICAgICAgICA8L2gxPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXdoaXRlLzYwIG1iLThcIj5cclxuICAgICAgICAgICAgICBFbnRyZSBuYSBzdWEgY29udGEgcGFyYSBjb250aW51YXJcclxuICAgICAgICAgICAgPC9wPlxyXG5cclxuICAgICAgICAgICAgey8qIEJvdMO1ZXMgU29jaWFpcyAqL31cclxuICAgICAgICAgICAgPFNvY2lhbExvZ2luQnV0dG9uc1xyXG4gICAgICAgICAgICAgIG9uR29vZ2xlQ2xpY2s9e2hhbmRsZUdvb2dsZUxvZ2lufVxyXG4gICAgICAgICAgICAgIG9uQXBwbGVDbGljaz17aGFuZGxlQXBwbGVMb2dpbn1cclxuICAgICAgICAgICAgICBvbkZhY2Vib29rQ2xpY2s9e2hhbmRsZUZhY2Vib29rTG9naW59XHJcbiAgICAgICAgICAgICAgbG9hZGluZz17bG9hZGluZ31cclxuICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgIHsvKiBEaXZpc29yICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIG15LTZcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlci10IGJvcmRlci13aGl0ZS8xMFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleCBqdXN0aWZ5LWNlbnRlciB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJweC00IGJnLWJhY2tncm91bmQgdGV4dC13aGl0ZS82MFwiPlxyXG4gICAgICAgICAgICAgICAgICBvdSBjb250aW51ZSBjb20gZW1haWxcclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogRm9ybXVsw6FyaW8gRW1haWwvU2VuaGEgKi99XHJcbiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cImVtYWlsXCI+RW1haWw8L0xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICA8TWFpbCBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHctNSBoLTUgdGV4dC13aGl0ZS80MFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiZW1haWxcIlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJzZXVAZW1haWwuY29tXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGwtMTAgZ2xhc3MtZWZmZWN0IGJvcmRlci13aGl0ZS8xMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJwYXNzd29yZFwiPlNlbmhhPC9MYWJlbD5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgICAgICAgPExvY2sgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB3LTUgaC01IHRleHQtd2hpdGUvNDBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICBpZD1cInBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi4oCi4oCi4oCi4oCi4oCi4oCi4oCi4oCiXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmR9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQYXNzd29yZChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGwtMTAgZ2xhc3MtZWZmZWN0IGJvcmRlci13aGl0ZS8xMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICB7LyogQm90w6NvIGRlIFJlZW52aWFyIEVtYWlsIChhcGFyZWNlIHPDsyBzZSBlbWFpbCBuw6NvIGNvbmZpcm1hZG8pICovfVxyXG4gICAgICAgICAgICAgIHtzaG93UmVzZW5kQnV0dG9uICYmIChcclxuICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XHJcbiAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgaGVpZ2h0OiAwIH19XHJcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgaGVpZ2h0OiAnYXV0bycgfX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctb3JhbmdlLTUwMC8xMCBib3JkZXIgYm9yZGVyLW9yYW5nZS01MDAvMzAgcm91bmRlZC1sZyBwLTRcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8QWxlcnRDaXJjbGUgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LW9yYW5nZS00MDAgZmxleC1zaHJpbmstMCBtdC0wLjVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtb3JhbmdlLTIwMCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZvY8OqIGFpbmRhIG7Do28gY29uZmlybW91IHNldSBlbWFpbC4gQ2xpcXVlIG5vIGJvdMOjbyBhYmFpeG8gcGFyYSByZWNlYmVyIHVtIG5vdm8gbGluayBkZSBjb25maXJtYcOnw6NvLlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVzZW5kQ29uZmlybWF0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cmVzZW5kaW5nRW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLW9yYW5nZS01MDAvMjAgaG92ZXI6Ymctb3JhbmdlLTUwMC8zMCBib3JkZXItb3JhbmdlLTUwMC80MCB0ZXh0LW9yYW5nZS0yMDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVzZW5kaW5nRW1haWwgPyAnUmVlbnZpYW5kby4uLicgOiAn8J+TpyBSZWVudmlhciBlbWFpbCBkZSBjb25maXJtYcOnw6NvJ31cclxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cclxuICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAwIHRvLXBpbmstNTAwIGhvdmVyOmZyb20tcHVycGxlLTYwMCBob3Zlcjp0by1waW5rLTYwMCBoLTEyIHRleHQtYmFzZSBmb250LXNlbWlib2xkXCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7bG9hZGluZyA/ICdFbnRyYW5kby4uLicgOiAnRW50cmFyJ31cclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgPC9mb3JtPlxyXG5cclxuICAgICAgICAgICAgey8qIExpbmtzICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgc3BhY2UteS00XCI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC13aGl0ZS82MCB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICBOw6NvIHRlbSB1bWEgY29udGE/eycgJ31cclxuICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL3JlZ2lzdGVyXCIgY2xhc3NOYW1lPVwidGV4dC1wdXJwbGUtNDAwIGhvdmVyOnRleHQtcHVycGxlLTMwMCBmb250LXNlbWlib2xkXCI+XHJcbiAgICAgICAgICAgICAgICAgIENhZGFzdHJlLXNlXHJcbiAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtd2hpdGUvNjAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgw4kgdW0gcmVzdGF1cmFudGU/eycgJ31cclxuICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL3BhcnRuZXIvcmVnaXN0ZXJcIiBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS00MDAgaG92ZXI6dGV4dC1wdXJwbGUtMzAwIGZvbnQtc2VtaWJvbGRcIj5cclxuICAgICAgICAgICAgICAgICAgQ2FkYXN0cmUgc2V1IGVzdGFiZWxlY2ltZW50b1xyXG4gICAgICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC8+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IExvZ2luUGFnZTsiXSwidmVyc2lvbiI6M30=