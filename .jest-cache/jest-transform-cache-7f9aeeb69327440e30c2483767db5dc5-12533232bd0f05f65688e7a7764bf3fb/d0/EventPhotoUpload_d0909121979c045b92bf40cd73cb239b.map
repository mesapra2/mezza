{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\components\\events\\EventPhotoUpload.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\components\\events\\EventPhotoUpload.jsx"],"sourcesContent":["// src/features/shared/components/events/EventPhotosUpload.jsx\r\nimport { useState, useEffect, useRef, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Upload, Trash2, Loader, CheckCircle, Image as ImageIcon } from 'lucide-react';\r\nimport { Button } from '@/features/shared/components/ui/button';\r\nimport EventPhotosService from '@/services/EventPhotosService';\r\nimport { useToast } from '@/features/shared/components/ui/use-toast';\r\n\r\nconst EventPhotosUpload = ({ eventId, userId, isParticipant, eventStatus }) => {\r\n  const [uploading, setUploading] = useState(false);\r\n  const [userPhoto, setUserPhoto] = useState(null);\r\n  const [allPhotos, setAllPhotos] = useState([]);\r\n  const [stats, setStats] = useState(null);\r\n  const [deleting, setDeleting] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const fileInputRef = useRef(null);\r\n  const { toast } = useToast();\r\n\r\n  // Carregar foto do usu√°rio e estat√≠sticas\r\n  const loadData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Buscar foto do usu√°rio\r\n      const photo = await EventPhotosService.getUserPhotoForEvent(eventId, userId);\r\n      setUserPhoto(photo);\r\n\r\n      // Buscar todas as fotos do evento\r\n      const photos = await EventPhotosService.getEventPhotos(eventId);\r\n      setAllPhotos(photos || []);\r\n\r\n      // Buscar estat√≠sticas\r\n      const photoStats = await EventPhotosService.getPhotoStats(eventId);\r\n      setStats(photoStats);\r\n    } catch (error) {\r\n      console.error('Erro ao carregar dados:', error);\r\n      // N√£o mostrar toast de erro no carregamento inicial para n√£o incomodar o usu√°rio\r\n      setAllPhotos([]);\r\n      setStats(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [eventId, userId]);\r\n\r\n  useEffect(() => {\r\n    if (eventId && userId) {\r\n      loadData();\r\n    }\r\n  }, [eventId, userId, loadData]);\r\n\r\n  const handleFileSelect = async (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    // Valida√ß√£o de tipo\r\n    if (!file.type.startsWith('image/')) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Arquivo inv√°lido',\r\n        description: 'Por favor, selecione uma imagem (JPG, PNG ou WEBP)'\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Valida√ß√£o de tamanho (10MB antes do redimensionamento)\r\n    if (file.size > 10 * 1024 * 1024) {\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Arquivo muito grande',\r\n        description: 'O arquivo deve ter no m√°ximo 10MB'\r\n      });\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n\r\n    try {\r\n      const result = await EventPhotosService.uploadEventPhoto(eventId, userId, file);\r\n\r\n      if (result.success) {\r\n        toast({\r\n          title: 'üì∏ Foto enviada!',\r\n          description: 'Sua foto foi adicionada ao evento com sucesso'\r\n        });\r\n        await loadData(); // Recarregar dados\r\n      } else {\r\n        toast({\r\n          variant: 'destructive',\r\n          title: 'Erro ao enviar foto',\r\n          description: result.error || 'Tente novamente'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao fazer upload:', error);\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Erro ao enviar foto',\r\n        description: error.message || 'Ocorreu um erro inesperado'\r\n      });\r\n    } finally {\r\n      setUploading(false);\r\n      // Limpar input\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeletePhoto = async () => {\r\n    if (!userPhoto) return;\r\n\r\n    setDeleting(true);\r\n\r\n    try {\r\n      const success = await EventPhotosService.deleteEventPhoto(userPhoto.id, userId);\r\n\r\n      if (success) {\r\n        toast({\r\n          title: 'üóëÔ∏è Foto removida',\r\n          description: 'Voc√™ pode enviar outra foto se desejar'\r\n        });\r\n        await loadData();\r\n      } else {\r\n        toast({\r\n          variant: 'destructive',\r\n          title: 'Erro ao remover foto',\r\n          description: 'Tente novamente'\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao deletar:', error);\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Erro ao remover foto',\r\n        description: error.message || 'Ocorreu um erro inesperado'\r\n      });\r\n    } finally {\r\n      setDeleting(false);\r\n    }\r\n  };\r\n\r\n  // N√£o mostrar nada se n√£o for participante ou se o evento n√£o estiver finalizado\r\n  if (!isParticipant || eventStatus !== 'Finalizado') {\r\n    return null;\r\n  }\r\n\r\n  // Mostrar loading enquanto carrega\r\n  if (loading) {\r\n    return (\r\n      <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n        <div className=\"flex items-center justify-center py-12\">\r\n          <Loader className=\"w-8 h-8 text-purple-500 animate-spin\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n      <h2 className=\"text-xl font-semibold text-white mb-4 flex items-center gap-2\">\r\n        <ImageIcon className=\"w-5 h-5\" />\r\n        üì∏ Fotos do Evento\r\n      </h2>\r\n\r\n      {/* Estat√≠sticas */}\r\n      {stats && (\r\n        <div className=\"mb-6 p-4 bg-purple-500/10 border border-purple-500/20 rounded-lg\">\r\n          <p className=\"text-sm text-purple-300\">\r\n            {stats.totalPhotos} de {stats.totalParticipants} participantes enviaram fotos\r\n            {stats.percentageWithPhotos !== undefined && ` (${stats.percentageWithPhotos}%)`}\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* √Årea de Upload / Foto do Usu√°rio */}\r\n      <div className=\"mb-6\">\r\n        {userPhoto ? (\r\n          // Mostrar foto enviada\r\n          <div className=\"relative\">\r\n            <div className=\"relative rounded-lg overflow-hidden border-2 border-green-500/30\">\r\n              <img\r\n                src={userPhoto.photo_url}\r\n                alt=\"Sua foto do evento\"\r\n                className=\"w-full h-64 object-cover\"\r\n              />\r\n              <div className=\"absolute top-2 right-2 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1\">\r\n                <CheckCircle className=\"w-3 h-3\" />\r\n                Enviada\r\n              </div>\r\n            </div>\r\n            \r\n            <Button\r\n              variant=\"destructive\"\r\n              size=\"sm\"\r\n              onClick={handleDeletePhoto}\r\n              disabled={deleting}\r\n              className=\"mt-3 w-full\"\r\n            >\r\n              {deleting ? (\r\n                <>\r\n                  <Loader className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                  Removendo...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\r\n                  Remover Foto\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          // Mostrar √°rea de upload\r\n          <div>\r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              accept=\"image/jpeg,image/png,image/webp\"\r\n              onChange={handleFileSelect}\r\n              className=\"hidden\"\r\n              disabled={uploading}\r\n            />\r\n            \r\n            <button\r\n              onClick={() => fileInputRef.current?.click()}\r\n              disabled={uploading}\r\n              className=\"w-full border-2 border-dashed border-white/20 hover:border-purple-500/50 rounded-lg p-8 transition-all duration-300 hover:bg-purple-500/5 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {uploading ? (\r\n                <div className=\"flex flex-col items-center gap-3\">\r\n                  <Loader className=\"w-10 h-10 text-purple-500 animate-spin\" />\r\n                  <p className=\"text-sm text-white/70\">\r\n                    Processando e enviando foto...\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex flex-col items-center gap-3\">\r\n                  <Upload className=\"w-10 h-10 text-white/40\" />\r\n                  <div>\r\n                    <p className=\"text-white font-medium mb-1\">\r\n                      Clique para enviar sua foto\r\n                    </p>\r\n                    <p className=\"text-sm text-white/60\">\r\n                      JPG, PNG ou WEBP (m√°x. 2MB ap√≥s redimensionamento)\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </button>\r\n\r\n            <p className=\"text-xs text-white/50 mt-3 text-center\">\r\n              üí° Imagens grandes ser√£o redimensionadas automaticamente\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Galeria de Fotos de Todos os Participantes */}\r\n      {allPhotos.length > 0 && (\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold text-white mb-4\">\r\n            Galeria do Evento ({allPhotos.length})\r\n          </h3>\r\n          \r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3\">\r\n            {allPhotos.map((photo) => (\r\n              <div key={photo.id} className=\"relative group\">\r\n                <div className=\"aspect-square rounded-lg overflow-hidden border border-white/10\">\r\n                  <img\r\n                    src={photo.photo_url}\r\n                    alt={`Foto de ${photo.user?.username || 'Participante'}`}\r\n                    className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300\"\r\n                  />\r\n                </div>\r\n                \r\n                {/* Overlay com nome do usu√°rio */}\r\n                <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-2 rounded-lg\">\r\n                  <p className=\"text-white text-xs font-medium truncate\">\r\n                    {photo.user?.username || photo.user?.full_name || 'Participante'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Mensagem quando ningu√©m enviou fotos ainda */}\r\n      {allPhotos.length === 0 && !userPhoto && (\r\n        <div className=\"text-center py-8 text-white/50\">\r\n          <ImageIcon className=\"w-12 h-12 mx-auto mb-3 opacity-30\" />\r\n          <p className=\"text-sm\">\r\n            Seja o primeiro a compartilhar uma foto deste evento!\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nEventPhotosUpload.propTypes = {\r\n  eventId: PropTypes.number.isRequired,\r\n  userId: PropTypes.string.isRequired,\r\n  isParticipant: PropTypes.bool.isRequired,\r\n  eventStatus: PropTypes.string.isRequired\r\n};\r\n\r\nexport default EventPhotosUpload;"],"version":3}