1a35a97e34b0432a2039b533ee428cb3
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
// src/features/user/pages/CreateEventParticular.jsx (Corrigido)
const react_1 = require("react");
const react_helmet_async_1 = require("react-helmet-async");
const react_router_dom_1 = require("react-router-dom");
const framer_motion_1 = require("framer-motion");
const lucide_react_1 = require("lucide-react");
const AuthContext_1 = require("@/contexts/AuthContext");
const button_1 = require("@/features/shared/components/ui/button");
const input_1 = require("@/features/shared/components/ui/input");
const label_1 = require("@/features/shared/components/ui/label");
const textarea_1 = require("@/features/shared/components/ui/textarea");
const use_toast_1 = require("@/features/shared/components/ui/use-toast");
const supabaseClient_1 = require("@/lib/supabaseClient");
const EventHashtagSelector_1 = tslib_1.__importDefault(require("@/features/shared/components/events/EventHashtagSelector")); //
const CreateEventParticular = () => {
    const { user } = (0, AuthContext_1.useAuth)();
    const navigate = (0, react_router_dom_1.useNavigate)();
    const [loading, setLoading] = (0, react_1.useState)(false);
    const [showHashtagError, setShowHashtagError] = (0, react_1.useState)(false); //
    const [formData, setFormData] = (0, react_1.useState)({
        title: '',
        description: '',
        hashtags: [],
        cep: '',
        endereco_completo: '',
        start_time: '',
        end_time: '',
        vagas: 2,
        acceptedTerms: false,
    });
    const handleChange = (e) => {
        const { name, value, type, checked } = e.target;
        setFormData({
            ...formData,
            [name]: type === 'checkbox' ? checked : value,
        });
    };
    const handleHashtagsChange = (newHashtags) => {
        setFormData({ ...formData, hashtags: newHashtags });
        setShowHashtagError(false);
    };
    const handleSubmit = async (e) => {
        e.preventDefault();
        setLoading(true);
        try {
            // Validação dos termos
            if (!formData.acceptedTerms) {
                throw new Error('Você precisa concordar com os Termos de Uso e Políticas');
            }
            // Validações
            if (new Date(formData.start_time) >= new Date(formData.end_time)) {
                throw new Error('A data de término deve ser depois da data de início');
            }
            if (formData.vagas < 1 || formData.vagas > 3) {
                throw new Error('O número de vagas deve estar entre 1 e 3');
            }
            // Valida CEP
            if (!formData.cep || formData.cep.length < 8) {
                throw new Error('Informe um CEP válido');
            }
            // Valida endereço
            if (!formData.endereco_completo || formData.endereco_completo.trim().length < 10) {
                throw new Error('Informe o endereço completo');
            }
            // Valida hashtags (1 premium obrigatória)
            const hasPremium = formData.hashtags.some(tag => ['aniversário', 'confraternização', 'churrascompiscina', 'passeiodelancha', 'cinema'].includes(tag.toLowerCase()));
            if (!hasPremium) {
                setShowHashtagError(true);
                throw new Error('Selecione pelo menos uma hashtag premium');
            }
            // Prepara dados do evento
            const eventData = {
                creator_id: user.id,
                event_type: 'particular',
                title: formData.title,
                description: formData.description,
                hashtags: formData.hashtags,
                cep: formData.cep,
                endereco_completo: formData.endereco_completo,
                start_time: formData.start_time,
                end_time: formData.end_time,
                vagas: formData.vagas,
                max_vagas: formData.vagas,
                status: 'Aberto',
            };
            // Insere o evento no Supabase
            const { error } = await supabaseClient_1.supabase
                .from('events')
                .insert([eventData]);
            if (error)
                throw error;
            (0, use_toast_1.toast)({
                title: 'Evento Particular criado!',
                description: 'Seu evento foi criado com sucesso.',
            });
            navigate('/meus-eventos');
        }
        catch (error) {
            console.error('❌ Erro ao criar evento particular:', error);
            (0, use_toast_1.toast)({
                variant: 'destructive',
                title: 'Erro ao criar evento',
                description: error.message,
            });
        }
        finally {
            setLoading(false);
        }
    };
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)(react_helmet_async_1.Helmet, { children: [(0, jsx_runtime_1.jsx)("title", { children: "Criar Evento Particular - Mesapra2" }), (0, jsx_runtime_1.jsx)("meta", { name: "description", content: "Crie um evento particular premium." })] }), (0, jsx_runtime_1.jsx)("div", { className: "min-h-screen bg-background text-foreground p-4", children: (0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, className: "max-w-2xl mx-auto space-y-8", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4", children: [(0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "ghost", onClick: () => navigate(-1), className: "text-white/70 hover:text-white", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ArrowLeft, { className: "w-5 h-5 mr-2" }), "Voltar"] }), (0, jsx_runtime_1.jsx)("h1", { className: "text-3xl font-bold gradient-text", children: "Criar Evento Particular" })] }), (0, jsx_runtime_1.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "title", children: "T\u00EDtulo do Evento" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "title", name: "title", value: formData.title, onChange: handleChange, className: "glass-effect border-white/10", required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "description", children: "Descri\u00E7\u00E3o" }), (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { id: "description", name: "description", value: formData.description, onChange: handleChange, className: "glass-effect border-white/10 min-h-[120px]", required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { children: "Hashtags" }), (0, jsx_runtime_1.jsx)(EventHashtagSelector_1.default, { eventType: "particular", selectedHashtags: formData.hashtags, onChange: handleHashtagsChange, showError: showHashtagError }), showHashtagError && ((0, jsx_runtime_1.jsx)("p", { className: "text-red-300 text-sm", children: "Selecione pelo menos uma hashtag premium" }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "cep", children: "CEP" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "cep", name: "cep", value: formData.cep, onChange: handleChange, className: "glass-effect border-white/10", required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "endereco_completo", children: "Endere\u00E7o Completo" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "endereco_completo", name: "endereco_completo", value: formData.endereco_completo, onChange: handleChange, className: "glass-effect border-white/10", required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "start_time", children: "Data e Hora de In\u00EDcio" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "start_time", name: "start_time", type: "datetime-local", value: formData.start_time, onChange: handleChange, className: "glass-effect border-white/10", required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "end_time", children: "Data e Hora de T\u00E9rmino" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "end_time", name: "end_time", type: "datetime-local", value: formData.end_time, onChange: handleChange, className: "glass-effect border-white/10", required: true })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "vagas", children: "N\u00FAmero de Vagas (1-3)" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "vagas", name: "vagas", type: "number", min: "1", max: "3", value: formData.vagas, onChange: handleChange, className: "glass-effect border-white/10", required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-3 glass-effect rounded-lg p-4 border border-white/10", children: [(0, jsx_runtime_1.jsx)("input", { type: "checkbox", id: "acceptedTerms", name: "acceptedTerms", checked: formData.acceptedTerms, onChange: handleChange, className: "mt-1", required: true }), (0, jsx_runtime_1.jsxs)("label", { htmlFor: "acceptedTerms", className: "text-sm text-white/80", children: ["Concordo com os", ' ', (0, jsx_runtime_1.jsx)("a", { href: "#", className: "text-purple-400 hover:underline", children: "Termos de Uso" }), ' ', "e", ' ', (0, jsx_runtime_1.jsx)("a", { href: "#", className: "text-purple-400 hover:underline", children: "Pol\u00EDticas de Cancelamento" })] })] }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "submit", disabled: loading, className: "w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 h-12 text-base font-semibold", children: loading ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Loader, { className: "w-5 h-5 mr-2 animate-spin" }), "Criando Evento..."] })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "w-5 h-5 mr-2" }), "Criar Evento Particular"] })) })] })] }) })] }));
};
exports.default = CreateEventParticular;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xcdXNlclxccGFnZXNcXENyZWF0ZUV2ZW50UGFydGljdWxhci5qc3giLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGdFQUFnRTtBQUNoRSxpQ0FBaUM7QUFDakMsMkRBQTRDO0FBQzVDLHVEQUErQztBQUMvQyxpREFBdUM7QUFDdkMsK0NBQTJEO0FBQzNELHdEQUFpRDtBQUNqRCxtRUFBZ0U7QUFDaEUsaUVBQThEO0FBQzlELGlFQUE4RDtBQUM5RCx1RUFBb0U7QUFDcEUseUVBQWtFO0FBQ2xFLHlEQUFnRDtBQUNoRCw0SEFBNEYsQ0FBQyxFQUFFO0FBRS9GLE1BQU0scUJBQXFCLEdBQUcsR0FBRyxFQUFFO0lBQ2pDLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFBLHFCQUFPLEdBQUUsQ0FBQztJQUMzQixNQUFNLFFBQVEsR0FBRyxJQUFBLDhCQUFXLEdBQUUsQ0FBQztJQUMvQixNQUFNLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUM5QyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsbUJBQW1CLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBRW5FLE1BQU0sQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDO1FBQ3ZDLEtBQUssRUFBRSxFQUFFO1FBQ1QsV0FBVyxFQUFFLEVBQUU7UUFDZixRQUFRLEVBQUUsRUFBRTtRQUNaLEdBQUcsRUFBRSxFQUFFO1FBQ1AsaUJBQWlCLEVBQUUsRUFBRTtRQUNyQixVQUFVLEVBQUUsRUFBRTtRQUNkLFFBQVEsRUFBRSxFQUFFO1FBQ1osS0FBSyxFQUFFLENBQUM7UUFDUixhQUFhLEVBQUUsS0FBSztLQUNyQixDQUFDLENBQUM7SUFFSCxNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFO1FBQ3pCLE1BQU0sRUFBRSxJ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QUFDLGVBQU0sSUFDTCxJQUFJLEVBQUMsUUFBUSxFQUNiLFFBQVEsRUFBRSxPQUFPLEVBQ2pCLFNBQVMsRUFBQywwSEFBMEgsWUFFbkksT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUNULDZEQUNFLHVCQUFDLHFCQUFNLElBQUMsU0FBUyxFQUFDLDJCQUEyQixHQUFHLHlCQUUvQyxDQUNKLENBQUMsQ0FBQyxDQUFDLENBQ0YsNkRBQ0UsdUJBQUMsdUJBQVEsSUFBQyxTQUFTLEVBQUMsY0FBYyxHQUFHLCtCQUVwQyxDQUNKLEdBQ00sSUFDSixJQUNJLEdBQ1QsSUFDTCxDQUNKLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixrQkFBZSxxQkFBcUIsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJDOlxcREVWTWl4XFxBcHAuTWVzYXByYTIuY29tXFxzcmNcXGZlYXR1cmVzXFx1c2VyXFxwYWdlc1xcQ3JlYXRlRXZlbnRQYXJ0aWN1bGFyLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvZmVhdHVyZXMvdXNlci9wYWdlcy9DcmVhdGVFdmVudFBhcnRpY3VsYXIuanN4IChDb3JyaWdpZG8pXHJcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBIZWxtZXQgfSBmcm9tICdyZWFjdC1oZWxtZXQtYXN5bmMnO1xyXG5pbXBvcnQgeyB1c2VOYXZpZ2F0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcclxuaW1wb3J0IHsgQ2FsZW5kYXIsIExvYWRlciwgQXJyb3dMZWZ0IH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcclxuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL2J1dHRvbic7XHJcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy91aS9pbnB1dCc7XHJcbmltcG9ydCB7IExhYmVsIH0gZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy91aS9sYWJlbCc7XHJcbmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy91aS90ZXh0YXJlYSc7XHJcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy91aS91c2UtdG9hc3QnO1xyXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlQ2xpZW50JztcclxuaW1wb3J0IEV2ZW50SGFzaHRhZ1NlbGVjdG9yIGZyb20gJ0AvZmVhdHVyZXMvc2hhcmVkL2NvbXBvbmVudHMvZXZlbnRzL0V2ZW50SGFzaHRhZ1NlbGVjdG9yJzsgLy9cclxuXHJcbmNvbnN0IENyZWF0ZUV2ZW50UGFydGljdWxhciA9ICgpID0+IHtcclxuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcclxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtzaG93SGFzaHRhZ0Vycm9yLCBzZXRTaG93SGFzaHRhZ0Vycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTsgLy9cclxuICBcclxuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlKHtcclxuICAgIHRpdGxlOiAnJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnJyxcclxuICAgIGhhc2h0YWdzOiBbXSxcclxuICAgIGNlcDogJycsXHJcbiAgICBlbmRlcmVjb19jb21wbGV0bzogJycsXHJcbiAgICBzdGFydF90aW1lOiAnJyxcclxuICAgIGVuZF90aW1lOiAnJyxcclxuICAgIHZhZ2FzOiAyLFxyXG4gICAgYWNjZXB0ZWRUZXJtczogZmFsc2UsXHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChlKSA9PiB7XHJcbiAgICBjb25zdCB7IG5hbWUsIHZhbHVlLCB0eXBlLCBjaGVja2VkIH0gPSBlLnRhcmdldDtcclxuICAgIHNldEZvcm1EYXRhKHtcclxuICAgICAgLi4uZm9ybURhdGEsXHJcbiAgICAgIFtuYW1lXTogdHlwZSA9PT0gJ2NoZWNrYm94JyA/IGNoZWNrZWQgOiB2YWx1ZSxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUhhc2h0YWdzQ2hhbmdlID0gKG5ld0hhc2h0YWdzKSA9PiB7XHJcbiAgICBzZXRGb3JtRGF0YSh7IC4uLmZvcm1EYXRhLCBoYXNodGFnczogbmV3SGFzaHRhZ3MgfSk7XHJcbiAgICBzZXRTaG93SGFzaHRhZ0Vycm9yKGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoZSkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBWYWxpZGHDp8OjbyBkb3MgdGVybW9zXHJcbiAgICAgIGlmICghZm9ybURhdGEuYWNjZXB0ZWRUZXJtcykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVm9jw6ogcHJlY2lzYSBjb25jb3JkYXIgY29tIG9zIFRlcm1vcyBkZSBVc28gZSBQb2zDrXRpY2FzJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFZhbGlkYcOnw7Vlc1xyXG4gICAgICBpZiAobmV3IERhdGUoZm9ybURhdGEuc3RhcnRfdGltZSkgPj0gbmV3IERhdGUoZm9ybURhdGEuZW5kX3RpbWUpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIGRhdGEgZGUgdMOpcm1pbm8gZGV2ZSBzZXIgZGVwb2lzIGRhIGRhdGEgZGUgaW7DrWNpbycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZm9ybURhdGEudmFnYXMgPCAxIHx8IGZvcm1EYXRhLnZhZ2FzID4gMykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTyBuw7ptZXJvIGRlIHZhZ2FzIGRldmUgZXN0YXIgZW50cmUgMSBlIDMnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVmFsaWRhIENFUFxyXG4gICAgICBpZiAoIWZvcm1EYXRhLmNlcCB8fCBmb3JtRGF0YS5jZXAubGVuZ3RoIDwgOCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW5mb3JtZSB1bSBDRVAgdsOhbGlkbycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBWYWxpZGEgZW5kZXJlw6dvXHJcbiAgICAgIGlmICghZm9ybURhdGEuZW5kZXJlY29fY29tcGxldG8gfHwgZm9ybURhdGEuZW5kZXJlY29fY29tcGxldG8udHJpbSgpLmxlbmd0aCA8IDEwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZvcm1lIG8gZW5kZXJlw6dvIGNvbXBsZXRvJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFZhbGlkYSBoYXNodGFncyAoMSBwcmVtaXVtIG9icmlnYXTDs3JpYSlcclxuICAgICAgY29uc3QgaGFzUHJlbWl1bSA9IGZvcm1EYXRhLmhhc2h0YWdzLnNvbWUodGFnID0+IFxyXG4gICAgICAgIFsnYW5pdmVyc8OhcmlvJywgJ2NvbmZyYXRlcm5pemHDp8OjbycsICdjaHVycmFzY29tcGlzY2luYScsICdwYXNzZWlvZGVsYW5jaGEnLCAnY2luZW1hJ10uaW5jbHVkZXModGFnLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoIWhhc1ByZW1pdW0pIHtcclxuICAgICAgICBzZXRTaG93SGFzaHRhZ0Vycm9yKHRydWUpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2VsZWNpb25lIHBlbG8gbWVub3MgdW1hIGhhc2h0YWcgcHJlbWl1bScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcmVwYXJhIGRhZG9zIGRvIGV2ZW50b1xyXG4gICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgY3JlYXRvcl9pZDogdXNlci5pZCxcclxuICAgICAgICBldmVudF90eXBlOiAncGFydGljdWxhcicsXHJcbiAgICAgICAgdGl0bGU6IGZvcm1EYXRhLnRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBmb3JtRGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICBoYXNodGFnczogZm9ybURhdGEuaGFzaHRhZ3MsXHJcbiAgICAgICAgY2VwOiBmb3JtRGF0YS5jZXAsXHJcbiAgICAgICAgZW5kZXJlY29fY29tcGxldG86IGZvcm1EYXRhLmVuZGVyZWNvX2NvbXBsZXRvLFxyXG4gICAgICAgIHN0YXJ0X3RpbWU6IGZvcm1EYXRhLnN0YXJ0X3RpbWUsXHJcbiAgICAgICAgZW5kX3RpbWU6IGZvcm1EYXRhLmVuZF90aW1lLFxyXG4gICAgICAgIHZhZ2FzOiBmb3JtRGF0YS52YWdhcyxcclxuICAgICAgICBtYXhfdmFnYXM6IGZvcm1EYXRhLnZhZ2FzLFxyXG4gICAgICAgIHN0YXR1czogJ0FiZXJ0bycsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBJbnNlcmUgbyBldmVudG8gbm8gU3VwYWJhc2VcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnZXZlbnRzJylcclxuICAgICAgICAuaW5zZXJ0KFtldmVudERhdGFdKTtcclxuXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcblxyXG4gICAgICB0b2FzdCh7XHJcbiAgICAgICAgdGl0bGU6ICdFdmVudG8gUGFydGljdWxhciBjcmlhZG8hJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NldSBldmVudG8gZm9pIGNyaWFkbyBjb20gc3VjZXNzby4nLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIG5hdmlnYXRlKCcvbWV1cy1ldmVudG9zJyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJybyBhbyBjcmlhciBldmVudG8gcGFydGljdWxhcjonLCBlcnJvcik7XHJcbiAgICAgIHRvYXN0KHtcclxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxyXG4gICAgICAgIHRpdGxlOiAnRXJybyBhbyBjcmlhciBldmVudG8nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICB9KTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8SGVsbWV0PlxyXG4gICAgICAgIDx0aXRsZT5DcmlhciBFdmVudG8gUGFydGljdWxhciAtIE1lc2FwcmEyPC90aXRsZT5cclxuICAgICAgICA8bWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwiQ3JpZSB1bSBldmVudG8gcGFydGljdWxhciBwcmVtaXVtLlwiIC8+XHJcbiAgICAgIDwvSGVsbWV0PlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctYmFja2dyb3VuZCB0ZXh0LWZvcmVncm91bmQgcC00XCI+XHJcbiAgICAgICAgPG1vdGlvbi5kaXZcclxuICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogMjAgfX1cclxuICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG8gc3BhY2UteS04XCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XHJcbiAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlKC0xKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwIGhvdmVyOnRleHQtd2hpdGVcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiAvPlxyXG4gICAgICAgICAgICAgIFZvbHRhclxyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCBncmFkaWVudC10ZXh0XCI+XHJcbiAgICAgICAgICAgICAgQ3JpYXIgRXZlbnRvIFBhcnRpY3VsYXJcclxuICAgICAgICAgICAgPC9oMT5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxyXG4gICAgICAgICAgICB7LyogVMOtdHVsbyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cInRpdGxlXCI+VMOtdHVsbyBkbyBFdmVudG88L0xhYmVsPlxyXG4gICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJ0aXRsZVwiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwidGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnRpdGxlfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCBib3JkZXItd2hpdGUvMTBcIlxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBEZXNjcmnDp8OjbyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cImRlc2NyaXB0aW9uXCI+RGVzY3Jpw6fDo288L0xhYmVsPlxyXG4gICAgICAgICAgICAgIDxUZXh0YXJlYVxyXG4gICAgICAgICAgICAgICAgaWQ9XCJkZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCBib3JkZXItd2hpdGUvMTAgbWluLWgtWzEyMHB4XVwiXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgey8qIEhhc2h0YWdzICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgIDxMYWJlbD5IYXNodGFnczwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgey8qIENPUlJFw4fDg08gRE8gQlVHIEFRVUk6XHJcbiAgICAgICAgICAgICAgICAxLiBNdWRhciAndmFsdWUnIHBhcmEgJ3NlbGVjdGVkSGFzaHRhZ3MnXHJcbiAgICAgICAgICAgICAgICAyLiBBZGljaW9uYXIgJ2V2ZW50VHlwZT1cInBhcnRpY3VsYXJcIidcclxuICAgICAgICAgICAgICAgIDMuIEFkaWNpb25hciAnc2hvd0Vycm9yPXtzaG93SGFzaHRhZ0Vycm9yfSdcclxuICAgICAgICAgICAgICAqL31cclxuICAgICAgICAgICAgICA8RXZlbnRIYXNodGFnU2VsZWN0b3JcclxuICAgICAgICAgICAgICAgIGV2ZW50VHlwZT1cInBhcnRpY3VsYXJcIlxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRIYXNodGFncz17Zm9ybURhdGEuaGFzaHRhZ3N9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlSGFzaHRhZ3NDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBzaG93RXJyb3I9e3Nob3dIYXNodGFnRXJyb3J9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICB7c2hvd0hhc2h0YWdFcnJvciAmJiAoXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC0zMDAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICBTZWxlY2lvbmUgcGVsbyBtZW5vcyB1bWEgaGFzaHRhZyBwcmVtaXVtXHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogRW5kZXJlw6dvICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwiY2VwXCI+Q0VQPC9MYWJlbD5cclxuICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgIGlkPVwiY2VwXCJcclxuICAgICAgICAgICAgICAgIG5hbWU9XCJjZXBcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmNlcH1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3QgYm9yZGVyLXdoaXRlLzEwXCJcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwiZW5kZXJlY29fY29tcGxldG9cIj5FbmRlcmXDp28gQ29tcGxldG88L0xhYmVsPlxyXG4gICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJlbmRlcmVjb19jb21wbGV0b1wiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwiZW5kZXJlY29fY29tcGxldG9cIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmVuZGVyZWNvX2NvbXBsZXRvfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCBib3JkZXItd2hpdGUvMTBcIlxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBEYXRhIGUgSG9yYSAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC02XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwic3RhcnRfdGltZVwiPkRhdGEgZSBIb3JhIGRlIEluw61jaW88L0xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICAgIGlkPVwic3RhcnRfdGltZVwiXHJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJzdGFydF90aW1lXCJcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCJcclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnN0YXJ0X3RpbWV9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCBib3JkZXItd2hpdGUvMTBcIlxyXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwiZW5kX3RpbWVcIj5EYXRhIGUgSG9yYSBkZSBUw6lybWlubzwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgaWQ9XCJlbmRfdGltZVwiXHJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJlbmRfdGltZVwiXHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRldGltZS1sb2NhbFwiXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5lbmRfdGltZX1cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IGJvcmRlci13aGl0ZS8xMFwiXHJcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBWYWdhcyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cInZhZ2FzXCI+TsO6bWVybyBkZSBWYWdhcyAoMS0zKTwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICBpZD1cInZhZ2FzXCJcclxuICAgICAgICAgICAgICAgIG5hbWU9XCJ2YWdhc1wiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgIG1pbj1cIjFcIlxyXG4gICAgICAgICAgICAgICAgbWF4PVwiM1wiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEudmFnYXN9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IGJvcmRlci13aGl0ZS8xMFwiXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgey8qIFRlcm1vcyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zIGdsYXNzLWVmZmVjdCByb3VuZGVkLWxnIHAtNCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwXCI+XHJcbiAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgaWQ9XCJhY2NlcHRlZFRlcm1zXCJcclxuICAgICAgICAgICAgICAgIG5hbWU9XCJhY2NlcHRlZFRlcm1zXCJcclxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2Zvcm1EYXRhLmFjY2VwdGVkVGVybXN9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMVwiXHJcbiAgICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJhY2NlcHRlZFRlcm1zXCIgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXdoaXRlLzgwXCI+XHJcbiAgICAgICAgICAgICAgICBDb25jb3JkbyBjb20gb3N7JyAnfVxyXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS00MDAgaG92ZXI6dW5kZXJsaW5lXCI+XHJcbiAgICAgICAgICAgICAgICAgIFRlcm1vcyBkZSBVc29cclxuICAgICAgICAgICAgICAgIDwvYT57JyAnfVxyXG4gICAgICAgICAgICAgICAgZXsnICd9XHJcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cInRleHQtcHVycGxlLTQwMCBob3Zlcjp1bmRlcmxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgUG9sw610aWNhcyBkZSBDYW5jZWxhbWVudG9cclxuICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBCb3TDo28gU3VibWl0ICovfVxyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAwIHRvLXBpbmstNTAwIGhvdmVyOmZyb20tcHVycGxlLTYwMCBob3Zlcjp0by1waW5rLTYwMCBoLTEyIHRleHQtYmFzZSBmb250LXNlbWlib2xkXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtsb2FkaW5nID8gKFxyXG4gICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgPExvYWRlciBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTIgYW5pbWF0ZS1zcGluXCIgLz5cclxuICAgICAgICAgICAgICAgICAgQ3JpYW5kbyBFdmVudG8uLi5cclxuICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICA8Q2FsZW5kYXIgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgQ3JpYXIgRXZlbnRvIFBhcnRpY3VsYXJcclxuICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvbW90aW9uLmRpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8Lz5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ3JlYXRlRXZlbnRQYXJ0aWN1bGFyOyJdLCJ2ZXJzaW9uIjozfQ==