{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\pages\\NotificationsPage.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\pages\\NotificationsPage.jsx"],"sourcesContent":["// src/features/shared/pages/NotificationsPage.jsx (Corrigido)\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { motion } from 'framer-motion';\r\nimport { Bell, Check, X, UserPlus, Calendar, AlertCircle, Trash2, Hand } from 'lucide-react'; // 1. Adicionado 'Hand'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Button } from '@/features/shared/components/ui/button';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport NotificationService from '@/services/NotificationService';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\n\r\nconst NotificationsPage = () => {\r\n  const { user } = useAuth();\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [pokes, setPokes] = useState([]); // 2. Adicionado estado para 'pokes'\r\n  const [loading, setLoading] = useState(true);\r\n  const [filter, setFilter] = useState('todas'); // todas, n√£o_lidas\r\n  const navigate = useNavigate();\r\n\r\n  // ... (loadNotifications continua igual)\r\n  const loadNotifications = useCallback(async () => {\r\n    if (!user) return;\r\n    try {\r\n      const { data: notificationsData, error: notifError } = await supabase\r\n        .from('notifications')\r\n        .select('*')\r\n        .eq('user_id', user.id)\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (notifError) throw notifError;\r\n\r\n      const notificationsWithUsers = await Promise.all(\r\n        (notificationsData || []).map(async (notif) => {\r\n          if (notif.participation_id) {\r\n            const { data: participationData } = await supabase\r\n              .from('event_participants')\r\n              .select(`\r\n                id,\r\n                user_id,\r\n                profiles!event_participants_user_id_fkey(\r\n                  id,\r\n                  username,\r\n                  avatar_url\r\n                )\r\n              `)\r\n              .eq('id', notif.participation_id)\r\n              .single();\r\n\r\n            return {\r\n              ...notif,\r\n              participation: participationData ? {\r\n                id: participationData.id,\r\n                user: participationData.profiles\r\n              } : null\r\n            };\r\n          }\r\n          return notif;\r\n        })\r\n      );\r\n\r\n      setNotifications(notificationsWithUsers);\r\n    } catch (error) {\r\n      console.error('‚ùå Erro ao carregar notifica√ß√µes:', error);\r\n      setNotifications([]);\r\n    }\r\n  }, [user]);\r\n\r\n  // ... (loadPokes continua igual, copiado do dropdown)\r\n  const loadPokes = useCallback(async () => {\r\n    if (!user) return;\r\n    try {\r\n      const { data: pokesData, error: pokesError } = await supabase\r\n        .from('pokes')\r\n        .select(`\r\n          id,\r\n          from_user_id,\r\n          created_at,\r\n          read,\r\n          profiles!pokes_from_user_id_fkey(\r\n            id,\r\n            username,\r\n            full_name,\r\n            avatar_url\r\n          )\r\n        `)\r\n        .eq('to_user_id', user.id)\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (pokesError) throw pokesError;\r\n      setPokes(pokesData || []);\r\n    } catch (error) {\r\n      console.error('‚ùå Erro ao carregar toks:', error); // MUDAN√áA\r\n      setPokes([]);\r\n    }\r\n  }, [user]);\r\n\r\n  // ... (useEffect continua igual)\r\n  useEffect(() => {\r\n    if (user) {\r\n      setLoading(true);\r\n      Promise.all([\r\n        loadNotifications(),\r\n        loadPokes()\r\n      ]).finally(() => setLoading(false));\r\n\r\n      // Subscri√ß√£o para Notifica√ß√µes\r\n      const notifChannel = supabase\r\n        .channel('notifications-page')\r\n        .on(\r\n          'postgres_changes',\r\n          { event: 'INSERT', schema: 'public', table: 'notifications', filter: `user_id=eq.${user.id}` },\r\n          () => loadNotifications()\r\n        )\r\n        .on(\r\n          'postgres_changes',\r\n          { event: 'UPDATE', schema: 'public', table: 'notifications', filter: `user_id=eq.${user.id}` },\r\n          () => loadNotifications()\r\n        )\r\n        .subscribe();\r\n\r\n      // Subscri√ß√£o para Pokes\r\n      const pokesChannel = supabase\r\n        .channel('pokes-page')\r\n        .on(\r\n          'postgres_changes',\r\n          { event: 'INSERT', schema: 'public', table: 'pokes', filter: `to_user_id=eq.${user.id}` },\r\n          () => loadPokes()\r\n        )\r\n        .on(\r\n          'postgres_changes',\r\n          { event: 'UPDATE', schema: 'public', table: 'pokes', filter: `to_user_id=eq.${user.id}` },\r\n          () => loadPokes()\r\n        )\r\n        .subscribe();\r\n\r\n      return () => {\r\n        supabase.removeChannel(notifChannel);\r\n        supabase.removeChannel(pokesChannel);\r\n      };\r\n    }\r\n  }, [user, loadNotifications, loadPokes]);\r\n\r\n\r\n  const handleMarkAsRead = async (item) => {\r\n    if (item.type === 'poke') {\r\n      await supabase.from('pokes').update({ read: true }).eq('id', item.id);\r\n      loadPokes();\r\n    } else {\r\n      await NotificationService.markAsRead(item.id);\r\n      loadNotifications();\r\n    }\r\n  };\r\n\r\n  const handleMarkAllAsRead = async () => {\r\n    await NotificationService.markAllAsRead(user.id);\r\n    await supabase.from('pokes').update({ read: true }).eq('to_user_id', user.id).eq('read', false);\r\n    loadNotifications();\r\n    loadPokes();\r\n  };\r\n\r\n  const handleDelete = async (item) => {\r\n    if (!confirm('Deseja realmente excluir esta notifica√ß√£o?')) return;\r\n    \r\n    if (item.type === 'poke') {\r\n      await supabase.from('pokes').delete().eq('id', item.id);\r\n      loadPokes();\r\n    } else {\r\n      await NotificationService.delete(item.id);\r\n      loadNotifications();\r\n    }\r\n  };\r\n\r\n  const handlePokeClick = async (poke) => {\r\n    await supabase.from('pokes').update({ read: true }).eq('id', poke.id);\r\n    loadPokes();\r\n    navigate(`/profile/${poke.from_user_id}`);\r\n  };\r\n\r\n  const handleNotificationClick = async (notification) => {\r\n    await NotificationService.markAsRead(notification.id);\r\n    loadNotifications();\r\n    \r\n    if (notification.event_id) {\r\n      navigate(`/meus-eventos`);\r\n    }\r\n  };\r\n\r\n  const getNotificationIcon = (type) => {\r\n    const icons = {\r\n      // 3. MUDAN√áA: Chaves atualizadas para Portugu√™s\r\n      'Candidatura Recebida': UserPlus, // Antes: participation_request\r\n      'Candidatura Aprovada': Check, // Antes: participation_approved\r\n      'Candidatura Rejeitada': X, // Antes: participation_rejected\r\n      'Novo Evento': Bell, // (Adicionado)\r\n      event_cancelled: AlertCircle,\r\n      event_confirmed: Calendar,\r\n      event_reminder: Bell,\r\n      poke: Hand, // Adicionado\r\n    };\r\n    return icons[type] || Bell;\r\n  };\r\n\r\n  const getNotificationColor = (type) => {\r\n    const colors = {\r\n      // 4. MUDAN√áA: Chaves atualizadas para Portugu√™s\r\n      'Candidatura Recebida': 'text-purple-400 bg-purple-500/20 border-purple-500/30', //\r\n      'Candidatura Aprovada': 'text-green-400 bg-green-500/20 border-green-500/30', //\r\n      'Candidatura Rejeitada': 'text-red-400 bg-red-500/20 border-red-500/30', //\r\n      'Novo Evento': 'text-blue-400 bg-blue-500/20 border-blue-500/30', // (Adicionado)\r\n      event_cancelled: 'text-yellow-400 bg-yellow-500/20 border-yellow-500/30',\r\n      event_confirmed: 'text-blue-400 bg-blue-500/20 border-blue-500/30',\r\n      event_reminder: 'text-orange-400 bg-orange-500/20 border-orange-500/30',\r\n      poke: 'text-pink-400 bg-pink-500/20 border-pink-500/30', // Adicionado\r\n    };\r\n    return colors[type] || 'text-white bg-white/10 border-white/10';\r\n  };\r\n\r\n  const getUserAvatar = (notification) => {\r\n    if (notification.participation?.user?.avatar_url) {\r\n      return notification.participation.user.avatar_url;\r\n    }\r\n    const username = notification.participation?.user?.username || 'Usu√°rio';\r\n    return `https://ui-avatars.com/api/?name=${encodeURIComponent(username)}&background=8b5cf6&color=fff&size=64`;\r\n  };\r\n\r\n  // 5. L√≥gica de mesclagem e contagem\r\n  const allItems = [\r\n    ...notifications.map((n) => ({ ...n, type: 'notification' })),\r\n    ...pokes.map((p) => ({\r\n      ...p,\r\n      type: 'poke',\r\n      notification_type: 'poke',\r\n      // 6. MUDAN√áA: \"Cutucada\" -> \"Tok\"\r\n      title: 'Novo Tok!',\r\n      message: `${p.profiles?.full_name || p.profiles?.username || 'Algu√©m'} te enviou um Tok üëã`,\r\n      sent: p.read, // Alinha 'read' com 'sent'\r\n    })),\r\n  ].sort((a, b) => new Date(b.created_at) - new Date(a.created_at));\r\n\r\n  const unreadCount = allItems.filter(n => !n.sent).length;\r\n  const totalCount = allItems.length;\r\n\r\n  const filteredItems = filter === 'todas'\r\n    ? allItems\r\n    : allItems.filter(n => !n.sent);\r\n\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <Bell className=\"w-16 h-16 text-white/40 animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Notifica√ß√µes | Mesapra2</title>\r\n      </Helmet>\r\n\r\n      <div className=\"py-6 px-4 sm:px-6 lg:px-8\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"space-y-6\"\r\n        >\r\n          {/* Header */}\r\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-white mb-2\">Notifica√ß√µes</h1>\r\n              <p className=\"text-white/60\">\r\n                {/* 7. MUDAN√áA: \"notifica√ß√£o\" -> \"item\" */}\r\n                {unreadCount > 0 \r\n                  ? `Voc√™ tem ${unreadCount} ${unreadCount === 1 ? 'item n√£o lido' : 'itens n√£o lidos'}`\r\n                  : 'Todas as notifica√ß√µes foram lidas'\r\n                }\r\n              </p>\r\n            </div>\r\n            \r\n            {unreadCount > 0 && (\r\n              <Button\r\n                onClick={handleMarkAllAsRead}\r\n                className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\r\n              >\r\n                <Check className=\"w-5 h-5 mr-2\" />\r\n                Marcar Todas como Lidas\r\n              </Button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Filtros - 8. MUDAN√áA: Contagem atualizada */}\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              variant={filter === 'todas' ? 'default' : 'outline'}\r\n              onClick={() => setFilter('todas')}\r\n              className={filter === 'todas' \r\n                ? 'bg-gradient-to-r from-purple-500 to-pink-500' \r\n                : 'glass-effect border-white/10'\r\n              }\r\n            >\r\n              Todas ({totalCount})\r\n            </Button>\r\n            <Button\r\n              variant={filter === 'n√£o_lidas' ? 'default' : 'outline'}\r\n              onClick={() => setFilter('n√£o_lidas')}\r\n              className={filter === 'n√£o_lidas' \r\n                ? 'bg-gradient-to-r from-purple-500 to-pink-500' \r\n                : 'glass-effect border-white/10'\r\n              }\r\n            >\r\n              N√£o Lidas ({unreadCount})\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Lista de Notifica√ß√µes - 9. MUDAN√áA: 'filteredItems' */}\r\n          {filteredItems.length === 0 ? (\r\n            <div className=\"glass-effect rounded-2xl p-12 border border-white/10 text-center\">\r\n              <Bell className=\"w-16 h-16 text-white/20 mx-auto mb-4\" />\r\n              <p className=\"text-white/60 text-lg\">\r\n                {filter === 'todas' \r\n                  ? 'Nenhuma notifica√ß√£o ainda'\r\n                  : 'Nenhuma notifica√ß√£o n√£o lida'\r\n                }\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              {filteredItems.map((item) => {\r\n                const Icon = getNotificationIcon(item.notification_type);\r\n                const colorClasses = getNotificationColor(item.notification_type);\r\n                const isUnread = !item.sent;\r\n\r\n                return (\r\n                  <motion.div\r\n                    key={`${item.type}-${item.id}`} // 10. MUDAN√áA: Chave √∫nica\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    className={`glass-effect rounded-xl p-6 border transition-all ${\r\n                      isUnread ? 'border-purple-500/50 bg-purple-500/5' : 'border-white/10'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-start gap-4\">\r\n                      {/* Avatar ou √çcone - 11. MUDAN√áA: l√≥gica de 'item.type' */}\r\n                      {item.type === 'poke' && item.profiles ? (\r\n                        <div className=\"relative flex-shrink-0\">\r\n                          <img\r\n                            src={\r\n                              item.profiles.avatar_url ||\r\n                              `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n                                item.profiles.username || 'User'\r\n                              )}&background=8b5cf6&color=fff&size=64`\r\n                            }\r\n                            alt={item.profiles.username}\r\n                            className=\"w-16 h-16 rounded-full border-2 border-pink-500/50 object-cover\"\r\n                            onError={(e) => {\r\n                              e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n                                item.profiles?.username || 'User'\r\n                              )}&background=8b5cf6&color=fff&size=64`;\r\n                            }}\r\n                          />\r\n                          <div className={`absolute -bottom-1 -right-1 w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${colorClasses}`}>\r\n                            <Icon className=\"w-4 h-4\" />\r\n                          </div>\r\n                        </div>\r\n                      ) : item.notification_type === 'Candidatura Recebida' && item.participation?.user ? (\r\n                        <div className=\"relative flex-shrink-0\">\r\n                          <img\r\n                            src={getUserAvatar(item)}\r\n                            alt={item.participation.user.username}\r\n                            className=\"w-16 h-16 rounded-full border-2 border-purple-500/50 object-cover\"\r\n                            onError={(e) => {\r\n                              e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n                                item.participation?.user?.username || 'User'\r\n                              )}&background=8b5cf6&color=fff&size=64`;\r\n                            }}\r\n                          />\r\n                          <div className={`absolute -bottom-1 -right-1 w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${colorClasses}`}>\r\n                            <Icon className=\"w-4 h-4\" />\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <div className={`w-16 h-16 rounded-full flex items-center justify-center flex-shrink-0 border ${colorClasses}`}>\r\n                          <Icon className=\"w-8 h-8\" />\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Conte√∫do */}\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-start justify-between gap-4 mb-2\">\r\n                          <div className=\"flex-1\">\r\n                            <div className=\"flex items-center gap-2 mb-1\">\r\n                              <h3 className=\"text-white font-semibold text-lg\">\r\n                                {item.title}\r\n                              </h3>\r\n                              {isUnread && (\r\n                                <span className=\"px-2 py-0.5 rounded-full bg-purple-500 text-white text-xs font-medium\">\r\n                                  Nova\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                            \r\n                            <p className=\"text-white/80 mb-3\">\r\n                              {item.message}\r\n                            </p>\r\n                            \r\n                            <p className=\"text-white/40 text-sm flex items-center gap-2\">\r\n                              <Calendar className=\"w-4 h-4\" />\r\n                              {format(new Date(item.created_at), \"dd 'de' MMMM 'de' yyyy '√†s' HH:mm\", { locale: ptBR })}\r\n                            </p>\r\n                          </div>\r\n\r\n                          {/* A√ß√µes */}\r\n                          <div className=\"flex items-center gap-2\">\r\n                            {isUnread && (\r\n                              <Button\r\n                                onClick={() => handleMarkAsRead(item)}\r\n                                variant=\"outline\"\r\n                                size=\"sm\"\r\n                                className=\"glass-effect border-green-500/30 text-green-300 hover:bg-green-500/20\"\r\n                                title=\"Marcar como lida\"\r\n                              >\r\n                                <Check className=\"w-4 h-4\" />\r\n                              </Button>\r\n                            )}\r\n                            \r\n                            <Button\r\n                              onClick={() => handleDelete(item)}\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              className=\"glass-effect border-red-500/30 text-red-300 hover:bg-red-500/20\"\r\n                              title=\"Excluir\"\r\n                            >\r\n                              <Trash2 className=\"w-4 h-4\" />\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Bot√£o de A√ß√£o - 12. MUDAN√áA: l√≥gica de 'item.type' */}\r\n                        {item.type === 'poke' && (\r\n                          <Button\r\n                            onClick={() => handlePokeClick(item)}\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            className=\"glass-effect border-pink-500/30 text-pink-300 hover:bg-pink-500/20\"\r\n                          >\r\n                            Ver Perfil\r\n                          </Button>\r\n                        )}\r\n                        {item.type === 'notification' && item.event_id && (\r\n                          <Button\r\n                            onClick={() => handleNotificationClick(item)}\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            className=\"glass-effect border-purple-500/30 text-purple-300 hover:bg-purple-500/20\"\r\n                          >\r\n                            Ver Evento\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </motion.div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </motion.div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationsPage;"],"version":3}