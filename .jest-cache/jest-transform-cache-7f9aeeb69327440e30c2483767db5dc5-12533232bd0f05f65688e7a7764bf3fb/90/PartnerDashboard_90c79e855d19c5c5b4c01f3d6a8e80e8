58a823ec9a7e399bc122bdae98670857
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EventStatusBadge = void 0;
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
// src/features/partner/pages/PartnerDashboard.jsx
const react_1 = tslib_1.__importDefault(require("react"));
const prop_types_1 = tslib_1.__importDefault(require("prop-types"));
const react_helmet_async_1 = require("react-helmet-async");
const react_router_dom_1 = require("react-router-dom");
const AuthContext_1 = require("@/contexts/AuthContext");
const supabaseClient_1 = require("@/lib/supabaseClient");
const LatestAnnouncements_1 = tslib_1.__importDefault(require("@/features/partner/components/LatestAnnouncements"));
const EventSuggestions_1 = tslib_1.__importDefault(require("@/features/partner/components/EventSuggestions"));
const lucide_react_1 = require("lucide-react");
/**
 * Componente reutilizável para exibir o status do evento
 */
const EventStatusBadge = ({ status, size = 'md', showIcon = true }) => {
    const statusConfig = {
        Aberto: {
            color: 'bg-green-500/20 text-green-300 border-green-500/30',
            icon: lucide_react_1.AlertCircle,
            label: 'Aberto',
            description: 'Aceitando candidaturas',
        },
        Confirmado: {
            color: 'bg-blue-500/20 text-blue-300 border-blue-500/30',
            icon: lucide_react_1.CheckCircle,
            label: 'Confirmado',
            description: 'Vagas preenchidas',
        },
        'Em Andamento': {
            color: 'bg-purple-500/20 text-purple-300 border-purple-500/30',
            icon: lucide_react_1.TrendingUp,
            label: 'Em Andamento',
            description: 'Evento acontecendo agora',
        },
        Finalizado: {
            color: 'bg-yellow-500/20 text-yellow-300 border-yellow-500/30',
            icon: lucide_react_1.Clock,
            label: 'Finalizado',
            description: 'Aguardando avaliações',
        },
        Concluído: {
            color: 'bg-gray-500/20 text-gray-300 border-gray-500/30',
            icon: lucide_react_1.Award,
            label: 'Concluído',
            description: 'Evento finalizado',
        },
        Cancelado: {
            color: 'bg-red-500/20 text-red-300 border-red-500/30',
            icon: lucide_react_1.XCircle,
            label: 'Cancelado',
            description: 'Evento cancelado',
        },
    };
    const config = statusConfig[status] || statusConfig.Aberto;
    const Icon = config.icon;
    const sizeClasses = {
        sm: 'px-2 py-0.5 text-xs',
        md: 'px-3 py-1 text-sm',
        lg: 'px-4 py-2 text-base',
    };
    const iconSizes = {
        sm: 'w-3 h-3',
        md: 'w-4 h-4',
        lg: 'w-5 h-5',
    };
    return ((0, jsx_runtime_1.jsxs)("span", { className: `
        inline-flex items-center gap-1.5 rounded-full font-medium border
        ${config.color} ${sizeClasses[size]}
      `, title: config.description, children: [showIcon && (0, jsx_runtime_1.jsx)(Icon, { className: iconSizes[size] }), config.label] }));
};
exports.EventStatusBadge = EventStatusBadge;
// Validação de props para EventStatusBadge
exports.EventStatusBadge.propTypes = {
    status: prop_types_1.default.oneOf([
        'Aberto',
        'Confirmado',
        'Em Andamento',
        'Finalizado',
        'Concluído',
        'Cancelado',
    ]).isRequired,
    size: prop_types_1.default.oneOf(['sm', 'md', 'lg']),
    showIcon: prop_types_1.default.bool,
};
exports.EventStatusBadge.defaultProps = {
    size: 'md',
    showIcon: true,
};
/**
 * Dashboard do Parceiro
 */
const PartnerDashboard = () => {
    const { profile } = (0, AuthContext_1.useAuth)();
    const navigate = (0, react_router_dom_1.useNavigate)();
    // ✅ Verifica se é Premium Partner
    const isPremiumPartner = profile?.isPremiumPartner === true;
    // Nome do restaurante ou do usuário
    const partnerName = profile?.partner_data?.name || profile?.full_name || 'Parceiro';
    const handleLogout = async () => {
        try {
            const { error } = await supabaseClient_1.supabase.auth.signOut();
            if (error)
                throw error;
            navigate('/login');
        }
        catch (error) {
            console.error('Erro ao fazer logout:', error);
        }
    };
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)(react_helmet_async_1.Helmet, { children: [(0, jsx_runtime_1.jsx)("title", { children: "Dashboard do Parceiro - Mesapra2" }), (0, jsx_runtime_1.jsx)("meta", { name: "description", content: "Gerencie seu restaurante e eventos." })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-8", children: [(0, jsx_runtime_1.jsxs)("div", { className: "mb-6 flex items-start justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3 mb-2", children: [(0, jsx_runtime_1.jsxs)("h1", { className: "text-3xl font-bold gradient-text", children: ["Bem-vindo(a), ", partnerName, "!"] }), isPremiumPartner && ((0, jsx_runtime_1.jsxs)("span", { className: "inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-yellow-500/20 text-yellow-300 border border-yellow-500/30 text-sm font-semibold", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Star, { className: "w-4 h-4 fill-yellow-500" }), "Premium Partner"] }))] }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-lg", children: "Aqui est\u00E1 um resumo das atividades do seu restaurante." })] }), (0, jsx_runtime_1.jsxs)("button", { onClick: handleLogout, className: "flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 transition-all duration-200 hover:scale-105", title: "Sair da conta", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.LogOut, { className: "w-5 h-5" }), (0, jsx_runtime_1.jsx)("span", { className: "hidden sm:inline", children: "Sair" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [(0, jsx_runtime_1.jsx)("div", { className: "space-y-6", children: (0, jsx_runtime_1.jsx)(LatestAnnouncements_1.default, {}) }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-6", children: (0, jsx_runtime_1.jsx)(EventSuggestions_1.default, {}) })] })] })] }));
};
exports.default = PartnerDashboard;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xccGFydG5lclxccGFnZXNcXFBhcnRuZXJEYXNoYm9hcmQuanN4IiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsa0RBQWtEO0FBQ2xELDBEQUEwQjtBQUMxQixvRUFBbUM7QUFDbkMsMkRBQTRDO0FBQzVDLHVEQUErQztBQUMvQyx3REFBaUQ7QUFDakQseURBQWdEO0FBQ2hELG9IQUFvRjtBQUNwRiw4R0FBOEU7QUFDOUUsK0NBU3NCO0FBRXRCOztHQUVHO0FBQ0ksTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksR0FBRyxJQUFJLEVBQUUsUUFBUSxHQUFHLElBQUksRUFBRSxFQUFFLEVBQUU7SUFDM0UsTUFBTSxZQUFZLEdBQUc7UUFDbkIsTUFBTSxFQUFFO1lBQ04sS0FBSyxFQUFFLG9EQUFvRDtZQUMzRCxJQUFJLEVBQUUsMEJBQVc7WUFDakIsS0FBSyxFQUFFLFFBQVE7WUFDZixXQUFXLEVBQUUsd0JBQXdCO1NBQ3RDO1FBQ0QsVUFBVSxFQUFFO1lBQ1YsS0FBSyxFQUFFLGlEQUFpRDtZQUN4RCxJQUFJLEVBQUUsMEJBQVc7WUFDakIsS0FBSyxFQUFFLFlBQVk7WUFDbkIsV0FBVyxFQUFFLG1CQUFtQjtTQUNqQztRQUNELGNBQWMsRUFBRTtZQUNkLEtBQUssRUFBRSx1REFBdUQ7WUFDOUQsSUFBSSxFQUFFLHlCQUFVO1lBQ2hCLEtBQUssRUFBRSxjQUFjO1lBQ3JCLFdBQVcsRUFBRSwwQkFBMEI7U0FDeEM7UUFDRCxVQUFVLEVBQUU7WUFDVixLQUFLLEVBQUUsdURBQXVEO1lBQzlELElBQUksRUFBRSxvQkFBSztZQUNYLEtBQUssRUFBRSxZQUFZO1lBQ25CLFdBQVcsRUFBRSx1QkFBdUI7U0FDckM7UUFDRCxTQUFTLEVBQUU7WUFDVCxLQUFLLEVBQUUsaURBQWlEO1lBQ3hELElBQUksRUFBRSxvQkFBSztZQUNYLEtBQUssRUFBRSxXQUFXO1lBQ2xCLFdBQVcsRUFBRSxtQkFBbUI7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QUNwRCw0Q0FDRSxpQ0FBSyxTQUFTLEVBQUMsOEJBQThCLGFBQzNDLGdDQUFJLFNBQVMsRUFBQyxrQ0FBa0MsK0JBQy9CLFdBQVcsU0FDdkIsRUFDSixnQkFBZ0IsSUFBSSxDQUNuQixrQ0FBTSxTQUFTLEVBQUMsNElBQTRJLGFBQzFKLHVCQUFDLG1CQUFJLElBQUMsU0FBUyxFQUFDLHlCQUF5QixHQUFHLHVCQUV2QyxDQUNSLElBQ0csRUFDTiw4QkFBRyxTQUFTLEVBQUMsdUJBQXVCLDRFQUVoQyxJQUNBLEVBRU4sb0NBQ0UsT0FBTyxFQUFFLFlBQVksRUFDckIsU0FBUyxFQUFDLGtLQUFrSyxFQUM1SyxLQUFLLEVBQUMsZUFBZSxhQUVyQix1QkFBQyxxQkFBTSxJQUFDLFNBQVMsRUFBQyxTQUFTLEdBQUcsRUFDOUIsaUNBQU0sU0FBUyxFQUFDLGtCQUFrQixxQkFBWSxJQUN2QyxJQUNMLEVBR04saUNBQUssU0FBUyxFQUFDLHVDQUF1QyxhQUNwRCxnQ0FBSyxTQUFTLEVBQUMsV0FBVyxZQUN4Qix1QkFBQyw2QkFBbUIsS0FBRyxHQUNuQixFQUVOLGdDQUFLLFNBQVMsRUFBQyxXQUFXLFlBQ3hCLHVCQUFDLDBCQUFnQixLQUFHLEdBQ2hCLElBQ0YsSUFXRixJQUNMLENBQ0osQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGtCQUFlLGdCQUFnQixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxERVZNaXhcXEFwcC5NZXNhcHJhMi5jb21cXHNyY1xcZmVhdHVyZXNcXHBhcnRuZXJcXHBhZ2VzXFxQYXJ0bmVyRGFzaGJvYXJkLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvZmVhdHVyZXMvcGFydG5lci9wYWdlcy9QYXJ0bmVyRGFzaGJvYXJkLmpzeFxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyBIZWxtZXQgfSBmcm9tICdyZWFjdC1oZWxtZXQtYXN5bmMnO1xyXG5pbXBvcnQgeyB1c2VOYXZpZ2F0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9jb250ZXh0cy9BdXRoQ29udGV4dCc7XHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2VDbGllbnQnO1xyXG5pbXBvcnQgTGF0ZXN0QW5ub3VuY2VtZW50cyBmcm9tICdAL2ZlYXR1cmVzL3BhcnRuZXIvY29tcG9uZW50cy9MYXRlc3RBbm5vdW5jZW1lbnRzJztcclxuaW1wb3J0IEV2ZW50U3VnZ2VzdGlvbnMgZnJvbSAnQC9mZWF0dXJlcy9wYXJ0bmVyL2NvbXBvbmVudHMvRXZlbnRTdWdnZXN0aW9ucyc7XHJcbmltcG9ydCB7XHJcbiAgQ2hlY2tDaXJjbGUsXHJcbiAgWENpcmNsZSxcclxuICBBbGVydENpcmNsZSxcclxuICBDbG9jayxcclxuICBUcmVuZGluZ1VwLFxyXG4gIEF3YXJkLFxyXG4gIExvZ091dCxcclxuICBTdGFyLFxyXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcblxyXG4vKipcclxuICogQ29tcG9uZW50ZSByZXV0aWxpesOhdmVsIHBhcmEgZXhpYmlyIG8gc3RhdHVzIGRvIGV2ZW50b1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IEV2ZW50U3RhdHVzQmFkZ2UgPSAoeyBzdGF0dXMsIHNpemUgPSAnbWQnLCBzaG93SWNvbiA9IHRydWUgfSkgPT4ge1xyXG4gIGNvbnN0IHN0YXR1c0NvbmZpZyA9IHtcclxuICAgIEFiZXJ0bzoge1xyXG4gICAgICBjb2xvcjogJ2JnLWdyZWVuLTUwMC8yMCB0ZXh0LWdyZWVuLTMwMCBib3JkZXItZ3JlZW4tNTAwLzMwJyxcclxuICAgICAgaWNvbjogQWxlcnRDaXJjbGUsXHJcbiAgICAgIGxhYmVsOiAnQWJlcnRvJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdBY2VpdGFuZG8gY2FuZGlkYXR1cmFzJyxcclxuICAgIH0sXHJcbiAgICBDb25maXJtYWRvOiB7XHJcbiAgICAgIGNvbG9yOiAnYmctYmx1ZS01MDAvMjAgdGV4dC1ibHVlLTMwMCBib3JkZXItYmx1ZS01MDAvMzAnLFxyXG4gICAgICBpY29uOiBDaGVja0NpcmNsZSxcclxuICAgICAgbGFiZWw6ICdDb25maXJtYWRvJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdWYWdhcyBwcmVlbmNoaWRhcycsXHJcbiAgICB9LFxyXG4gICAgJ0VtIEFuZGFtZW50byc6IHtcclxuICAgICAgY29sb3I6ICdiZy1wdXJwbGUtNTAwLzIwIHRleHQtcHVycGxlLTMwMCBib3JkZXItcHVycGxlLTUwMC8zMCcsXHJcbiAgICAgIGljb246IFRyZW5kaW5nVXAsXHJcbiAgICAgIGxhYmVsOiAnRW0gQW5kYW1lbnRvJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFdmVudG8gYWNvbnRlY2VuZG8gYWdvcmEnLFxyXG4gICAgfSxcclxuICAgIEZpbmFsaXphZG86IHtcclxuICAgICAgY29sb3I6ICdiZy15ZWxsb3ctNTAwLzIwIHRleHQteWVsbG93LTMwMCBib3JkZXIteWVsbG93LTUwMC8zMCcsXHJcbiAgICAgIGljb246IENsb2NrLFxyXG4gICAgICBsYWJlbDogJ0ZpbmFsaXphZG8nLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ0FndWFyZGFuZG8gYXZhbGlhw6fDtWVzJyxcclxuICAgIH0sXHJcbiAgICBDb25jbHXDrWRvOiB7XHJcbiAgICAgIGNvbG9yOiAnYmctZ3JheS01MDAvMjAgdGV4dC1ncmF5LTMwMCBib3JkZXItZ3JheS01MDAvMzAnLFxyXG4gICAgICBpY29uOiBBd2FyZCxcclxuICAgICAgbGFiZWw6ICdDb25jbHXDrWRvJyxcclxuICAgICAgZGVzY3JpcHRpb246ICdFdmVudG8gZmluYWxpemFkbycsXHJcbiAgICB9LFxyXG4gICAgQ2FuY2VsYWRvOiB7XHJcbiAgICAgIGNvbG9yOiAnYmctcmVkLTUwMC8yMCB0ZXh0LXJlZC0zMDAgYm9yZGVyLXJlZC01MDAvMzAnLFxyXG4gICAgICBpY29uOiBYQ2lyY2xlLFxyXG4gICAgICBsYWJlbDogJ0NhbmNlbGFkbycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnRXZlbnRvIGNhbmNlbGFkbycsXHJcbiAgICB9LFxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNvbmZpZyA9IHN0YXR1c0NvbmZpZ1tzdGF0dXNdIHx8IHN0YXR1c0NvbmZpZy5BYmVydG87XHJcbiAgY29uc3QgSWNvbiA9IGNvbmZpZy5pY29uO1xyXG5cclxuICBjb25zdCBzaXplQ2xhc3NlcyA9IHtcclxuICAgIHNtOiAncHgtMiBweS0wLjUgdGV4dC14cycsXHJcbiAgICBtZDogJ3B4LTMgcHktMSB0ZXh0LXNtJyxcclxuICAgIGxnOiAncHgtNCBweS0yIHRleHQtYmFzZScsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaWNvblNpemVzID0ge1xyXG4gICAgc206ICd3LTMgaC0zJyxcclxuICAgIG1kOiAndy00IGgtNCcsXHJcbiAgICBsZzogJ3ctNSBoLTUnLFxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8c3BhblxyXG4gICAgICBjbGFzc05hbWU9e2BcclxuICAgICAgICBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSByb3VuZGVkLWZ1bGwgZm9udC1tZWRpdW0gYm9yZGVyXHJcbiAgICAgICAgJHtjb25maWcuY29sb3J9ICR7c2l6ZUNsYXNzZXNbc2l6ZV19XHJcbiAgICAgIGB9XHJcbiAgICAgIHRpdGxlPXtjb25maWcuZGVzY3JpcHRpb259XHJcbiAgICA+XHJcbiAgICAgIHtzaG93SWNvbiAmJiA8SWNvbiBjbGFzc05hbWU9e2ljb25TaXplc1tzaXplXX0gLz59XHJcbiAgICAgIHtjb25maWcubGFiZWx9XHJcbiAgICA8L3NwYW4+XHJcbiAgKTtcclxufTtcclxuXHJcbi8vIFZhbGlkYcOnw6NvIGRlIHByb3BzIHBhcmEgRXZlbnRTdGF0dXNCYWRnZVxyXG5FdmVudFN0YXR1c0JhZGdlLnByb3BUeXBlcyA9IHtcclxuICBzdGF0dXM6IFByb3BUeXBlcy5vbmVPZihbXHJcbiAgICAnQWJlcnRvJyxcclxuICAgICdDb25maXJtYWRvJyxcclxuICAgICdFbSBBbmRhbWVudG8nLFxyXG4gICAgJ0ZpbmFsaXphZG8nLFxyXG4gICAgJ0NvbmNsdcOtZG8nLFxyXG4gICAgJ0NhbmNlbGFkbycsXHJcbiAgXSkuaXNSZXF1aXJlZCxcclxuICBzaXplOiBQcm9wVHlwZXMub25lT2YoWydzbScsICdtZCcsICdsZyddKSxcclxuICBzaG93SWNvbjogUHJvcFR5cGVzLmJvb2wsXHJcbn07XHJcblxyXG5FdmVudFN0YXR1c0JhZGdlLmRlZmF1bHRQcm9wcyA9IHtcclxuICBzaXplOiAnbWQnLFxyXG4gIHNob3dJY29uOiB0cnVlLFxyXG59O1xyXG5cclxuLyoqXHJcbiAqIERhc2hib2FyZCBkbyBQYXJjZWlyb1xyXG4gKi9cclxuY29uc3QgUGFydG5lckRhc2hib2FyZCA9ICgpID0+IHtcclxuICBjb25zdCB7IHByb2ZpbGUgfSA9IHVzZUF1dGgoKTtcclxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XHJcblxyXG4gIC8vIOKchSBWZXJpZmljYSBzZSDDqSBQcmVtaXVtIFBhcnRuZXJcclxuICBjb25zdCBpc1ByZW1pdW1QYXJ0bmVyID0gcHJvZmlsZT8uaXNQcmVtaXVtUGFydG5lciA9PT0gdHJ1ZTtcclxuXHJcbiAgLy8gTm9tZSBkbyByZXN0YXVyYW50ZSBvdSBkbyB1c3XDoXJpb1xyXG4gIGNvbnN0IHBhcnRuZXJOYW1lID1cclxuICAgIHByb2ZpbGU/LnBhcnRuZXJfZGF0YT8ubmFtZSB8fCBwcm9maWxlPy5mdWxsX25hbWUgfHwgJ1BhcmNlaXJvJztcclxuXHJcbiAgY29uc3QgaGFuZGxlTG9nb3V0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KCk7XHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbiAgICAgIG5hdmlnYXRlKCcvbG9naW4nKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gZmF6ZXIgbG9nb3V0OicsIGVycm9yKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPEhlbG1ldD5cclxuICAgICAgICA8dGl0bGU+RGFzaGJvYXJkIGRvIFBhcmNlaXJvIC0gTWVzYXByYTI8L3RpdGxlPlxyXG4gICAgICAgIDxtZXRhXHJcbiAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgY29udGVudD1cIkdlcmVuY2llIHNldSByZXN0YXVyYW50ZSBlIGV2ZW50b3MuXCJcclxuICAgICAgICAvPlxyXG4gICAgICA8L0hlbG1ldD5cclxuXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XHJcbiAgICAgICAgey8qIENhYmXDp2FsaG8gY29tIGJhZGdlIFByZW1pdW0gZSBib3TDo28gZGUgbG9nb3V0ICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNiBmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlblwiPlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCBncmFkaWVudC10ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICBCZW0tdmluZG8oYSksIHtwYXJ0bmVyTmFtZX0hXHJcbiAgICAgICAgICAgICAgPC9oMT5cclxuICAgICAgICAgICAgICB7aXNQcmVtaXVtUGFydG5lciAmJiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEuNSBweC0zIHB5LTEgcm91bmRlZC1mdWxsIGJnLXllbGxvdy01MDAvMjAgdGV4dC15ZWxsb3ctMzAwIGJvcmRlciBib3JkZXIteWVsbG93LTUwMC8zMCB0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj5cclxuICAgICAgICAgICAgICAgICAgPFN0YXIgY2xhc3NOYW1lPVwidy00IGgtNCBmaWxsLXllbGxvdy01MDBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICBQcmVtaXVtIFBhcnRuZXJcclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MCB0ZXh0LWxnXCI+XHJcbiAgICAgICAgICAgICAgQXF1aSBlc3TDoSB1bSByZXN1bW8gZGFzIGF0aXZpZGFkZXMgZG8gc2V1IHJlc3RhdXJhbnRlLlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMb2dvdXR9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMiByb3VuZGVkLWxnIGJnLXJlZC01MDAvMjAgaG92ZXI6YmctcmVkLTUwMC8zMCB0ZXh0LXJlZC0zMDAgYm9yZGVyIGJvcmRlci1yZWQtNTAwLzMwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpzY2FsZS0xMDVcIlxyXG4gICAgICAgICAgICB0aXRsZT1cIlNhaXIgZGEgY29udGFcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8TG9nT3V0IGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+U2Fpcjwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogR3JpZCBkZSBjb21wb25lbnRlcyAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbGc6Z3JpZC1jb2xzLTIgZ2FwLTZcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XHJcbiAgICAgICAgICAgIDxMYXRlc3RBbm5vdW5jZW1lbnRzIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxyXG4gICAgICAgICAgICA8RXZlbnRTdWdnZXN0aW9ucyAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIHsvKiBTZcOnw6NvIGZ1dHVyYSAoY29tZW50YWRhKSAqL31cclxuICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3Qgcm91bmRlZC0yeGwgcC02IGJvcmRlciBib3JkZXItd2hpdGUvMTAgbXQtNlwiPlxyXG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIG1iLTRcIj5cclxuICAgICAgICAgICAgRXN0YXTDrXN0aWNhcyBSw6FwaWRhc1xyXG4gICAgICAgICAgPC9oMj5cclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNjBcIj5cclxuICAgICAgICAgICAgKEVtIGJyZXZlOiBHcsOhZmljb3MgZGUgdmlzdWFsaXphw6fDtWVzLCBldmVudG9zIGNyaWFkb3MsIGV0Yy4pXHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgPC9kaXY+ICovfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQYXJ0bmVyRGFzaGJvYXJkOyJdLCJ2ZXJzaW9uIjozfQ==