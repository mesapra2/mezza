{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\partner\\pages\\PartnerDashboard.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\partner\\pages\\PartnerDashboard.jsx"],"sourcesContent":["// src/features/partner/pages/PartnerDashboard.jsx\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport LatestAnnouncements from '@/features/partner/components/LatestAnnouncements';\r\nimport EventSuggestions from '@/features/partner/components/EventSuggestions';\r\nimport {\r\n  CheckCircle,\r\n  XCircle,\r\n  AlertCircle,\r\n  Clock,\r\n  TrendingUp,\r\n  Award,\r\n  LogOut,\r\n  Star,\r\n} from 'lucide-react';\r\n\r\n/**\r\n * Componente reutilizável para exibir o status do evento\r\n */\r\nexport const EventStatusBadge = ({ status, size = 'md', showIcon = true }) => {\r\n  const statusConfig = {\r\n    Aberto: {\r\n      color: 'bg-green-500/20 text-green-300 border-green-500/30',\r\n      icon: AlertCircle,\r\n      label: 'Aberto',\r\n      description: 'Aceitando candidaturas',\r\n    },\r\n    Confirmado: {\r\n      color: 'bg-blue-500/20 text-blue-300 border-blue-500/30',\r\n      icon: CheckCircle,\r\n      label: 'Confirmado',\r\n      description: 'Vagas preenchidas',\r\n    },\r\n    'Em Andamento': {\r\n      color: 'bg-purple-500/20 text-purple-300 border-purple-500/30',\r\n      icon: TrendingUp,\r\n      label: 'Em Andamento',\r\n      description: 'Evento acontecendo agora',\r\n    },\r\n    Finalizado: {\r\n      color: 'bg-yellow-500/20 text-yellow-300 border-yellow-500/30',\r\n      icon: Clock,\r\n      label: 'Finalizado',\r\n      description: 'Aguardando avaliações',\r\n    },\r\n    Concluído: {\r\n      color: 'bg-gray-500/20 text-gray-300 border-gray-500/30',\r\n      icon: Award,\r\n      label: 'Concluído',\r\n      description: 'Evento finalizado',\r\n    },\r\n    Cancelado: {\r\n      color: 'bg-red-500/20 text-red-300 border-red-500/30',\r\n      icon: XCircle,\r\n      label: 'Cancelado',\r\n      description: 'Evento cancelado',\r\n    },\r\n  };\r\n\r\n  const config = statusConfig[status] || statusConfig.Aberto;\r\n  const Icon = config.icon;\r\n\r\n  const sizeClasses = {\r\n    sm: 'px-2 py-0.5 text-xs',\r\n    md: 'px-3 py-1 text-sm',\r\n    lg: 'px-4 py-2 text-base',\r\n  };\r\n\r\n  const iconSizes = {\r\n    sm: 'w-3 h-3',\r\n    md: 'w-4 h-4',\r\n    lg: 'w-5 h-5',\r\n  };\r\n\r\n  return (\r\n    <span\r\n      className={`\r\n        inline-flex items-center gap-1.5 rounded-full font-medium border\r\n        ${config.color} ${sizeClasses[size]}\r\n      `}\r\n      title={config.description}\r\n    >\r\n      {showIcon && <Icon className={iconSizes[size]} />}\r\n      {config.label}\r\n    </span>\r\n  );\r\n};\r\n\r\n// Validação de props para EventStatusBadge\r\nEventStatusBadge.propTypes = {\r\n  status: PropTypes.oneOf([\r\n    'Aberto',\r\n    'Confirmado',\r\n    'Em Andamento',\r\n    'Finalizado',\r\n    'Concluído',\r\n    'Cancelado',\r\n  ]).isRequired,\r\n  size: PropTypes.oneOf(['sm', 'md', 'lg']),\r\n  showIcon: PropTypes.bool,\r\n};\r\n\r\nEventStatusBadge.defaultProps = {\r\n  size: 'md',\r\n  showIcon: true,\r\n};\r\n\r\n/**\r\n * Dashboard do Parceiro\r\n */\r\nconst PartnerDashboard = () => {\r\n  const { profile } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // ✅ Verifica se é Premium Partner\r\n  const isPremiumPartner = profile?.isPremiumPartner === true;\r\n\r\n  // Nome do restaurante ou do usuário\r\n  const partnerName =\r\n    profile?.partner_data?.name || profile?.full_name || 'Parceiro';\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      const { error } = await supabase.auth.signOut();\r\n      if (error) throw error;\r\n      navigate('/login');\r\n    } catch (error) {\r\n      console.error('Erro ao fazer logout:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Dashboard do Parceiro - Mesapra2</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Gerencie seu restaurante e eventos.\"\r\n        />\r\n      </Helmet>\r\n\r\n      <div className=\"space-y-8\">\r\n        {/* Cabeçalho com badge Premium e botão de logout */}\r\n        <div className=\"mb-6 flex items-start justify-between\">\r\n          <div>\r\n            <div className=\"flex items-center gap-3 mb-2\">\r\n              <h1 className=\"text-3xl font-bold gradient-text\">\r\n                Bem-vindo(a), {partnerName}!\r\n              </h1>\r\n              {isPremiumPartner && (\r\n                <span className=\"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-yellow-500/20 text-yellow-300 border border-yellow-500/30 text-sm font-semibold\">\r\n                  <Star className=\"w-4 h-4 fill-yellow-500\" />\r\n                  Premium Partner\r\n                </span>\r\n              )}\r\n            </div>\r\n            <p className=\"text-white/60 text-lg\">\r\n              Aqui está um resumo das atividades do seu restaurante.\r\n            </p>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 transition-all duration-200 hover:scale-105\"\r\n            title=\"Sair da conta\"\r\n          >\r\n            <LogOut className=\"w-5 h-5\" />\r\n            <span className=\"hidden sm:inline\">Sair</span>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Grid de componentes */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          <div className=\"space-y-6\">\r\n            <LatestAnnouncements />\r\n          </div>\r\n\r\n          <div className=\"space-y-6\">\r\n            <EventSuggestions />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Seção futura (comentada) */}\r\n        {/* <div className=\"glass-effect rounded-2xl p-6 border border-white/10 mt-6\">\r\n          <h2 className=\"text-xl font-semibold text-white mb-4\">\r\n            Estatísticas Rápidas\r\n          </h2>\r\n          <p className=\"text-white/60\">\r\n            (Em breve: Gráficos de visualizações, eventos criados, etc.)\r\n          </p>\r\n        </div> */}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PartnerDashboard;"],"version":3}