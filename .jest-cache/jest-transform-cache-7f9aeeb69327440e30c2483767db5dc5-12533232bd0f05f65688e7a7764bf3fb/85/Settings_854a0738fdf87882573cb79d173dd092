8dff04ab2f6726e548e833face54a4a0
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = tslib_1.__importStar(require("react"));
const lucide_react_1 = require("lucide-react");
const framer_motion_1 = require("framer-motion");
const AuthContext_1 = require("@/contexts/AuthContext");
const supabaseClient_1 = require("@/lib/supabaseClient");
const use_toast_1 = require("@/features/shared/components/ui/use-toast");
const button_1 = require("@/features/shared/components/ui/button");
const label_1 = require("@/features/shared/components/ui/label");
const Settings = ({ isOpen, onClose }) => {
    const { user } = (0, AuthContext_1.useAuth)();
    const [loading, setLoading] = (0, react_1.useState)(false);
    const [saving, setSaving] = (0, react_1.useState)(false);
    const [settings, setSettings] = (0, react_1.useState)({
        public_profile: false,
        allow_pokes: true,
        dark_mode: true,
        email_notifications: true,
        push_notifications: true,
    });
    (0, react_1.useEffect)(() => {
        if (isOpen && user) {
            loadSettings();
        }
    }, [isOpen, user]);
    const loadSettings = async () => {
        setLoading(true);
        try {
            const { data, error } = await supabaseClient_1.supabase
                .from('profiles')
                .select('public_profile, allow_pokes, dark_mode, email_notifications, push_notifications')
                .eq('id', user.id)
                .single();
            if (error)
                throw error;
            if (data) {
                setSettings({
                    public_profile: data.public_profile || false,
                    allow_pokes: data.allow_pokes !== false, // Default true
                    dark_mode: data.dark_mode !== false,
                    email_notifications: data.email_notifications !== false,
                    push_notifications: true,
                });
                applyTheme(data.dark_mode !== false);
            }
        }
        catch (error) {
            console.error('Erro ao carregar configurações:', error);
        }
        finally {
            setLoading(false);
        }
    };
    const handleToggle = async (key) => {
        if (key === 'push_notifications') {
            (0, use_toast_1.toast)({
                title: "⚠️ Notificações Push Obrigatórias",
                description: "As notificações push são necessárias para manter você atualizado sobre seus eventos.",
                variant: "destructive",
            });
            return;
        }
        const newValue = !settings[key];
        const newSettings = { ...settings, [key]: newValue };
        setSettings(newSettings);
        if (key === 'dark_mode') {
            applyTheme(newValue);
        }
        await saveSettings({ [key]: newValue });
    };
    const applyTheme = (isDark) => {
        if (isDark) {
            document.documentElement.classList.add('dark');
            document.body.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
        }
        else {
            document.documentElement.classList.remove('dark');
            document.body.style.background = 'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)';
        }
    };
    const saveSettings = async (updatedSettings) => {
        setSaving(true);
        try {
            const { error } = await supabaseClient_1.supabase
                .from('profiles')
                .update(updatedSettings)
                .eq('id', user.id);
            if (error)
                throw error;
            (0, use_toast_1.toast)({
                title: "✅ Configurações salvas",
                description: "Suas preferências foram atualizadas com sucesso.",
            });
        }
        catch (error) {
            console.error('Erro ao salvar configurações:', error);
            (0, use_toast_1.toast)({
                title: "❌ Erro ao salvar",
                description: error.message,
                variant: "destructive",
            });
        }
        finally {
            setSaving(false);
        }
    };
    if (!isOpen)
        return null;
    return ((0, jsx_runtime_1.jsx)(framer_motion_1.AnimatePresence, { children: isOpen && ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0 }, animate: { opacity: 1 }, exit: { opacity: 0 }, className: "fixed inset-0 bg-black/60 backdrop-blur-sm z-50", onClick: onClose }), (0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, scale: 0.95, y: 20 }, animate: { opacity: 1, scale: 1, y: 0 }, exit: { opacity: 0, scale: 0.95, y: 20 }, className: "fixed inset-x-4 top-1/2 -translate-y-1/2 md:inset-x-auto md:left-1/2 md:-translate-x-1/2 md:w-full md:max-w-2xl z-50", children: (0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl border border-white/10 shadow-2xl max-h-[90vh] overflow-hidden", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between p-6 border-b border-white/10", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-2xl font-bold gradient-text flex items-center gap-2", children: [(0, jsx_runtime_1.jsxs)("svg", { className: "w-6 h-6", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: [(0, jsx_runtime_1.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" }), (0, jsx_runtime_1.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z" })] }), "Configura\u00E7\u00F5es"] }), (0, jsx_runtime_1.jsx)("button", { onClick: onClose, className: "text-white/60 hover:text-white transition-colors", children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "w-6 h-6" }) })] }), (0, jsx_runtime_1.jsx)("div", { className: "p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-180px)]", children: loading ? ((0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-center py-12", children: (0, jsx_runtime_1.jsx)("div", { className: "animate-spin rounded-full h-8 w-8 border-b-2 border-white" }) })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center", children: (0, jsx_runtime_1.jsx)(lucide_react_1.User, { className: "w-5 h-5 text-white" }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { className: "text-white font-semibold text-base", children: "Perfil P\u00FAblico" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-sm", children: "Permite que todos vejam seu perfil, receba gifts e ative o chat" })] }), (0, jsx_runtime_1.jsx)("button", { onClick: () => handleToggle('public_profile'), className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${settings.public_profile ? 'bg-gradient-to-r from-purple-500 to-pink-500' : 'bg-white/20'}`, disabled: saving, children: (0, jsx_runtime_1.jsx)("span", { className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${settings.public_profile ? 'translate-x-6' : 'translate-x-1'}` }) })] }), settings.public_profile && ((0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0, height: 0 }, animate: { opacity: 1, height: 'auto' }, exit: { opacity: 0, height: 0 }, className: "ml-13 pl-4 border-l-2 border-purple-500/30 space-y-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 text-white/70 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Gift, { className: "w-4 h-4 text-pink-400" }), (0, jsx_runtime_1.jsx)("span", { children: "Receber gifts de outros usu\u00E1rios" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 text-white/70 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.MessageCircle, { className: "w-4 h-4 text-purple-400" }), (0, jsx_runtime_1.jsx)("span", { children: "Chat ativado para conversas" })] })] }))] }), (0, jsx_runtime_1.jsx)("div", { className: "border-t border-white/10" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Hand, { className: "w-5 h-5 text-white" }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { className: "text-white font-semibold text-base", children: "Aceitar Cutucadas" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-sm", children: "Permite que outros usu\u00E1rios te cutuquem diariamente" })] }), (0, jsx_runtime_1.jsx)("button", { onClick: () => handleToggle('allow_pokes'), className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${settings.allow_pokes ? 'bg-gradient-to-r from-pink-500 to-purple-500' : 'bg-white/20'}`, disabled: saving, children: (0, jsx_runtime_1.jsx)("span", { className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${settings.allow_pokes ? 'translate-x-6' : 'translate-x-1'}` }) })] }), !settings.allow_pokes && ((0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, height: 0 }, animate: { opacity: 1, height: 'auto' }, exit: { opacity: 0, height: 0 }, className: "ml-13 pl-4 border-l-2 border-pink-500/30 bg-pink-500/10 rounded-lg p-3", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-2 text-white/70 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.MessageCircle, { className: "w-4 h-4 text-pink-400 mt-0.5 flex-shrink-0" }), (0, jsx_runtime_1.jsx)("span", { children: "Com cutucadas desabilitadas, outros usu\u00E1rios poder\u00E3o te enviar convites Crusher - uma forma mais s\u00E9ria de demonstrar interesse." })] }) }))] }), (0, jsx_runtime_1.jsx)("div", { className: "border-t border-white/10" }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-3", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-10 h-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center", children: settings.dark_mode ? ((0, jsx_runtime_1.jsx)(lucide_react_1.Moon, { className: "w-5 h-5 text-white" })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.Sun, { className: "w-5 h-5 text-white" })) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { className: "text-white font-semibold text-base", children: settings.dark_mode ? 'Modo Escuro' : 'Modo Claro' }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-sm", children: "Alterna entre tema escuro e claro" })] }), (0, jsx_runtime_1.jsx)("button", { onClick: () => handleToggle('dark_mode'), className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${settings.dark_mode ? 'bg-gradient-to-r from-blue-500 to-purple-500' : 'bg-gradient-to-r from-yellow-400 to-orange-500'}`, disabled: saving, children: (0, jsx_runtime_1.jsx)("span", { className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${settings.dark_mode ? 'translate-x-6' : 'translate-x-1'}` }) })] }) }), (0, jsx_runtime_1.jsx)("div", { className: "border-t border-white/10" }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-3", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-teal-500 flex items-center justify-center", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Mail, { className: "w-5 h-5 text-white" }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { className: "text-white font-semibold text-base", children: "Notifica\u00E7\u00F5es por Email" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-sm", children: "Receba alertas de eventos tamb\u00E9m por email" })] }), (0, jsx_runtime_1.jsx)("button", { onClick: () => handleToggle('email_notifications'), className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${settings.email_notifications ? 'bg-gradient-to-r from-green-500 to-teal-500' : 'bg-white/20'}`, disabled: saving, children: (0, jsx_runtime_1.jsx)("span", { className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${settings.email_notifications ? 'translate-x-6' : 'translate-x-1'}` }) })] }) }), (0, jsx_runtime_1.jsx)("div", { className: "border-t border-white/10" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-10 h-10 rounded-full bg-gradient-to-r from-orange-500 to-red-500 flex items-center justify-center", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Bell, { className: "w-5 h-5 text-white" }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsxs)(label_1.Label, { className: "text-white font-semibold text-base flex items-center gap-2", children: ["Notifica\u00E7\u00F5es Push", (0, jsx_runtime_1.jsx)("span", { className: "text-xs bg-red-500 px-2 py-0.5 rounded-full", children: "Obrigat\u00F3rio" })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-sm", children: "Alertas em tempo real sobre seus eventos (n\u00E3o pode ser desativado)" })] }), (0, jsx_runtime_1.jsx)("button", { className: "relative inline-flex h-6 w-11 items-center rounded-full bg-gradient-to-r from-orange-500 to-red-500 opacity-50 cursor-not-allowed", disabled: true, children: (0, jsx_runtime_1.jsx)("span", { className: "inline-block h-4 w-4 transform rounded-full bg-white translate-x-6" }) })] }), (0, jsx_runtime_1.jsx)("div", { className: "ml-13 pl-4 border-l-2 border-red-500/30", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 text-white/70 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Check, { className: "w-4 h-4 text-green-400" }), (0, jsx_runtime_1.jsx)("span", { children: "Sempre ativo para n\u00E3o perder nenhum evento importante" })] }) })] })] })) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between p-6 border-t border-white/10", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-white/40 text-sm", children: saving ? 'Salvando...' : 'Alterações são salvas automaticamente' }), (0, jsx_runtime_1.jsx)(button_1.Button, { onClick: onClose, className: "bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600", children: "Fechar" })] })] }) })] })) }));
};
exports.default = Settings;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xcdXNlclxcY29tcG9uZW50c1xcY29tbW9uXFxTZXR0aW5ncy5qc3giLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHVEQUFtRDtBQUNuRCwrQ0FBZ0c7QUFDaEcsaURBQXdEO0FBQ3hELHdEQUFpRDtBQUNqRCx5REFBZ0Q7QUFDaEQseUVBQWtFO0FBQ2xFLG1FQUFnRTtBQUNoRSxpRUFBOEQ7QUFFOUQsTUFBTSxRQUFRLEdBQUcsQ0FBQyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFO0lBQ3ZDLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFBLHFCQUFPLEdBQUUsQ0FBQztJQUMzQixNQUFNLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUM5QyxNQUFNLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUM1QyxNQUFNLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQztRQUN2QyxjQUFjLEVBQUUsS0FBSztRQUNyQixXQUFXLEVBQUUsSUFBSTtRQUNqQixTQUFTLEVBQUUsSUFBSTtRQUNmLG1CQUFtQixFQUFFLElBQUk7UUFDekIsa0JBQWtCLEVBQUUsSUFBSTtLQUN6QixDQUFDLENBQUM7SUFFSCxJQUFBLGlCQUFTLEVBQUMsR0FBRyxFQUFFO1FBQ2IsSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFLENBQUM7WUFDbkIsWUFBWSxFQUFFLENBQUM7UUFDakIsQ0FBQztJQUNILENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRW5CLE1BQU0sWUFBWSxHQUFHLEtBQUssSUFBSSxFQUFFO1FBQzlCLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQixJQUFJLENBQUM7WUFDSCxNQUFNLEVBQUUsSUFB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QUFhLENBQUMsQ0FBQyxDQUFDLHVDQUF1QyxHQUMvRCxFQUNKLHVCQUFDLGVBQU0sSUFDTCxPQUFPLEVBQUUsT0FBTyxFQUNoQixTQUFTLEVBQUMsc0ZBQXNGLHVCQUd6RixJQUNMLElBQ0YsR0FDSyxJQUNaLENBQ0osR0FDZSxDQUNuQixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsa0JBQWUsUUFBUSxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxERVZNaXhcXEFwcC5NZXNhcHJhMi5jb21cXHNyY1xcZmVhdHVyZXNcXHVzZXJcXGNvbXBvbmVudHNcXGNvbW1vblxcU2V0dGluZ3MuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBYLCBVc2VyLCBNb29uLCBTdW4sIE1haWwsIEJlbGwsIEdpZnQsIE1lc3NhZ2VDaXJjbGUsIENoZWNrLCBIYW5kIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcclxuaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UgfSBmcm9tICdmcmFtZXItbW90aW9uJztcclxuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gJ0AvY29udGV4dHMvQXV0aENvbnRleHQnO1xyXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlQ2xpZW50JztcclxuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL3VzZS10b2FzdCc7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvZmVhdHVyZXMvc2hhcmVkL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL2xhYmVsJztcclxuXHJcbmNvbnN0IFNldHRpbmdzID0gKHsgaXNPcGVuLCBvbkNsb3NlIH0pID0+IHtcclxuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2V0dGluZ3MsIHNldFNldHRpbmdzXSA9IHVzZVN0YXRlKHtcclxuICAgIHB1YmxpY19wcm9maWxlOiBmYWxzZSxcclxuICAgIGFsbG93X3Bva2VzOiB0cnVlLFxyXG4gICAgZGFya19tb2RlOiB0cnVlLFxyXG4gICAgZW1haWxfbm90aWZpY2F0aW9uczogdHJ1ZSxcclxuICAgIHB1c2hfbm90aWZpY2F0aW9uczogdHJ1ZSxcclxuICB9KTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4gJiYgdXNlcikge1xyXG4gICAgICBsb2FkU2V0dGluZ3MoKTtcclxuICAgIH1cclxuICB9LCBbaXNPcGVuLCB1c2VyXSk7XHJcblxyXG4gIGNvbnN0IGxvYWRTZXR0aW5ncyA9IGFzeW5jICgpID0+IHtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAgICAgLnNlbGVjdCgncHVibGljX3Byb2ZpbGUsIGFsbG93X3Bva2VzLCBkYXJrX21vZGUsIGVtYWlsX25vdGlmaWNhdGlvbnMsIHB1c2hfbm90aWZpY2F0aW9ucycpXHJcbiAgICAgICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuXHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgc2V0U2V0dGluZ3Moe1xyXG4gICAgICAgICAgcHVibGljX3Byb2ZpbGU6IGRhdGEucHVibGljX3Byb2ZpbGUgfHwgZmFsc2UsXHJcbiAgICAgICAgICBhbGxvd19wb2tlczogZGF0YS5hbGxvd19wb2tlcyAhPT0gZmFsc2UsIC8vIERlZmF1bHQgdHJ1ZVxyXG4gICAgICAgICAgZGFya19tb2RlOiBkYXRhLmRhcmtfbW9kZSAhPT0gZmFsc2UsXHJcbiAgICAgICAgICBlbWFpbF9ub3RpZmljYXRpb25zOiBkYXRhLmVtYWlsX25vdGlmaWNhdGlvbnMgIT09IGZhbHNlLFxyXG4gICAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhcHBseVRoZW1lKGRhdGEuZGFya19tb2RlICE9PSBmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gY2FycmVnYXIgY29uZmlndXJhw6fDtWVzOicsIGVycm9yKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZSA9IGFzeW5jIChrZXkpID0+IHtcclxuICAgIGlmIChrZXkgPT09ICdwdXNoX25vdGlmaWNhdGlvbnMnKSB7XHJcbiAgICAgIHRvYXN0KHtcclxuICAgICAgICB0aXRsZTogXCLimqDvuI8gTm90aWZpY2HDp8O1ZXMgUHVzaCBPYnJpZ2F0w7NyaWFzXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQXMgbm90aWZpY2HDp8O1ZXMgcHVzaCBzw6NvIG5lY2Vzc8OhcmlhcyBwYXJhIG1hbnRlciB2b2PDqiBhdHVhbGl6YWRvIHNvYnJlIHNldXMgZXZlbnRvcy5cIixcclxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3VmFsdWUgPSAhc2V0dGluZ3Nba2V5XTtcclxuICAgIGNvbnN0IG5ld1NldHRpbmdzID0geyAuLi5zZXR0aW5ncywgW2tleV06IG5ld1ZhbHVlIH07XHJcbiAgICBzZXRTZXR0aW5ncyhuZXdTZXR0aW5ncyk7XHJcblxyXG4gICAgaWYgKGtleSA9PT0gJ2RhcmtfbW9kZScpIHtcclxuICAgICAgYXBwbHlUaGVtZShuZXdWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgc2F2ZVNldHRpbmdzKHsgW2tleV06IG5ld1ZhbHVlIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGFwcGx5VGhlbWUgPSAoaXNEYXJrKSA9PiB7XHJcbiAgICBpZiAoaXNEYXJrKSB7XHJcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCA9ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNjY3ZWVhIDAlLCAjNzY0YmEyIDEwMCUpJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrJyk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCA9ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjYThlZGVhIDAlLCAjZmVkNmUzIDEwMCUpJztcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBzYXZlU2V0dGluZ3MgPSBhc3luYyAodXBkYXRlZFNldHRpbmdzKSA9PiB7XHJcbiAgICBzZXRTYXZpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAgICAgLnVwZGF0ZSh1cGRhdGVkU2V0dGluZ3MpXHJcbiAgICAgICAgLmVxKCdpZCcsIHVzZXIuaWQpO1xyXG5cclxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuXHJcbiAgICAgIHRvYXN0KHtcclxuICAgICAgICB0aXRsZTogXCLinIUgQ29uZmlndXJhw6fDtWVzIHNhbHZhc1wiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlN1YXMgcHJlZmVyw6puY2lhcyBmb3JhbSBhdHVhbGl6YWRhcyBjb20gc3VjZXNzby5cIixcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIHNhbHZhciBjb25maWd1cmHDp8O1ZXM6JywgZXJyb3IpO1xyXG4gICAgICB0b2FzdCh7XHJcbiAgICAgICAgdGl0bGU6IFwi4p2MIEVycm8gYW8gc2FsdmFyXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxyXG4gICAgICB9KTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPEFuaW1hdGVQcmVzZW5jZT5cclxuICAgICAge2lzT3BlbiAmJiAoXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgIDxtb3Rpb24uZGl2XHJcbiAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxyXG4gICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cclxuICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwIH19XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2svNjAgYmFja2Ryb3AtYmx1ci1zbSB6LTUwXCJcclxuICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cclxuICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgPG1vdGlvbi5kaXZcclxuICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC45NSwgeTogMjAgfX1cclxuICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCBzY2FsZTogMSwgeTogMCB9fVxyXG4gICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjk1LCB5OiAyMCB9fVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC14LTQgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIG1kOmluc2V0LXgtYXV0byBtZDpsZWZ0LTEvMiBtZDotdHJhbnNsYXRlLXgtMS8yIG1kOnctZnVsbCBtZDptYXgtdy0yeGwgei01MFwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItd2hpdGUvMTAgc2hhZG93LTJ4bCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC02IGJvcmRlci1iIGJvcmRlci13aGl0ZS8xMFwiPlxyXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBncmFkaWVudC10ZXh0IGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy02IGgtNlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMC4zMjUgNC4zMTdjLjQyNi0xLjc1NiAyLjkyNC0xLjc1NiAzLjM1IDBhMS43MjQgMS43MjQgMCAwMDIuNTczIDEuMDY2YzEuNTQzLS45NCAzLjMxLjgyNiAyLjM3IDIuMzdhMS43MjQgMS43MjQgMCAwMDEuMDY1IDIuNTcyYzEuNzU2LjQyNiAxLjc1NiAyLjkyNCAwIDMuMzVhMS43MjQgMS43MjQgMCAwMC0xLjA2NiAyLjU3M2MuOTQgMS41NDMtLjgyNiAzLjMxLTIuMzcgMi4zN2ExLjcyNCAxLjcyNCAwIDAwLTIuNTcyIDEuMDY1Yy0uNDI2IDEuNzU2LTIuOTI0IDEuNzU2LTMuMzUgMGExLjcyNCAxLjcyNCAwIDAwLTIuNTczLTEuMDY2Yy0xLjU0My45NC0zLjMxLS44MjYtMi4zNy0yLjM3YTEuNzI0IDEuNzI0IDAgMDAtMS4wNjUtMi41NzJjLTEuNzU2LS40MjYtMS43NTYtMi45MjQgMC0zLjM1YTEuNzI0IDEuNzI0IDAgMDAxLjA2Ni0yLjU3M2MtLjk0LTEuNTQzLjgyNi0zLjMxIDIuMzctMi4zNy45OTYuNjA4IDIuMjk2LjA3IDIuNTcyLTEuMDY1elwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTE1IDEyYTMgMyAwIDExLTYgMCAzIDMgMCAwMTYgMHpcIiAvPlxyXG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgQ29uZmlndXJhw6fDtWVzXHJcbiAgICAgICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwIGhvdmVyOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBzcGFjZS15LTYgb3ZlcmZsb3cteS1hdXRvIG1heC1oLVtjYWxjKDkwdmgtMTgwcHgpXVwiPlxyXG4gICAgICAgICAgICAgICAge2xvYWRpbmcgPyAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktMTJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC04IHctOCBib3JkZXItYi0yIGJvcmRlci13aGl0ZVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgey8qIFBlcmZpbCBQw7pibGljbyAqL31cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS01MDAgdG8tcGluay01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VXNlciBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtd2hpdGVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHRleHQtYmFzZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGVyZmlsIFDDumJsaWNvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBlcm1pdGUgcXVlIHRvZG9zIHZlamFtIHNldSBwZXJmaWwsIHJlY2ViYSBnaWZ0cyBlIGF0aXZlIG8gY2hhdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVUb2dnbGUoJ3B1YmxpY19wcm9maWxlJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgaW5saW5lLWZsZXggaC02IHctMTEgaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MucHVibGljX3Byb2ZpbGUgPyAnYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS01MDAgdG8tcGluay01MDAnIDogJ2JnLXdoaXRlLzIwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5saW5lLWJsb2NrIGgtNCB3LTQgdHJhbnNmb3JtIHJvdW5kZWQtZnVsbCBiZy13aGl0ZSB0cmFuc2l0aW9uLXRyYW5zZm9ybSAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5wdWJsaWNfcHJvZmlsZSA/ICd0cmFuc2xhdGUteC02JyA6ICd0cmFuc2xhdGUteC0xJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICB7c2V0dGluZ3MucHVibGljX3Byb2ZpbGUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgaGVpZ2h0OiAwIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCBoZWlnaHQ6ICdhdXRvJyB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCwgaGVpZ2h0OiAwIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWwtMTMgcGwtNCBib3JkZXItbC0yIGJvcmRlci1wdXJwbGUtNTAwLzMwIHNwYWNlLXktMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtd2hpdGUvNzAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdpZnQgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXBpbmstNDAwXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlJlY2ViZXIgZ2lmdHMgZGUgb3V0cm9zIHVzdcOhcmlvczwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtd2hpdGUvNzAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VDaXJjbGUgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXB1cnBsZS00MDBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q2hhdCBhdGl2YWRvIHBhcmEgY29udmVyc2FzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci13aGl0ZS8xMFwiPjwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICB7Lyog8J+RiyBOT1ZPOiBBY2VpdGFyIEN1dHVjYWRhcyAqL31cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tciBmcm9tLXBpbmstNTAwIHRvLXB1cnBsZS01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SGFuZCBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtd2hpdGVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHRleHQtYmFzZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNlaXRhciBDdXR1Y2FkYXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNjAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGVybWl0ZSBxdWUgb3V0cm9zIHVzdcOhcmlvcyB0ZSBjdXR1cXVlbSBkaWFyaWFtZW50ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVUb2dnbGUoJ2FsbG93X3Bva2VzJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgaW5saW5lLWZsZXggaC02IHctMTEgaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuYWxsb3dfcG9rZXMgPyAnYmctZ3JhZGllbnQtdG8tciBmcm9tLXBpbmstNTAwIHRvLXB1cnBsZS01MDAnIDogJ2JnLXdoaXRlLzIwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5saW5lLWJsb2NrIGgtNCB3LTQgdHJhbnNmb3JtIHJvdW5kZWQtZnVsbCBiZy13aGl0ZSB0cmFuc2l0aW9uLXRyYW5zZm9ybSAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5hbGxvd19wb2tlcyA/ICd0cmFuc2xhdGUteC02JyA6ICd0cmFuc2xhdGUteC0xJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICB7IXNldHRpbmdzLmFsbG93X3Bva2VzICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIGhlaWdodDogMCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgaGVpZ2h0OiAnYXV0bycgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIGhlaWdodDogMCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTEzIHBsLTQgYm9yZGVyLWwtMiBib3JkZXItcGluay01MDAvMzAgYmctcGluay01MDAvMTAgcm91bmRlZC1sZyBwLTNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yIHRleHQtd2hpdGUvNzAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VDaXJjbGUgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXBpbmstNDAwIG10LTAuNSBmbGV4LXNocmluay0wXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkNvbSBjdXR1Y2FkYXMgZGVzYWJpbGl0YWRhcywgb3V0cm9zIHVzdcOhcmlvcyBwb2RlcsOjbyB0ZSBlbnZpYXIgY29udml0ZXMgQ3J1c2hlciAtIHVtYSBmb3JtYSBtYWlzIHPDqXJpYSBkZSBkZW1vbnN0cmFyIGludGVyZXNzZS48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwXCI+PC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiBNb2RvIEVzY3Vyby9DbGFybyAqL31cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLXB1cnBsZS01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7c2V0dGluZ3MuZGFya19tb2RlID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1vb24gY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXdoaXRlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFN1biBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtd2hpdGVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgdGV4dC1iYXNlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2V0dGluZ3MuZGFya19tb2RlID8gJ01vZG8gRXNjdXJvJyA6ICdNb2RvIENsYXJvJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNjAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWx0ZXJuYSBlbnRyZSB0ZW1hIGVzY3VybyBlIGNsYXJvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVRvZ2dsZSgnZGFya19tb2RlJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgaW5saW5lLWZsZXggaC02IHctMTEgaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuZGFya19tb2RlID8gJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1wdXJwbGUtNTAwJyA6ICdiZy1ncmFkaWVudC10by1yIGZyb20teWVsbG93LTQwMCB0by1vcmFuZ2UtNTAwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5saW5lLWJsb2NrIGgtNCB3LTQgdHJhbnNmb3JtIHJvdW5kZWQtZnVsbCBiZy13aGl0ZSB0cmFuc2l0aW9uLXRyYW5zZm9ybSAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5kYXJrX21vZGUgPyAndHJhbnNsYXRlLXgtNicgOiAndHJhbnNsYXRlLXgtMSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwXCI+PC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiBOb3RpZmljYcOnw7VlcyBwb3IgRW1haWwgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tdGVhbC01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TWFpbCBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtd2hpdGVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHRleHQtYmFzZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZpY2HDp8O1ZXMgcG9yIEVtYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9MYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlY2ViYSBhbGVydGFzIGRlIGV2ZW50b3MgdGFtYsOpbSBwb3IgZW1haWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVG9nZ2xlKCdlbWFpbF9ub3RpZmljYXRpb25zJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgaW5saW5lLWZsZXggaC02IHctMTEgaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuZW1haWxfbm90aWZpY2F0aW9ucyA/ICdiZy1ncmFkaWVudC10by1yIGZyb20tZ3JlZW4tNTAwIHRvLXRlYWwtNTAwJyA6ICdiZy13aGl0ZS8yMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGlubGluZS1ibG9jayBoLTQgdy00IHRyYW5zZm9ybSByb3VuZGVkLWZ1bGwgYmctd2hpdGUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gJHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuZW1haWxfbm90aWZpY2F0aW9ucyA/ICd0cmFuc2xhdGUteC02JyA6ICd0cmFuc2xhdGUteC0xJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItd2hpdGUvMTBcIj48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgey8qIFB1c2ggTm90aWZpY2F0aW9ucyAqL31cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tciBmcm9tLW9yYW5nZS01MDAgdG8tcmVkLTUwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCZWxsIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC13aGl0ZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxMYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgdGV4dC1iYXNlIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RpZmljYcOnw7VlcyBQdXNoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGJnLXJlZC01MDAgcHgtMiBweS0wLjUgcm91bmRlZC1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9icmlnYXTDs3Jpb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MCB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbGVydGFzIGVtIHRlbXBvIHJlYWwgc29icmUgc2V1cyBldmVudG9zIChuw6NvIHBvZGUgc2VyIGRlc2F0aXZhZG8pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGlubGluZS1mbGV4IGgtNiB3LTExIGl0ZW1zLWNlbnRlciByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tciBmcm9tLW9yYW5nZS01MDAgdG8tcmVkLTUwMCBvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1ibG9jayBoLTQgdy00IHRyYW5zZm9ybSByb3VuZGVkLWZ1bGwgYmctd2hpdGUgdHJhbnNsYXRlLXgtNlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0xMyBwbC00IGJvcmRlci1sLTIgYm9yZGVyLXJlZC01MDAvMzBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXdoaXRlLzcwIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2sgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyZWVuLTQwMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+U2VtcHJlIGF0aXZvIHBhcmEgbsOjbyBwZXJkZXIgbmVuaHVtIGV2ZW50byBpbXBvcnRhbnRlPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNiBib3JkZXItdCBib3JkZXItd2hpdGUvMTBcIj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNDAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICB7c2F2aW5nID8gJ1NhbHZhbmRvLi4uJyA6ICdBbHRlcmHDp8O1ZXMgc8OjbyBzYWx2YXMgYXV0b21hdGljYW1lbnRlJ31cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS01MDAgdG8tcGluay01MDAgaG92ZXI6ZnJvbS1wdXJwbGUtNjAwIGhvdmVyOnRvLXBpbmstNjAwXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgRmVjaGFyXHJcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgICAgPC8+XHJcbiAgICAgICl9XHJcbiAgICA8L0FuaW1hdGVQcmVzZW5jZT5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2V0dGluZ3M7Il0sInZlcnNpb24iOjN9