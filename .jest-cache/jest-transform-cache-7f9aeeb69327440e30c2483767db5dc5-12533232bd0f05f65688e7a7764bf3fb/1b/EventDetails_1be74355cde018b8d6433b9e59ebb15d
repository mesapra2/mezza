ac43ea715f35e1150e914b8d0ae019be
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
// src/features/shared/pages/EventDetails.jsx
const react_1 = require("react");
const prop_types_1 = tslib_1.__importDefault(require("prop-types"));
const react_router_dom_1 = require("react-router-dom");
const react_helmet_async_1 = require("react-helmet-async");
const framer_motion_1 = require("framer-motion");
const lucide_react_1 = require("lucide-react");
const supabaseClient_1 = require("@/lib/supabaseClient");
const EventApply_1 = tslib_1.__importDefault(require("@/features/shared/components/events/EventApply"));
const Avatar_1 = tslib_1.__importDefault(require("@/features/shared/components/profile/Avatar"));
const ParticipantsManager_1 = tslib_1.__importDefault(require("@/features/shared/components/events/ParticipantsManager"));
const EventEvaluationSection_1 = tslib_1.__importDefault(require("@/features/shared/components/events/EventEvaluationSection"));
const EventEntryForm_1 = tslib_1.__importDefault(require("@/features/shared/components/ui/EventEntryForm"));
const AuthContext_1 = require("@/contexts/AuthContext");
const date_fns_1 = require("date-fns");
const locale_1 = require("date-fns/locale");
const button_1 = require("@/features/shared/components/ui/button");
const ParticipationService_1 = tslib_1.__importDefault(require("@/services/ParticipationService"));
const EventSecurityService_1 = tslib_1.__importDefault(require("@/services/EventSecurityService"));
const EventPhotosService_1 = tslib_1.__importDefault(require("@/services/EventPhotosService"));
const use_toast_1 = require("@/features/shared/components/ui/use-toast");
// ============================================
// COMPONENTE: EventEntryStats
// ============================================
const EventEntryStats = ({ eventId }) => {
    const [stats, setStats] = (0, react_1.useState)(null);
    (0, react_1.useEffect)(() => {
        const loadStats = async () => {
            try {
                const result = await ParticipationService_1.default.getEventEntryStats(eventId);
                if (result.success) {
                    setStats(result.data);
                }
            }
            catch (error) {
                console.error('Erro ao carregar stats:', error);
            }
        };
        loadStats();
        const interval = setInterval(loadStats, 5000);
        return () => clearInterval(interval);
    }, [eventId]);
    if (!stats)
        return (0, jsx_runtime_1.jsx)("div", { className: "text-xs text-slate-400", children: "Carregando..." });
    return ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-2 text-xs text-slate-400", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between", children: [(0, jsx_runtime_1.jsx)("span", { children: "Total de participantes:" }), (0, jsx_runtime_1.jsx)("span", { className: "text-white font-semibold", children: stats.totalParticipants })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between", children: [(0, jsx_runtime_1.jsx)("span", { children: "Com acesso:" }), (0, jsx_runtime_1.jsx)("span", { className: "text-green-400 font-semibold", children: stats.participantsWithAccess })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between", children: [(0, jsx_runtime_1.jsx)("span", { children: "Sem acesso:" }), (0, jsx_runtime_1.jsx)("span", { className: "text-orange-400 font-semibold", children: stats.participantsWithoutAccess })] }), (0, jsx_runtime_1.jsx)("div", { className: "mt-3 w-full bg-slate-700 rounded-full h-2 overflow-hidden", children: (0, jsx_runtime_1.jsx)("div", { className: "h-full bg-gradient-to-r from-green-600 to-green-500 transition-all", style: { width: `${stats.accessPercentage}%` } }) }), (0, jsx_runtime_1.jsxs)("div", { className: "text-center text-xs text-slate-500", children: [stats.accessPercentage, "% de acesso"] })] }));
};
EventEntryStats.propTypes = {
    eventId: prop_types_1.default.number.isRequired
};
// ============================================
// COMPONENTE PRINCIPAL: EventDetails
// ============================================
const EventDetails = () => {
    const { id } = (0, react_router_dom_1.useParams)();
    const { user } = (0, AuthContext_1.useAuth)();
    const { toast } = (0, use_toast_1.useToast)();
    const fileInputRef = (0, react_1.useRef)(null);
    // Estados originais
    const [event, setEvent] = (0, react_1.useState)(null);
    const [creator, setCreator] = (0, react_1.useState)(null);
    const [participants, setParticipants] = (0, react_1.useState)([]);
    const [userParticipation, setUserParticipation] = (0, react_1.useState)(null);
    const [loading, setLoading] = (0, react_1.useState)(true);
    const [cancelLoading, setCancelLoading] = (0, react_1.useState)(false);
    const [error, setError] = (0, react_1.useState)(null);
    const [showCancelConfirm, setShowCancelConfirm] = (0, react_1.useState)(false);
    // Novos estados para sistema de entrada
    const [showEntryForm, setShowEntryForm] = (0, react_1.useState)(false);
    const [entryIsBlocked, setEntryIsBlocked] = (0, react_1.useState)(false);
    const [entryStatus, setEntryStatus] = (0, react_1.useState)('');
    const [userHasAccess, setUserHasAccess] = (0, react_1.useState)(false);
    // Estado para inscrição direta
    const [isRegistering, setIsRegistering] = (0, react_1.useState)(false);
    const [uploadingPhoto, setUploadingPhoto] = (0, react_1.useState)(false);
    const fetchEventData = (0, react_1.useCallback)(async () => {
        try {
            setLoading(true);
            setError(null);
            console.log('Carregando evento ID:', id);
            const { data: eventData, error: eventError } = await supabaseClient_1.supabase
                .from('events')
                .select('*, partners(id, name, address)')
                .eq('id', id)
                .single();
            if (eventError)
                throw eventError;
            if (!eventData)
                throw new Error('Evento não encontrado');
            setEvent(eventData);
            // Buscar creator
            try {
                const { data: creatorData } = await supabaseClient_1.supabase
                    .from('profiles')
                    .select('id, username, full_name, avatar_url, public_profile')
                    .eq('id', eventData.creator_id)
                    .maybeSingle();
                setCreator(creatorData);
            }
            catch (err) {
                console.warn('Erro ao buscar creator:', err);
            }
            // Buscar participação do usuário
            if (user) {
                try {
                    const { data: userPartData } = await supabaseClient_1.supabase
                        .from('event_participants')
                        .select('*')
                        .eq('event_id', id)
                        .eq('user_id', user.id)
                        .eq('status', 'aprovado')
                        .maybeSingle();
                    setUserParticipation(userPartData || null);
                }
                catch (err) {
                    setUserParticipation(null);
                }
            }
            // Buscar participantes aprovados
            try {
                const { data: participationsData } = await supabaseClient_1.supabase
                    .from('event_participants')
                    .select('user_id')
                    .eq('event_id', id)
                    .eq('status', 'aprovado');
                if (participationsData?.length > 0) {
                    const userIds = participationsData.map(p => p.user_id);
                    const { data: participantsData } = await supabaseClient_1.supabase
                        .from('profiles')
                        .select('id, username, full_name, avatar_url, public_profile')
                        .in('id', userIds);
                    setParticipants(participantsData || []);
                }
                else {
                    setParticipants([]);
                }
            }
            catch (err) {
                setParticipants([]);
            }
        }
        catch (err) {
            setError(err.message || 'Erro ao carregar detalhes do evento');
        }
        finally {
            setLoading(false);
        }
    }, [id, user]);
    (0, react_1.useEffect)(() => {
        fetchEventData();
    }, [fetchEventData]);
    const getPartnerDisplay = () => {
        if (!event)
            return null;
        if (event.partners && event.partners.name) {
            let addressText = event.partners.name;
            if (event.partners.address) {
                if (typeof event.partners.address === 'string') {
                    addressText += ` - ${event.partners.address}`;
                }
                else if (typeof event.partners.address === 'object') {
                    const parts = [event.partners.address.street, event.partners.address.city].filter(Boolean);
                    if (parts.length > 0) {
                        addressText += ` - ${parts.join(', ')}`;
                    }
                }
            }
            return addressText;
        }
        return 'Local a definir';
    };
    // Monitorar timing de entrada
    (0, react_1.useEffect)(() => {
        if (!event || !user || !userParticipation)
            return;
        const checkEntryTiming = async () => {
            try {
                const now = new Date();
                const startTime = new Date(event.start_time);
                const endTime = new Date(event.end_time);
                const oneMinBeforeStart = new Date(startTime.getTime() - 60 * 1000);
                const twoMinBeforeEnd = new Date(endTime.getTime() - 2 * 60 * 1000);
                const hasAccess = await EventSecurityService_1.default.hasUserAccess(event.id, user.id);
                setUserHasAccess(hasAccess);
                if (hasAccess) {
                    setShowEntryForm(false);
                    setEntryStatus('Você tem acesso ao evento');
                    return;
                }
                if (now >= twoMinBeforeEnd) {
                    setShowEntryForm(false);
                    setEntryIsBlocked(true);
                    setEntryStatus('Entrada encerrada (evento terminando)');
                    return;
                }
                if (now >= oneMinBeforeStart && now < twoMinBeforeEnd) {
                    setShowEntryForm(true);
                    setEntryIsBlocked(false);
                    setEntryStatus('Digite a senha para entrar!');
                }
                else {
                    setShowEntryForm(false);
                    setEntryIsBlocked(false);
                    const timeUntilAvailable = oneMinBeforeStart - now;
                    if (timeUntilAvailable > 0) {
                        const minutesLeft = Math.floor(timeUntilAvailable / 60000);
                        const secondsLeft = Math.floor((timeUntilAvailable % 60000) / 1000);
                        setEntryStatus(`Entrada disponível em ${minutesLeft}m ${secondsLeft}s`);
                    }
                    else if (now < startTime) {
                        setEntryStatus('Evento ainda não começou');
                    }
                }
            }
            catch (error) {
                console.error('Erro ao verificar timing de entrada:', error);
            }
        };
        checkEntryTiming();
        const interval = setInterval(checkEntryTiming, 1000);
        return () => clearInterval(interval);
    }, [event, user, userParticipation]);
    const handleEntrySuccess = () => {
        setShowEntryForm(false);
        setUserHasAccess(true);
        setEntryStatus('Você entrou no evento!');
        toast({ title: 'Acesso liberado!', description: 'Bem-vindo ao evento. Aproveite!' });
        fetchEventData();
    };
    const canCancelParticipation = () => {
        if (!userParticipation || !event)
            return { canCancel: false, reason: '' };
        const now = new Date();
        const subscriptionTime = new Date(userParticipation.created_at);
        const eventStart = new Date(event.start_time);
        const minutesSinceSubscription = (0, date_fns_1.differenceInMinutes)(now, subscriptionTime);
        const hoursUntilEvent = (0, date_fns_1.differenceInHours)(eventStart, now);
        if (minutesSinceSubscription > 30) {
            return { canCancel: false, reason: 'O prazo de 30 minutos para cancelamento expirou.' };
        }
        if (hoursUntilEvent < 4) {
            return { canCancel: false, reason: 'Não é possível cancelar com menos de 4 horas do evento.' };
        }
        return { canCancel: true, reason: '' };
    };
    const handleCancelParticipation = async () => {
        if (!userParticipation)
            return;
        setCancelLoading(true);
        try {
            const result = await ParticipationService_1.default.cancelParticipation(userParticipation.id, user.id);
            if (result.success) {
                toast({ title: 'Inscrição cancelada!', description: 'Sua participação foi cancelada com sucesso.' });
                setShowCancelConfirm(false);
                await fetchEventData();
            }
            else {
                toast({ variant: 'destructive', title: 'Erro ao cancelar', description: result.error || 'Não foi possível cancelar a inscrição.' });
            }
        }
        catch (error) {
            toast({ variant: 'destructive', title: 'Erro ao cancelar', description: 'Ocorreu um erro inesperado.' });
        }
        finally {
            setCancelLoading(false);
        }
    };
    const handleInstitutionalApply = async () => {
        if (!user || !event)
            return;
        setIsRegistering(true);
        try {
            const { error } = await supabaseClient_1.supabase
                .from('event_participants')
                .insert({ event_id: event.id, user_id: user.id, status: 'aprovado' });
            if (error)
                throw error;
            toast({ title: 'Inscrição Confirmada!', description: 'Você foi inscrito automaticamente neste evento.' });
            await fetchEventData();
        }
        catch (error) {
            toast({ variant: 'destructive', title: 'Erro na inscrição', description: error.message || 'Não foi possível se inscrever.' });
        }
        finally {
            setIsRegistering(false);
        }
    };
    // Upload de foto
    const handlePhotoUpload = async (e) => {
        const file = e.target.files?.[0];
        if (!file)
            return;
        setUploadingPhoto(true);
        try {
            const result = await EventPhotosService_1.default.uploadEventPhoto(parseInt(id), user.id, file);
            if (result.success) {
                toast({ title: 'Foto enviada!', description: 'Sua foto foi publicada no evento.' });
                await fetchEventData(); // Recarregar dados
            }
            else {
                toast({ variant: 'destructive', title: 'Erro', description: result.error });
            }
        }
        catch {
            toast({ variant: 'destructive', title: 'Erro', description: 'Falha no upload.' });
        }
        finally {
            setUploadingPhoto(false);
            if (fileInputRef.current) {
                fileInputRef.current.value = '';
            }
        }
    };
    if (loading) {
        return ((0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-center min-h-screen", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "w-16 h-16 text-white/40 animate-spin" }) }));
    }
    if (error || !event) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: "text-center py-20", children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-3xl font-bold text-red-500 mb-4", children: "Erro" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 mb-8", children: error || 'Evento não encontrado' }), (0, jsx_runtime_1.jsx)(button_1.Button, { asChild: true, children: (0, jsx_runtime_1.jsx)(react_router_dom_1.Link, { to: "/events", children: "Voltar para Eventos" }) })] }));
    }
    const isCreator = user && user.id === event.creator_id;
    const isParticipant = userParticipation !== null;
    const isEventOver = new Date(event.end_time) < new Date();
    const isEventFinalized = event.status === 'Finalizado';
    const isEventConcluded = event.status === 'Concluído';
    const hasEvaluated = userParticipation?.avaliacao_feita || false;
    const hasAttended = userParticipation?.presenca_confirmada || false;
    const cancelCheck = canCancelParticipation();
    const partnerName = event.partners ? event.partners.name : null;
    // ✅ LÓGICA DE EXIBIÇÃO DE FOTO
    const canUploadPhoto = () => {
        if (!isParticipant || !hasAttended)
            return false;
        // Em "Finalizado": só pode enviar se JÁ avaliou
        if (isEventFinalized) {
            return hasEvaluated;
        }
        // Em "Concluído": pode enviar/trocar se < 6 meses
        if (isEventConcluded) {
            const monthsSinceEnd = (0, date_fns_1.differenceInMonths)(new Date(), new Date(event.end_time));
            return monthsSinceEnd < 6;
        }
        return false;
    };
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)(react_helmet_async_1.Helmet, { children: [(0, jsx_runtime_1.jsxs)("title", { children: [event.title, " - Mesapra2"] }), (0, jsx_runtime_1.jsx)("meta", { name: "description", content: event.description })] }), (0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, className: "py-6 px-4 sm:px-6 lg:px-8 space-y-6 max-w-4xl mx-auto", children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-3xl font-bold text-white mb-4", children: event.title }), creator && ((0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl p-6 border border-white/10", children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-xl font-semibold text-white mb-4", children: "Criado por" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4", children: [(0, jsx_runtime_1.jsx)(Avatar_1.default, { url: creator.avatar_url, name: creator.username || creator.full_name, size: "lg", isPublic: creator.public_profile }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-white font-medium", children: creator.username || creator.full_name }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-sm", children: "Anfitri\u00E3o" })] })] })] })), (0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl p-6 border border-white/10", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-white/80 mb-6", children: event.description }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-white/60", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "w-5 h-5 mr-3" }), (0, date_fns_1.format)(new Date(event.start_time), "dd 'de' MMMM 'de' yyyy", { locale: locale_1.ptBR })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-white/60", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { className: "w-5 h-5 mr-3" }), "De ", (0, date_fns_1.format)(new Date(event.start_time), 'HH:mm', { locale: locale_1.ptBR }), " at\u00E9 ", (0, date_fns_1.format)(new Date(event.end_time), 'HH:mm', { locale: locale_1.ptBR })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-white/60", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.MapPin, { className: "w-5 h-5 mr-3" }), getPartnerDisplay()] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-white/60", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "w-5 h-5 mr-3" }), event.vagas, " vagas dispon\u00EDveis"] })] })] }), participants.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl p-6 border border-white/10", children: [(0, jsx_runtime_1.jsxs)("h2", { className: "text-xl font-semibold text-white mb-4", children: ["Participantes Aprovados (", participants.length, ")"] }), (0, jsx_runtime_1.jsx)("div", { className: "flex flex-wrap gap-4", children: participants.map(participant => ((0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col items-center gap-2", children: [(0, jsx_runtime_1.jsx)(Avatar_1.default, { url: participant.avatar_url, name: participant.username || participant.full_name, size: "md", isPublic: participant.public_profile }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/80 text-sm", children: participant.username || participant.full_name })] }, participant.id))) })] })), isCreator && !isEventFinalized && !isEventConcluded && ((0, jsx_runtime_1.jsx)(ParticipantsManager_1.default, { eventId: String(event.id), eventType: event.event_type, onUpdate: fetchEventData })), !isCreator && !isParticipant && ((0, jsx_runtime_1.jsx)(jsx_runtime_1.Fragment, { children: event.event_type === 'institucional' ? ((0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl p-6 border border-white/10", children: [(0, jsx_runtime_1.jsx)("h2", { className: "text-xl font-semibold text-white mb-4", children: "Inscri\u00E7\u00E3o Direta" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/70 text-sm mb-6", children: "Este \u00E9 um evento institucional. Sua inscri\u00E7\u00E3o ser\u00E1 aprovada automaticamente." }), (0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: handleInstitutionalApply, disabled: isRegistering, className: "w-full", children: [isRegistering ? (0, jsx_runtime_1.jsx)(lucide_react_1.Loader, { className: "w-4 h-4 mr-2 animate-spin" }) : null, "Inscrever-se Agora"] })] })) : ((0, jsx_runtime_1.jsx)(EventApply_1.default, { event: event, onSuccess: fetchEventData })) })), !isCreator && isParticipant && !userHasAccess && (event.status === 'Confirmado' || event.status === 'Em Andamento') && ((0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl p-6 border border-blue-500/30 bg-blue-500/5", children: [(0, jsx_runtime_1.jsx)("div", { className: "text-center mb-6", children: (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-slate-300", children: entryStatus }) }), showEntryForm && !entryIsBlocked && (0, jsx_runtime_1.jsx)(EventEntryForm_1.default, { eventId: event.id, onSuccess: handleEntrySuccess, isDisabled: entryIsBlocked }), entryIsBlocked && ((0, jsx_runtime_1.jsxs)("div", { className: "text-center p-6 bg-red-500/10 border border-red-500/30 rounded-lg", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-lg font-semibold text-red-400 mb-2", children: "Entrada Encerrada" }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-300", children: "A entrada foi bloqueada. O evento est\u00E1 chegando ao fim." })] })), !showEntryForm && !entryIsBlocked && !userHasAccess && ((0, jsx_runtime_1.jsxs)("div", { className: "text-center p-6 bg-blue-500/10 border border-blue-500/30 rounded-lg", children: [(0, jsx_runtime_1.jsx)("div", { className: "mb-4", children: (0, jsx_runtime_1.jsx)("div", { className: "inline-block h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent" }) }), (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-blue-300", children: entryStatus })] }))] })), !isCreator && isParticipant && userHasAccess && event.status === 'Em Andamento' && ((0, jsx_runtime_1.jsx)("div", { className: "glass-effect rounded-2xl p-6 border border-green-500/30 bg-green-500/5", children: (0, jsx_runtime_1.jsx)("div", { className: "p-3 bg-green-500/10 border border-green-500/30 rounded-lg mb-4", children: (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-green-400 text-center", children: "Voc\u00EA tem acesso ao evento. Aproveite!" }) }) })), !isCreator && isParticipant && !isEventOver && !userHasAccess && event.status !== 'Em Andamento' && ((0, jsx_runtime_1.jsx)("div", { className: "glass-effect rounded-2xl p-6 border border-green-500/30 bg-green-500/5", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-4 mb-4", children: [(0, jsx_runtime_1.jsx)("div", { className: "w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0", children: (0, jsx_runtime_1.jsx)(lucide_react_1.CheckCircle, { className: "w-6 h-6 text-green-400" }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white mb-2", children: "Voc\u00EA est\u00E1 participando deste evento!" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/70 text-sm mb-4", children: "Sua inscri\u00E7\u00E3o foi confirmada. Prepare-se para uma experi\u00EAncia incr\u00EDvel!" }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2 mb-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-white/60 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "w-4 h-4 mr-2" }), (0, jsx_runtime_1.jsx)("span", { children: (0, date_fns_1.format)(new Date(event.start_time), "dd/MM/yyyy 'às' HH:mm", { locale: locale_1.ptBR }) })] }), partnerName && ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-white/60 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.MapPin, { className: "w-4 h-4 mr-2" }), (0, jsx_runtime_1.jsx)("span", { children: partnerName })] }))] }), (0, jsx_runtime_1.jsx)("div", { className: "p-3 rounded-lg bg-blue-500/10 border border-blue-500/20 mb-4", children: (0, jsx_runtime_1.jsx)("p", { className: "text-blue-300 text-sm", children: "Volte aqui ap\u00F3s o t\u00E9rmino do evento para compartilhar suas fotos e avaliar a experi\u00EAncia." }) }), cancelCheck.canCancel ? (!showCancelConfirm ? ((0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "outline", onClick: () => setShowCancelConfirm(true), className: "border-red-500/30 text-red-400 hover:bg-red-500/10 hover:text-red-300", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "w-4 h-4 mr-2" }), "Cancelar Inscri\u00E7\u00E3o"] })) : ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-3 p-4 rounded-lg bg-red-500/10 border border-red-500/30", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertTriangle, { className: "w-5 h-5 text-red-400 flex-shrink-0 mt-0.5" }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-red-300 font-medium mb-1", children: "Confirmar cancelamento?" }), (0, jsx_runtime_1.jsx)("p", { className: "text-red-200/80 text-sm", children: "Esta a\u00E7\u00E3o n\u00E3o pode ser desfeita. Sua vaga ser\u00E1 liberada para outros participantes." })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex gap-2", children: [(0, jsx_runtime_1.jsx)(button_1.Button, { variant: "outline", size: "sm", onClick: () => setShowCancelConfirm(false), disabled: cancelLoading, className: "flex-1", children: "Manter Inscri\u00E7\u00E3o" }), (0, jsx_runtime_1.jsx)(button_1.Button, { variant: "destructive", size: "sm", onClick: handleCancelParticipation, disabled: cancelLoading, className: "flex-1 bg-red-600 hover:bg-red-700", children: cancelLoading ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Loader, { className: "w-4 h-4 mr-2 animate-spin" }), "Cancelando..."] })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "w-4 h-4 mr-2" }), "Confirmar Cancelamento"] })) })] })] }))) : ((0, jsx_runtime_1.jsx)("div", { className: "p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/20", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertTriangle, { className: "w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5" }), (0, jsx_runtime_1.jsx)("p", { className: "text-yellow-300 text-sm", children: cancelCheck.reason })] }) }))] })] }) })), isCreator && (event.status === 'Confirmado' || event.status === 'Em Andamento') && ((0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl p-6 border border-white/10", children: [(0, jsx_runtime_1.jsx)("h3", { className: "text-sm font-semibold text-white mb-3", children: "Estat\u00EDsticas de Entrada" }), (0, jsx_runtime_1.jsx)(EventEntryStats, { eventId: event.id })] })), isEventFinalized && isParticipant && hasAttended && ((0, jsx_runtime_1.jsx)("div", { className: "glass-effect rounded-2xl p-6 border border-white/10", children: (0, jsx_runtime_1.jsx)("div", { className: "space-y-6", children: !hasEvaluated ? ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3 mb-4", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Star, { className: "w-6 h-6 text-yellow-400" }), (0, jsx_runtime_1.jsx)("h3", { className: "text-2xl font-semibold text-white", children: "Avalie sua experi\u00EAncia" })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 mb-6", children: "Compartilhe sua opini\u00E3o sobre o evento, o anfitri\u00E3o, os participantes e o restaurante." }), (0, jsx_runtime_1.jsx)(EventEvaluationSection_1.default, { eventId: parseInt(id), isCreator: isCreator, isParticipant: isParticipant, userId: user?.id, creator: creator, participants: participants, event: event, onRefresh: fetchEventData })] })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)("div", { className: "p-4 rounded-lg bg-green-500/10 border border-green-500/30", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Star, { className: "w-5 h-5 text-green-400 fill-green-400" }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-green-400 font-semibold", children: "Avalia\u00E7\u00E3o completa!" }), (0, jsx_runtime_1.jsx)("p", { className: "text-green-300/80 text-sm", children: "Obrigado por compartilhar sua experi\u00EAncia." })] })] }) }), canUploadPhoto() && ((0, jsx_runtime_1.jsxs)("div", { className: "pt-6 border-t border-white/10", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3 mb-4", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Camera, { className: "w-6 h-6 text-purple-400" }), (0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white", children: "Compartilhe uma foto" })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 mb-4", children: "Envie uma foto do evento para o hist\u00F3rico e para o carousel do restaurante." }), (0, jsx_runtime_1.jsx)("input", { ref: fileInputRef, type: "file", accept: "image/*", className: "hidden", onChange: handlePhotoUpload }), (0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: () => fileInputRef.current?.click(), disabled: uploadingPhoto, className: "bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600", children: [uploadingPhoto ? ((0, jsx_runtime_1.jsx)(lucide_react_1.Loader, { className: "w-4 h-4 mr-2 animate-spin" })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.Camera, { className: "w-4 h-4 mr-2" })), uploadingPhoto ? 'Enviando...' : 'Enviar Foto'] })] }))] })) }) })), isEventConcluded && isParticipant && hasAttended && canUploadPhoto() && ((0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl p-6 border border-white/10", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-3 mb-4", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Camera, { className: "w-6 h-6 text-purple-400" }), (0, jsx_runtime_1.jsx)("h3", { className: "text-xl font-semibold text-white", children: "Trocar foto do evento" })] }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 mb-4", children: "Voc\u00EA pode trocar sua foto do evento por at\u00E9 6 meses ap\u00F3s a conclus\u00E3o." }), (0, jsx_runtime_1.jsx)("input", { ref: fileInputRef, type: "file", accept: "image/*", className: "hidden", onChange: handlePhotoUpload }), (0, jsx_runtime_1.jsxs)(button_1.Button, { onClick: () => fileInputRef.current?.click(), disabled: uploadingPhoto, className: "bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600", children: [uploadingPhoto ? ((0, jsx_runtime_1.jsx)(lucide_react_1.Loader, { className: "w-4 h-4 mr-2 animate-spin" })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.Camera, { className: "w-4 h-4 mr-2" })), uploadingPhoto ? 'Enviando...' : 'Trocar Foto'] })] }))] })] }));
};
exports.default = EventDetails;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xcc2hhcmVkXFxwYWdlc1xcRXZlbnREZXRhaWxzLmpzeCIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsNkNBQTZDO0FBQzdDLGlDQUFpRTtBQUNqRSxvRUFBbUM7QUFDbkMsdURBQW1EO0FBQ25ELDJEQUE0QztBQUM1QyxpREFBdUM7QUFDdkMsK0NBQW1IO0FBQ25ILHlEQUFnRDtBQUNoRCx3R0FBd0U7QUFDeEUsaUdBQWlFO0FBQ2pFLDBIQUE2RjtBQUM3RixnSUFBZ0c7QUFDaEcsNEdBQTRFO0FBQzVFLHdEQUFpRDtBQUNqRCx1Q0FBOEY7QUFDOUYsNENBQXVDO0FBQ3ZDLG1FQUFnRTtBQUNoRSxtR0FBbUU7QUFDbkUsbUdBQW1FO0FBQ25FLCtGQUErRDtBQUMvRCx5RUFBcUU7QUFFckUsK0NBQStDO0FBQy9DLDhCQUE4QjtBQUM5QiwrQ0FBK0M7QUFDL0MsTUFBTSxlQUFlLEdBQUcsQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7SUFDdEMsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsSUFBSSxDQUFDLENBQUM7SUFFekMsSUFBQSxpQkFBUyxFQUFDLEdBQUcsRUFBRTtRQUNiLE1BQU0sU0FBUyxHQUFHLEtBQUssSUFBSSxFQUFFO1lBQzNCLElBQUksQ0FBQztnQkFDSCxNQUFNLE1BQU0sR0FBRyxNQUFNLDhCQUFvQixDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUN0RSxJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztvQkFDbkIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDeEIsQ0FBQztZQUNILENBQUM7WUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO2dCQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMseUJBQXlCLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDbEQsQ0FBQztRQUNILENBQUMsQ0FBQztRQUVGLFNBQVMs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QUMscUJBQU0sSUFBQyxTQUFTLEVBQUMseUJBQXlCLEdBQUcsRUFDOUMsK0JBQUksU0FBUyxFQUFDLGtDQUFrQyxzQ0FBMkIsSUFDdkUsRUFDTiw4QkFBRyxTQUFTLEVBQUMsb0JBQW9CLDBHQUU3QixFQUVKLGtDQUNFLEdBQUcsRUFBRSxZQUFZLEVBQ2pCLElBQUksRUFBQyxNQUFNLEVBQ1gsTUFBTSxFQUFDLFNBQVMsRUFDaEIsU0FBUyxFQUFDLFFBQVEsRUFDbEIsUUFBUSxFQUFFLGlCQUFpQixHQUMzQixFQUVGLHdCQUFDLGVBQU0sSUFDTCxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFDNUMsUUFBUSxFQUFFLGNBQWMsRUFDeEIsU0FBUyxFQUFDLHNGQUFzRixhQUUvRixjQUFjLENBQUMsQ0FBQyxDQUFDLENBQ2hCLHVCQUFDLHFCQUFNLElBQUMsU0FBUyxFQUFDLDJCQUEyQixHQUFHLENBQ2pELENBQUMsQ0FBQyxDQUFDLENBQ0YsdUJBQUMscUJBQU0sSUFBQyxTQUFTLEVBQUMsY0FBYyxHQUFHLENBQ3BDLEVBQ0EsY0FBYyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLGFBQWEsSUFDeEMsSUFDTCxDQUNQLElBRVUsSUFDWixDQUNKLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixrQkFBZSxZQUFZLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xcc2hhcmVkXFxwYWdlc1xcRXZlbnREZXRhaWxzLmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvZmVhdHVyZXMvc2hhcmVkL3BhZ2VzL0V2ZW50RGV0YWlscy5qc3hcclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgdXNlUGFyYW1zLCBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB7IEhlbG1ldCB9IGZyb20gJ3JlYWN0LWhlbG1ldC1hc3luYyc7XHJcbmltcG9ydCB7IG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xyXG5pbXBvcnQgeyBDYWxlbmRhciwgVXNlcnMsIE1hcFBpbiwgQ2xvY2ssIENoZWNrQ2lyY2xlLCBYLCBBbGVydFRyaWFuZ2xlLCBMb2FkZXIsIENhbWVyYSwgU3RhciB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2VDbGllbnQnO1xyXG5pbXBvcnQgRXZlbnRBcHBseSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL2V2ZW50cy9FdmVudEFwcGx5JztcclxuaW1wb3J0IEF2YXRhciBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3Byb2ZpbGUvQXZhdGFyJztcclxuaW1wb3J0IFBhcnRpY2lwYW50c01hbmFnZW1lbnQgZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy9ldmVudHMvUGFydGljaXBhbnRzTWFuYWdlcic7XHJcbmltcG9ydCBFdmVudEV2YWx1YXRpb25TZWN0aW9uIGZyb20gJ0AvZmVhdHVyZXMvc2hhcmVkL2NvbXBvbmVudHMvZXZlbnRzL0V2ZW50RXZhbHVhdGlvblNlY3Rpb24nO1xyXG5pbXBvcnQgRXZlbnRFbnRyeUZvcm0gZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy91aS9FdmVudEVudHJ5Rm9ybSc7XHJcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICdAL2NvbnRleHRzL0F1dGhDb250ZXh0JztcclxuaW1wb3J0IHsgZm9ybWF0LCBkaWZmZXJlbmNlSW5NaW51dGVzLCBkaWZmZXJlbmNlSW5Ib3VycywgZGlmZmVyZW5jZUluTW9udGhzIH0gZnJvbSAnZGF0ZS1mbnMnO1xyXG5pbXBvcnQgeyBwdEJSIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy91aS9idXR0b24nO1xyXG5pbXBvcnQgUGFydGljaXBhdGlvblNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9QYXJ0aWNpcGF0aW9uU2VydmljZSc7XHJcbmltcG9ydCBFdmVudFNlY3VyaXR5U2VydmljZSBmcm9tICdAL3NlcnZpY2VzL0V2ZW50U2VjdXJpdHlTZXJ2aWNlJztcclxuaW1wb3J0IEV2ZW50UGhvdG9zU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL0V2ZW50UGhvdG9zU2VydmljZSc7XHJcbmltcG9ydCB7IHVzZVRvYXN0IH0gZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy91aS91c2UtdG9hc3QnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ09NUE9ORU5URTogRXZlbnRFbnRyeVN0YXRzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmNvbnN0IEV2ZW50RW50cnlTdGF0cyA9ICh7IGV2ZW50SWQgfSkgPT4ge1xyXG4gIGNvbnN0IFtzdGF0cywgc2V0U3RhdHNdID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBsb2FkU3RhdHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUGFydGljaXBhdGlvblNlcnZpY2UuZ2V0RXZlbnRFbnRyeVN0YXRzKGV2ZW50SWQpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgc2V0U3RhdHMocmVzdWx0LmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNhcnJlZ2FyIHN0YXRzOicsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsb2FkU3RhdHMoKTtcclxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwobG9hZFN0YXRzLCA1MDAwKTtcclxuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICB9LCBbZXZlbnRJZF0pO1xyXG5cclxuICBpZiAoIXN0YXRzKSByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtc2xhdGUtNDAwXCI+Q2FycmVnYW5kby4uLjwvZGl2PjtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIHRleHQteHMgdGV4dC1zbGF0ZS00MDBcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxyXG4gICAgICAgIDxzcGFuPlRvdGFsIGRlIHBhcnRpY2lwYW50ZXM6PC9zcGFuPlxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1zZW1pYm9sZFwiPntzdGF0cy50b3RhbFBhcnRpY2lwYW50c308L3NwYW4+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgPHNwYW4+Q29tIGFjZXNzbzo8L3NwYW4+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi00MDAgZm9udC1zZW1pYm9sZFwiPntzdGF0cy5wYXJ0aWNpcGFudHNXaXRoQWNjZXNzfTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICA8c3Bhbj5TZW0gYWNlc3NvOjwvc3Bhbj5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW9yYW5nZS00MDAgZm9udC1zZW1pYm9sZFwiPntzdGF0cy5wYXJ0aWNpcGFudHNXaXRob3V0QWNjZXNzfTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgdy1mdWxsIGJnLXNsYXRlLTcwMCByb3VuZGVkLWZ1bGwgaC0yIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgIGNsYXNzTmFtZT1cImgtZnVsbCBiZy1ncmFkaWVudC10by1yIGZyb20tZ3JlZW4tNjAwIHRvLWdyZWVuLTUwMCB0cmFuc2l0aW9uLWFsbFwiXHJcbiAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7c3RhdHMuYWNjZXNzUGVyY2VudGFnZX0lYCB9fVxyXG4gICAgICAgID48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC14cyB0ZXh0LXNsYXRlLTUwMFwiPlxyXG4gICAgICAgIHtzdGF0cy5hY2Nlc3NQZXJjZW50YWdlfSUgZGUgYWNlc3NvXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbkV2ZW50RW50cnlTdGF0cy5wcm9wVHlwZXMgPSB7XHJcbiAgZXZlbnRJZDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDT01QT05FTlRFIFBSSU5DSVBBTDogRXZlbnREZXRhaWxzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbmNvbnN0IEV2ZW50RGV0YWlscyA9ICgpID0+IHtcclxuICBjb25zdCB7IGlkIH0gPSB1c2VQYXJhbXMoKTtcclxuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGgoKTtcclxuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpO1xyXG4gIGNvbnN0IGZpbGVJbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcclxuXHJcbiAgLy8gRXN0YWRvcyBvcmlnaW5haXNcclxuICBjb25zdCBbZXZlbnQsIHNldEV2ZW50XSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtjcmVhdG9yLCBzZXRDcmVhdG9yXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtwYXJ0aWNpcGFudHMsIHNldFBhcnRpY2lwYW50c10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW3VzZXJQYXJ0aWNpcGF0aW9uLCBzZXRVc2VyUGFydGljaXBhdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbY2FuY2VsTG9hZGluZywgc2V0Q2FuY2VsTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbc2hvd0NhbmNlbENvbmZpcm0sIHNldFNob3dDYW5jZWxDb25maXJtXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgLy8gTm92b3MgZXN0YWRvcyBwYXJhIHNpc3RlbWEgZGUgZW50cmFkYVxyXG4gIGNvbnN0IFtzaG93RW50cnlGb3JtLCBzZXRTaG93RW50cnlGb3JtXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZW50cnlJc0Jsb2NrZWQsIHNldEVudHJ5SXNCbG9ja2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZW50cnlTdGF0dXMsIHNldEVudHJ5U3RhdHVzXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbdXNlckhhc0FjY2Vzcywgc2V0VXNlckhhc0FjY2Vzc10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgXHJcbiAgLy8gRXN0YWRvIHBhcmEgaW5zY3Jpw6fDo28gZGlyZXRhXHJcbiAgY29uc3QgW2lzUmVnaXN0ZXJpbmcsIHNldElzUmVnaXN0ZXJpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFt1cGxvYWRpbmdQaG90bywgc2V0VXBsb2FkaW5nUGhvdG9dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBmZXRjaEV2ZW50RGF0YSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIHNldEVycm9yKG51bGwpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coJ0NhcnJlZ2FuZG8gZXZlbnRvIElEOicsIGlkKTtcclxuXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogZXZlbnREYXRhLCBlcnJvcjogZXZlbnRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnZXZlbnRzJylcclxuICAgICAgICAuc2VsZWN0KCcqLCBwYXJ0bmVycyhpZCwgbmFtZSwgYWRkcmVzcyknKVxyXG4gICAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgICBpZiAoZXZlbnRFcnJvcikgdGhyb3cgZXZlbnRFcnJvcjtcclxuICAgICAgaWYgKCFldmVudERhdGEpIHRocm93IG5ldyBFcnJvcignRXZlbnRvIG7Do28gZW5jb250cmFkbycpO1xyXG5cclxuICAgICAgc2V0RXZlbnQoZXZlbnREYXRhKTtcclxuXHJcbiAgICAgIC8vIEJ1c2NhciBjcmVhdG9yXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiBjcmVhdG9yRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdwcm9maWxlcycpXHJcbiAgICAgICAgICAuc2VsZWN0KCdpZCwgdXNlcm5hbWUsIGZ1bGxfbmFtZSwgYXZhdGFyX3VybCwgcHVibGljX3Byb2ZpbGUnKVxyXG4gICAgICAgICAgLmVxKCdpZCcsIGV2ZW50RGF0YS5jcmVhdG9yX2lkKVxyXG4gICAgICAgICAgLm1heWJlU2luZ2xlKCk7XHJcblxyXG4gICAgICAgIHNldENyZWF0b3IoY3JlYXRvckRhdGEpO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm8gYW8gYnVzY2FyIGNyZWF0b3I6JywgZXJyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQnVzY2FyIHBhcnRpY2lwYcOnw6NvIGRvIHVzdcOhcmlvXHJcbiAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogdXNlclBhcnREYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgICAuZnJvbSgnZXZlbnRfcGFydGljaXBhbnRzJylcclxuICAgICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAgIC5lcSgnZXZlbnRfaWQnLCBpZClcclxuICAgICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcclxuICAgICAgICAgICAgLmVxKCdzdGF0dXMnLCAnYXByb3ZhZG8nKVxyXG4gICAgICAgICAgICAubWF5YmVTaW5nbGUoKTtcclxuXHJcbiAgICAgICAgICBzZXRVc2VyUGFydGljaXBhdGlvbih1c2VyUGFydERhdGEgfHwgbnVsbCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBzZXRVc2VyUGFydGljaXBhdGlvbihudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEJ1c2NhciBwYXJ0aWNpcGFudGVzIGFwcm92YWRvc1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogcGFydGljaXBhdGlvbnNEYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ2V2ZW50X3BhcnRpY2lwYW50cycpXHJcbiAgICAgICAgICAuc2VsZWN0KCd1c2VyX2lkJylcclxuICAgICAgICAgIC5lcSgnZXZlbnRfaWQnLCBpZClcclxuICAgICAgICAgIC5lcSgnc3RhdHVzJywgJ2Fwcm92YWRvJyk7XHJcblxyXG4gICAgICAgIGlmIChwYXJ0aWNpcGF0aW9uc0RhdGE/Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJJZHMgPSBwYXJ0aWNpcGF0aW9uc0RhdGEubWFwKHAgPT4gcC51c2VyX2lkKTtcclxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogcGFydGljaXBhbnRzRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcclxuICAgICAgICAgICAgLnNlbGVjdCgnaWQsIHVzZXJuYW1lLCBmdWxsX25hbWUsIGF2YXRhcl91cmwsIHB1YmxpY19wcm9maWxlJylcclxuICAgICAgICAgICAgLmluKCdpZCcsIHVzZXJJZHMpO1xyXG5cclxuICAgICAgICAgIHNldFBhcnRpY2lwYW50cyhwYXJ0aWNpcGFudHNEYXRhIHx8IFtdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2V0UGFydGljaXBhbnRzKFtdKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIHNldFBhcnRpY2lwYW50cyhbXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0Vycm8gYW8gY2FycmVnYXIgZGV0YWxoZXMgZG8gZXZlbnRvJyk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9LCBbaWQsIHVzZXJdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGZldGNoRXZlbnREYXRhKCk7XHJcbiAgfSwgW2ZldGNoRXZlbnREYXRhXSk7XHJcblxyXG4gIGNvbnN0IGdldFBhcnRuZXJEaXNwbGF5ID0gKCkgPT4ge1xyXG4gICAgaWYgKCFldmVudCkgcmV0dXJuIG51bGw7XHJcbiAgICBpZiAoZXZlbnQucGFydG5lcnMgJiYgZXZlbnQucGFydG5lcnMubmFtZSkge1xyXG4gICAgICBsZXQgYWRkcmVzc1RleHQgPSBldmVudC5wYXJ0bmVycy5uYW1lO1xyXG4gICAgICBpZiAoZXZlbnQucGFydG5lcnMuYWRkcmVzcykge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnQucGFydG5lcnMuYWRkcmVzcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgIGFkZHJlc3NUZXh0ICs9IGAgLSAke2V2ZW50LnBhcnRuZXJzLmFkZHJlc3N9YDtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBldmVudC5wYXJ0bmVycy5hZGRyZXNzID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgY29uc3QgcGFydHMgPSBbZXZlbnQucGFydG5lcnMuYWRkcmVzcy5zdHJlZXQsIGV2ZW50LnBhcnRuZXJzLmFkZHJlc3MuY2l0eV0uZmlsdGVyKEJvb2xlYW4pO1xyXG4gICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgYWRkcmVzc1RleHQgKz0gYCAtICR7cGFydHMuam9pbignLCAnKX1gO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYWRkcmVzc1RleHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJ0xvY2FsIGEgZGVmaW5pcic7XHJcbiAgfTtcclxuXHJcbiAgLy8gTW9uaXRvcmFyIHRpbWluZyBkZSBlbnRyYWRhXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghZXZlbnQgfHwgIXVzZXIgfHwgIXVzZXJQYXJ0aWNpcGF0aW9uKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY2hlY2tFbnRyeVRpbWluZyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKGV2ZW50LnN0YXJ0X3RpbWUpO1xyXG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZShldmVudC5lbmRfdGltZSk7XHJcbiAgICAgICAgY29uc3Qgb25lTWluQmVmb3JlU3RhcnQgPSBuZXcgRGF0ZShzdGFydFRpbWUuZ2V0VGltZSgpIC0gNjAgKiAxMDAwKTtcclxuICAgICAgICBjb25zdCB0d29NaW5CZWZvcmVFbmQgPSBuZXcgRGF0ZShlbmRUaW1lLmdldFRpbWUoKSAtIDIgKiA2MCAqIDEwMDApO1xyXG5cclxuICAgICAgICBjb25zdCBoYXNBY2Nlc3MgPSBhd2FpdCBFdmVudFNlY3VyaXR5U2VydmljZS5oYXNVc2VyQWNjZXNzKGV2ZW50LmlkLCB1c2VyLmlkKTtcclxuICAgICAgICBzZXRVc2VySGFzQWNjZXNzKGhhc0FjY2Vzcyk7XHJcblxyXG4gICAgICAgIGlmIChoYXNBY2Nlc3MpIHtcclxuICAgICAgICAgIHNldFNob3dFbnRyeUZvcm0oZmFsc2UpO1xyXG4gICAgICAgICAgc2V0RW50cnlTdGF0dXMoJ1ZvY8OqIHRlbSBhY2Vzc28gYW8gZXZlbnRvJyk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobm93ID49IHR3b01pbkJlZm9yZUVuZCkge1xyXG4gICAgICAgICAgc2V0U2hvd0VudHJ5Rm9ybShmYWxzZSk7XHJcbiAgICAgICAgICBzZXRFbnRyeUlzQmxvY2tlZCh0cnVlKTtcclxuICAgICAgICAgIHNldEVudHJ5U3RhdHVzKCdFbnRyYWRhIGVuY2VycmFkYSAoZXZlbnRvIHRlcm1pbmFuZG8pJyk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobm93ID49IG9uZU1pbkJlZm9yZVN0YXJ0ICYmIG5vdyA8IHR3b01pbkJlZm9yZUVuZCkge1xyXG4gICAgICAgICAgc2V0U2hvd0VudHJ5Rm9ybSh0cnVlKTtcclxuICAgICAgICAgIHNldEVudHJ5SXNCbG9ja2VkKGZhbHNlKTtcclxuICAgICAgICAgIHNldEVudHJ5U3RhdHVzKCdEaWdpdGUgYSBzZW5oYSBwYXJhIGVudHJhciEnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2V0U2hvd0VudHJ5Rm9ybShmYWxzZSk7XHJcbiAgICAgICAgICBzZXRFbnRyeUlzQmxvY2tlZChmYWxzZSk7XHJcbiAgICAgICAgICBjb25zdCB0aW1lVW50aWxBdmFpbGFibGUgPSBvbmVNaW5CZWZvcmVTdGFydCAtIG5vdztcclxuICAgICAgICAgIGlmICh0aW1lVW50aWxBdmFpbGFibGUgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbnV0ZXNMZWZ0ID0gTWF0aC5mbG9vcih0aW1lVW50aWxBdmFpbGFibGUgLyA2MDAwMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZHNMZWZ0ID0gTWF0aC5mbG9vcigodGltZVVudGlsQXZhaWxhYmxlICUgNjAwMDApIC8gMTAwMCk7XHJcbiAgICAgICAgICAgIHNldEVudHJ5U3RhdHVzKGBFbnRyYWRhIGRpc3BvbsOtdmVsIGVtICR7bWludXRlc0xlZnR9bSAke3NlY29uZHNMZWZ0fXNgKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAobm93IDwgc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgICAgIHNldEVudHJ5U3RhdHVzKCdFdmVudG8gYWluZGEgbsOjbyBjb21lw6dvdScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIHZlcmlmaWNhciB0aW1pbmcgZGUgZW50cmFkYTonLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY2hlY2tFbnRyeVRpbWluZygpO1xyXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjaGVja0VudHJ5VGltaW5nLCAxMDAwKTtcclxuICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICB9LCBbZXZlbnQsIHVzZXIsIHVzZXJQYXJ0aWNpcGF0aW9uXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUVudHJ5U3VjY2VzcyA9ICgpID0+IHtcclxuICAgIHNldFNob3dFbnRyeUZvcm0oZmFsc2UpO1xyXG4gICAgc2V0VXNlckhhc0FjY2Vzcyh0cnVlKTtcclxuICAgIHNldEVudHJ5U3RhdHVzKCdWb2PDqiBlbnRyb3Ugbm8gZXZlbnRvIScpO1xyXG4gICAgdG9hc3QoeyB0aXRsZTogJ0FjZXNzbyBsaWJlcmFkbyEnLCBkZXNjcmlwdGlvbjogJ0JlbS12aW5kbyBhbyBldmVudG8uIEFwcm92ZWl0ZSEnIH0pO1xyXG4gICAgZmV0Y2hFdmVudERhdGEoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjYW5DYW5jZWxQYXJ0aWNpcGF0aW9uID0gKCkgPT4ge1xyXG4gICAgaWYgKCF1c2VyUGFydGljaXBhdGlvbiB8fCAhZXZlbnQpIHJldHVybiB7IGNhbkNhbmNlbDogZmFsc2UsIHJlYXNvbjogJycgfTtcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICBjb25zdCBzdWJzY3JpcHRpb25UaW1lID0gbmV3IERhdGUodXNlclBhcnRpY2lwYXRpb24uY3JlYXRlZF9hdCk7XHJcbiAgICBjb25zdCBldmVudFN0YXJ0ID0gbmV3IERhdGUoZXZlbnQuc3RhcnRfdGltZSk7XHJcbiAgICBjb25zdCBtaW51dGVzU2luY2VTdWJzY3JpcHRpb24gPSBkaWZmZXJlbmNlSW5NaW51dGVzKG5vdywgc3Vic2NyaXB0aW9uVGltZSk7XHJcbiAgICBjb25zdCBob3Vyc1VudGlsRXZlbnQgPSBkaWZmZXJlbmNlSW5Ib3VycyhldmVudFN0YXJ0LCBub3cpO1xyXG5cclxuICAgIGlmIChtaW51dGVzU2luY2VTdWJzY3JpcHRpb24gPiAzMCkge1xyXG4gICAgICByZXR1cm4geyBjYW5DYW5jZWw6IGZhbHNlLCByZWFzb246ICdPIHByYXpvIGRlIDMwIG1pbnV0b3MgcGFyYSBjYW5jZWxhbWVudG8gZXhwaXJvdS4nIH07XHJcbiAgICB9XHJcbiAgICBpZiAoaG91cnNVbnRpbEV2ZW50IDwgNCkge1xyXG4gICAgICByZXR1cm4geyBjYW5DYW5jZWw6IGZhbHNlLCByZWFzb246ICdOw6NvIMOpIHBvc3PDrXZlbCBjYW5jZWxhciBjb20gbWVub3MgZGUgNCBob3JhcyBkbyBldmVudG8uJyB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgY2FuQ2FuY2VsOiB0cnVlLCByZWFzb246ICcnIH07XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ2FuY2VsUGFydGljaXBhdGlvbiA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghdXNlclBhcnRpY2lwYXRpb24pIHJldHVybjtcclxuICAgIHNldENhbmNlbExvYWRpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQYXJ0aWNpcGF0aW9uU2VydmljZS5jYW5jZWxQYXJ0aWNpcGF0aW9uKHVzZXJQYXJ0aWNpcGF0aW9uLmlkLCB1c2VyLmlkKTtcclxuICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgdG9hc3QoeyB0aXRsZTogJ0luc2NyacOnw6NvIGNhbmNlbGFkYSEnLCBkZXNjcmlwdGlvbjogJ1N1YSBwYXJ0aWNpcGHDp8OjbyBmb2kgY2FuY2VsYWRhIGNvbSBzdWNlc3NvLicgfSk7XHJcbiAgICAgICAgc2V0U2hvd0NhbmNlbENvbmZpcm0oZmFsc2UpO1xyXG4gICAgICAgIGF3YWl0IGZldGNoRXZlbnREYXRhKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9hc3QoeyB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLCB0aXRsZTogJ0Vycm8gYW8gY2FuY2VsYXInLCBkZXNjcmlwdGlvbjogcmVzdWx0LmVycm9yIHx8ICdOw6NvIGZvaSBwb3Nzw612ZWwgY2FuY2VsYXIgYSBpbnNjcmnDp8Ojby4nIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnRXJybyBhbyBjYW5jZWxhcicsIGRlc2NyaXB0aW9uOiAnT2NvcnJldSB1bSBlcnJvIGluZXNwZXJhZG8uJyB9KTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldENhbmNlbExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUluc3RpdHV0aW9uYWxBcHBseSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghdXNlciB8fCAhZXZlbnQpIHJldHVybjtcclxuICAgIHNldElzUmVnaXN0ZXJpbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdldmVudF9wYXJ0aWNpcGFudHMnKVxyXG4gICAgICAgIC5pbnNlcnQoeyBldmVudF9pZDogZXZlbnQuaWQsIHVzZXJfaWQ6IHVzZXIuaWQsIHN0YXR1czogJ2Fwcm92YWRvJyB9KTtcclxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuXHJcbiAgICAgIHRvYXN0KHsgdGl0bGU6ICdJbnNjcmnDp8OjbyBDb25maXJtYWRhIScsIGRlc2NyaXB0aW9uOiAnVm9jw6ogZm9pIGluc2NyaXRvIGF1dG9tYXRpY2FtZW50ZSBuZXN0ZSBldmVudG8uJyB9KTtcclxuICAgICAgYXdhaXQgZmV0Y2hFdmVudERhdGEoKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRvYXN0KHsgdmFyaWFudDogJ2Rlc3RydWN0aXZlJywgdGl0bGU6ICdFcnJvIG5hIGluc2NyacOnw6NvJywgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UgfHwgJ07Do28gZm9pIHBvc3PDrXZlbCBzZSBpbnNjcmV2ZXIuJyB9KTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzUmVnaXN0ZXJpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFVwbG9hZCBkZSBmb3RvXHJcbiAgY29uc3QgaGFuZGxlUGhvdG9VcGxvYWQgPSBhc3luYyAoZSkgPT4ge1xyXG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07XHJcbiAgICBpZiAoIWZpbGUpIHJldHVybjtcclxuXHJcbiAgICBzZXRVcGxvYWRpbmdQaG90byh0cnVlKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IEV2ZW50UGhvdG9zU2VydmljZS51cGxvYWRFdmVudFBob3RvKHBhcnNlSW50KGlkKSwgdXNlci5pZCwgZmlsZSk7XHJcbiAgICAgIGlmIChyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgIHRvYXN0KHsgdGl0bGU6ICdGb3RvIGVudmlhZGEhJywgZGVzY3JpcHRpb246ICdTdWEgZm90byBmb2kgcHVibGljYWRhIG5vIGV2ZW50by4nIH0pO1xyXG4gICAgICAgIGF3YWl0IGZldGNoRXZlbnREYXRhKCk7IC8vIFJlY2FycmVnYXIgZGFkb3NcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnRXJybycsIGRlc2NyaXB0aW9uOiByZXN1bHQuZXJyb3IgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICB0b2FzdCh7IHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsIHRpdGxlOiAnRXJybycsIGRlc2NyaXB0aW9uOiAnRmFsaGEgbm8gdXBsb2FkLicgfSk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRVcGxvYWRpbmdQaG90byhmYWxzZSk7XHJcbiAgICAgIGlmIChmaWxlSW5wdXRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGZpbGVJbnB1dFJlZi5jdXJyZW50LnZhbHVlID0gJyc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBpZiAobG9hZGluZykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1zY3JlZW5cIj5cclxuICAgICAgICA8Q2FsZW5kYXIgY2xhc3NOYW1lPVwidy0xNiBoLTE2IHRleHQtd2hpdGUvNDAgYW5pbWF0ZS1zcGluXCIgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaWYgKGVycm9yIHx8ICFldmVudCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS0yMFwiPlxyXG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1yZWQtNTAwIG1iLTRcIj5FcnJvPC9oMT5cclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwIG1iLThcIj57ZXJyb3IgfHwgJ0V2ZW50byBuw6NvIGVuY29udHJhZG8nfTwvcD5cclxuICAgICAgICA8QnV0dG9uIGFzQ2hpbGQ+XHJcbiAgICAgICAgICA8TGluayB0bz1cIi9ldmVudHNcIj5Wb2x0YXIgcGFyYSBFdmVudG9zPC9MaW5rPlxyXG4gICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBpc0NyZWF0b3IgPSB1c2VyICYmIHVzZXIuaWQgPT09IGV2ZW50LmNyZWF0b3JfaWQ7XHJcbiAgY29uc3QgaXNQYXJ0aWNpcGFudCA9IHVzZXJQYXJ0aWNpcGF0aW9uICE9PSBudWxsO1xyXG4gIGNvbnN0IGlzRXZlbnRPdmVyID0gbmV3IERhdGUoZXZlbnQuZW5kX3RpbWUpIDwgbmV3IERhdGUoKTtcclxuICBjb25zdCBpc0V2ZW50RmluYWxpemVkID0gZXZlbnQuc3RhdHVzID09PSAnRmluYWxpemFkbyc7XHJcbiAgY29uc3QgaXNFdmVudENvbmNsdWRlZCA9IGV2ZW50LnN0YXR1cyA9PT0gJ0NvbmNsdcOtZG8nO1xyXG4gIGNvbnN0IGhhc0V2YWx1YXRlZCA9IHVzZXJQYXJ0aWNpcGF0aW9uPy5hdmFsaWFjYW9fZmVpdGEgfHwgZmFsc2U7XHJcbiAgY29uc3QgaGFzQXR0ZW5kZWQgPSB1c2VyUGFydGljaXBhdGlvbj8ucHJlc2VuY2FfY29uZmlybWFkYSB8fCBmYWxzZTtcclxuICBjb25zdCBjYW5jZWxDaGVjayA9IGNhbkNhbmNlbFBhcnRpY2lwYXRpb24oKTtcclxuICBjb25zdCBwYXJ0bmVyTmFtZSA9IGV2ZW50LnBhcnRuZXJzID8gZXZlbnQucGFydG5lcnMubmFtZSA6IG51bGw7XHJcblxyXG4gIC8vIOKchSBMw5NHSUNBIERFIEVYSUJJw4fDg08gREUgRk9UT1xyXG4gIGNvbnN0IGNhblVwbG9hZFBob3RvID0gKCkgPT4ge1xyXG4gICAgaWYgKCFpc1BhcnRpY2lwYW50IHx8ICFoYXNBdHRlbmRlZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgXHJcbiAgICAvLyBFbSBcIkZpbmFsaXphZG9cIjogc8OzIHBvZGUgZW52aWFyIHNlIErDgSBhdmFsaW91XHJcbiAgICBpZiAoaXNFdmVudEZpbmFsaXplZCkge1xyXG4gICAgICByZXR1cm4gaGFzRXZhbHVhdGVkO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBFbSBcIkNvbmNsdcOtZG9cIjogcG9kZSBlbnZpYXIvdHJvY2FyIHNlIDwgNiBtZXNlc1xyXG4gICAgaWYgKGlzRXZlbnRDb25jbHVkZWQpIHtcclxuICAgICAgY29uc3QgbW9udGhzU2luY2VFbmQgPSBkaWZmZXJlbmNlSW5Nb250aHMobmV3IERhdGUoKSwgbmV3IERhdGUoZXZlbnQuZW5kX3RpbWUpKTtcclxuICAgICAgcmV0dXJuIG1vbnRoc1NpbmNlRW5kIDwgNjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8SGVsbWV0PlxyXG4gICAgICAgIDx0aXRsZT57ZXZlbnQudGl0bGV9IC0gTWVzYXByYTI8L3RpdGxlPlxyXG4gICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9e2V2ZW50LmRlc2NyaXB0aW9ufSAvPlxyXG4gICAgICA8L0hlbG1ldD5cclxuICAgICAgXHJcbiAgICAgIDxtb3Rpb24uZGl2XHJcbiAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAyMCB9fVxyXG4gICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxyXG4gICAgICAgIGNsYXNzTmFtZT1cInB5LTYgcHgtNCBzbTpweC02IGxnOnB4LTggc3BhY2UteS02IG1heC13LTR4bCBteC1hdXRvXCJcclxuICAgICAgPlxyXG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC13aGl0ZSBtYi00XCI+e2V2ZW50LnRpdGxlfTwvaDE+XHJcblxyXG4gICAgICAgIHtjcmVhdG9yICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IHJvdW5kZWQtMnhsIHAtNiBib3JkZXIgYm9yZGVyLXdoaXRlLzEwXCI+XHJcbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBtYi00XCI+Q3JpYWRvIHBvcjwvaDI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cclxuICAgICAgICAgICAgICA8QXZhdGFyIHVybD17Y3JlYXRvci5hdmF0YXJfdXJsfSBuYW1lPXtjcmVhdG9yLnVzZXJuYW1lIHx8IGNyZWF0b3IuZnVsbF9uYW1lfSBzaXplPVwibGdcIiBpc1B1YmxpYz17Y3JlYXRvci5wdWJsaWNfcHJvZmlsZX0gLz5cclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LW1lZGl1bVwiPntjcmVhdG9yLnVzZXJuYW1lIHx8IGNyZWF0b3IuZnVsbF9uYW1lfTwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNjAgdGV4dC1zbVwiPkFuZml0cmnDo288L3A+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3Qgcm91bmRlZC0yeGwgcC02IGJvcmRlciBib3JkZXItd2hpdGUvMTBcIj5cclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvODAgbWItNlwiPntldmVudC5kZXNjcmlwdGlvbn08L3A+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXdoaXRlLzYwXCI+XHJcbiAgICAgICAgICAgICAgPENhbGVuZGFyIGNsYXNzTmFtZT1cInctNSBoLTUgbXItM1wiIC8+XHJcbiAgICAgICAgICAgICAge2Zvcm1hdChuZXcgRGF0ZShldmVudC5zdGFydF90aW1lKSwgXCJkZCAnZGUnIE1NTU0gJ2RlJyB5eXl5XCIsIHsgbG9jYWxlOiBwdEJSIH0pfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXdoaXRlLzYwXCI+XHJcbiAgICAgICAgICAgICAgPENsb2NrIGNsYXNzTmFtZT1cInctNSBoLTUgbXItM1wiIC8+XHJcbiAgICAgICAgICAgICAgRGUge2Zvcm1hdChuZXcgRGF0ZShldmVudC5zdGFydF90aW1lKSwgJ0hIOm1tJywgeyBsb2NhbGU6IHB0QlIgfSl9IGF0w6kge2Zvcm1hdChuZXcgRGF0ZShldmVudC5lbmRfdGltZSksICdISDptbScsIHsgbG9jYWxlOiBwdEJSIH0pfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXdoaXRlLzYwXCI+XHJcbiAgICAgICAgICAgICAgPE1hcFBpbiBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTNcIiAvPlxyXG4gICAgICAgICAgICAgIHtnZXRQYXJ0bmVyRGlzcGxheSgpfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXdoaXRlLzYwXCI+XHJcbiAgICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cInctNSBoLTUgbXItM1wiIC8+XHJcbiAgICAgICAgICAgICAge2V2ZW50LnZhZ2FzfSB2YWdhcyBkaXNwb27DrXZlaXNcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAge3BhcnRpY2lwYW50cy5sZW5ndGggPiAwICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IHJvdW5kZWQtMnhsIHAtNiBib3JkZXIgYm9yZGVyLXdoaXRlLzEwXCI+XHJcbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBtYi00XCI+UGFydGljaXBhbnRlcyBBcHJvdmFkb3MgKHtwYXJ0aWNpcGFudHMubGVuZ3RofSk8L2gyPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC00XCI+XHJcbiAgICAgICAgICAgICAge3BhcnRpY2lwYW50cy5tYXAocGFydGljaXBhbnQgPT4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e3BhcnRpY2lwYW50LmlkfSBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8QXZhdGFyIHVybD17cGFydGljaXBhbnQuYXZhdGFyX3VybH0gbmFtZT17cGFydGljaXBhbnQudXNlcm5hbWUgfHwgcGFydGljaXBhbnQuZnVsbF9uYW1lfSBzaXplPVwibWRcIiBpc1B1YmxpYz17cGFydGljaXBhbnQucHVibGljX3Byb2ZpbGV9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvODAgdGV4dC1zbVwiPntwYXJ0aWNpcGFudC51c2VybmFtZSB8fCBwYXJ0aWNpcGFudC5mdWxsX25hbWV9PC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAge2lzQ3JlYXRvciAmJiAhaXNFdmVudEZpbmFsaXplZCAmJiAhaXNFdmVudENvbmNsdWRlZCAmJiAoXHJcbiAgICAgICAgICA8UGFydGljaXBhbnRzTWFuYWdlbWVudCBldmVudElkPXtTdHJpbmcoZXZlbnQuaWQpfSBldmVudFR5cGU9e2V2ZW50LmV2ZW50X3R5cGV9IG9uVXBkYXRlPXtmZXRjaEV2ZW50RGF0YX0gLz5cclxuICAgICAgICApfVxyXG5cclxuICAgICAgICB7LyogSW5zY3Jpw6fDo28gKi99XHJcbiAgICAgICAgeyFpc0NyZWF0b3IgJiYgIWlzUGFydGljaXBhbnQgJiYgKFxyXG4gICAgICAgICAgPD5cclxuICAgICAgICAgICAge2V2ZW50LmV2ZW50X3R5cGUgPT09ICdpbnN0aXR1Y2lvbmFsJyA/IChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCByb3VuZGVkLTJ4bCBwLTYgYm9yZGVyIGJvcmRlci13aGl0ZS8xMFwiPlxyXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIG1iLTRcIj5JbnNjcmnDp8OjbyBEaXJldGE8L2gyPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCB0ZXh0LXNtIG1iLTZcIj5cclxuICAgICAgICAgICAgICAgICAgRXN0ZSDDqSB1bSBldmVudG8gaW5zdGl0dWNpb25hbC4gU3VhIGluc2NyacOnw6NvIHNlcsOhIGFwcm92YWRhIGF1dG9tYXRpY2FtZW50ZS5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlSW5zdGl0dXRpb25hbEFwcGx5fSBkaXNhYmxlZD17aXNSZWdpc3RlcmluZ30gY2xhc3NOYW1lPVwidy1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtpc1JlZ2lzdGVyaW5nID8gPExvYWRlciBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTIgYW5pbWF0ZS1zcGluXCIgLz4gOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgICBJbnNjcmV2ZXItc2UgQWdvcmFcclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgIDxFdmVudEFwcGx5IGV2ZW50PXtldmVudH0gb25TdWNjZXNzPXtmZXRjaEV2ZW50RGF0YX0gLz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvPlxyXG4gICAgICAgICl9XHJcblxyXG4gICAgICAgIHsvKiBFbnRyYWRhIGNvbSBzZW5oYSAqL31cclxuICAgICAgICB7IWlzQ3JlYXRvciAmJiBpc1BhcnRpY2lwYW50ICYmICF1c2VySGFzQWNjZXNzICYmIChldmVudC5zdGF0dXMgPT09ICdDb25maXJtYWRvJyB8fCBldmVudC5zdGF0dXMgPT09ICdFbSBBbmRhbWVudG8nKSAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCByb3VuZGVkLTJ4bCBwLTYgYm9yZGVyIGJvcmRlci1ibHVlLTUwMC8zMCBiZy1ibHVlLTUwMC81XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItNlwiPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1zbGF0ZS0zMDBcIj57ZW50cnlTdGF0dXN9PC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAge3Nob3dFbnRyeUZvcm0gJiYgIWVudHJ5SXNCbG9ja2VkICYmIDxFdmVudEVudHJ5Rm9ybSBldmVudElkPXtldmVudC5pZH0gb25TdWNjZXNzPXtoYW5kbGVFbnRyeVN1Y2Nlc3N9IGlzRGlzYWJsZWQ9e2VudHJ5SXNCbG9ja2VkfSAvPn1cclxuICAgICAgICAgICAge2VudHJ5SXNCbG9ja2VkICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHAtNiBiZy1yZWQtNTAwLzEwIGJvcmRlciBib3JkZXItcmVkLTUwMC8zMCByb3VuZGVkLWxnXCI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1yZWQtNDAwIG1iLTJcIj5FbnRyYWRhIEVuY2VycmFkYTwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtMzAwXCI+QSBlbnRyYWRhIGZvaSBibG9xdWVhZGEuIE8gZXZlbnRvIGVzdMOhIGNoZWdhbmRvIGFvIGZpbS48L3A+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIHshc2hvd0VudHJ5Rm9ybSAmJiAhZW50cnlJc0Jsb2NrZWQgJiYgIXVzZXJIYXNBY2Nlc3MgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcC02IGJnLWJsdWUtNTAwLzEwIGJvcmRlciBib3JkZXItYmx1ZS01MDAvMzAgcm91bmRlZC1sZ1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIGgtOCB3LTggYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBib3JkZXItNCBib3JkZXItYmx1ZS01MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtMzAwXCI+e2VudHJ5U3RhdHVzfTwvcD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcblxyXG4gICAgICAgIHsvKiBBY2Vzc28gbGliZXJhZG8gKi99XHJcbiAgICAgICAgeyFpc0NyZWF0b3IgJiYgaXNQYXJ0aWNpcGFudCAmJiB1c2VySGFzQWNjZXNzICYmIGV2ZW50LnN0YXR1cyA9PT0gJ0VtIEFuZGFtZW50bycgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3Qgcm91bmRlZC0yeGwgcC02IGJvcmRlciBib3JkZXItZ3JlZW4tNTAwLzMwIGJnLWdyZWVuLTUwMC81XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIGJnLWdyZWVuLTUwMC8xMCBib3JkZXIgYm9yZGVyLWdyZWVuLTUwMC8zMCByb3VuZGVkLWxnIG1iLTRcIj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JlZW4tNDAwIHRleHQtY2VudGVyXCI+Vm9jw6ogdGVtIGFjZXNzbyBhbyBldmVudG8uIEFwcm92ZWl0ZSE8L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAgey8qIFBhcnRpY2lwYW50ZSBjb25maXJtYWRvICovfVxyXG4gICAgICAgIHshaXNDcmVhdG9yICYmIGlzUGFydGljaXBhbnQgJiYgIWlzRXZlbnRPdmVyICYmICF1c2VySGFzQWNjZXNzICYmIGV2ZW50LnN0YXR1cyAhPT0gJ0VtIEFuZGFtZW50bycgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3Qgcm91bmRlZC0yeGwgcC02IGJvcmRlciBib3JkZXItZ3JlZW4tNTAwLzMwIGJnLWdyZWVuLTUwMC81XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtNCBtYi00XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgcm91bmRlZC1mdWxsIGJnLWdyZWVuLTUwMC8yMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmbGV4LXNocmluay0wXCI+XHJcbiAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwidy02IGgtNiB0ZXh0LWdyZWVuLTQwMFwiIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBtYi0yXCI+Vm9jw6ogZXN0w6EgcGFydGljaXBhbmRvIGRlc3RlIGV2ZW50byE8L2gzPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCB0ZXh0LXNtIG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgU3VhIGluc2NyacOnw6NvIGZvaSBjb25maXJtYWRhLiBQcmVwYXJlLXNlIHBhcmEgdW1hIGV4cGVyacOqbmNpYSBpbmNyw612ZWwhXHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC13aGl0ZS82MCB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2Zvcm1hdChuZXcgRGF0ZShldmVudC5zdGFydF90aW1lKSwgXCJkZC9NTS95eXl5ICfDoHMnIEhIOm1tXCIsIHsgbG9jYWxlOiBwdEJSIH0pfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIHtwYXJ0bmVyTmFtZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXdoaXRlLzYwIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxNYXBQaW4gY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntwYXJ0bmVyTmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIHJvdW5kZWQtbGcgYmctYmx1ZS01MDAvMTAgYm9yZGVyIGJvcmRlci1ibHVlLTUwMC8yMCBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtYmx1ZS0zMDAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFZvbHRlIGFxdWkgYXDDs3MgbyB0w6lybWlubyBkbyBldmVudG8gcGFyYSBjb21wYXJ0aWxoYXIgc3VhcyBmb3RvcyBlIGF2YWxpYXIgYSBleHBlcmnDqm5jaWEuXHJcbiAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIHtjYW5jZWxDaGVjay5jYW5DYW5jZWwgPyAoXHJcbiAgICAgICAgICAgICAgICAgICFzaG93Q2FuY2VsQ29uZmlybSA/IChcclxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q2FuY2VsQ29uZmlybSh0cnVlKX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlci1yZWQtNTAwLzMwIHRleHQtcmVkLTQwMCBob3ZlcjpiZy1yZWQtNTAwLzEwIGhvdmVyOnRleHQtcmVkLTMwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIENhbmNlbGFyIEluc2NyacOnw6NvXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTMgcC00IHJvdW5kZWQtbGcgYmctcmVkLTUwMC8xMCBib3JkZXIgYm9yZGVyLXJlZC01MDAvMzBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnRUcmlhbmdsZSBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtcmVkLTQwMCBmbGV4LXNocmluay0wIG10LTAuNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtMzAwIGZvbnQtbWVkaXVtIG1iLTFcIj5Db25maXJtYXIgY2FuY2VsYW1lbnRvPzwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC0yMDAvODAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXN0YSBhw6fDo28gbsOjbyBwb2RlIHNlciBkZXNmZWl0YS4gU3VhIHZhZ2Egc2Vyw6EgbGliZXJhZGEgcGFyYSBvdXRyb3MgcGFydGljaXBhbnRlcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dDYW5jZWxDb25maXJtKGZhbHNlKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17Y2FuY2VsTG9hZGluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgTWFudGVyIEluc2NyacOnw6NvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImRlc3RydWN0aXZlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNhbmNlbFBhcnRpY2lwYXRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2NhbmNlbExvYWRpbmd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGJnLXJlZC02MDAgaG92ZXI6YmctcmVkLTcwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FuY2VsTG9hZGluZyA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMb2FkZXIgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yIGFuaW1hdGUtc3BpblwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbGFuZG8uLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25maXJtYXIgQ2FuY2VsYW1lbnRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyByb3VuZGVkLWxnIGJnLXllbGxvdy01MDAvMTAgYm9yZGVyIGJvcmRlci15ZWxsb3ctNTAwLzIwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8QWxlcnRUcmlhbmdsZSBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQteWVsbG93LTQwMCBmbGV4LXNocmluay0wIG10LTAuNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy0zMDAgdGV4dC1zbVwiPntjYW5jZWxDaGVjay5yZWFzb259PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAgey8qIEVzdGF0w61zdGljYXMgZGUgRW50cmFkYSAqL31cclxuICAgICAgICB7aXNDcmVhdG9yICYmIChldmVudC5zdGF0dXMgPT09ICdDb25maXJtYWRvJyB8fCBldmVudC5zdGF0dXMgPT09ICdFbSBBbmRhbWVudG8nKSAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCByb3VuZGVkLTJ4bCBwLTYgYm9yZGVyIGJvcmRlci13aGl0ZS8xMFwiPlxyXG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgbWItM1wiPkVzdGF0w61zdGljYXMgZGUgRW50cmFkYTwvaDM+XHJcbiAgICAgICAgICAgIDxFdmVudEVudHJ5U3RhdHMgZXZlbnRJZD17ZXZlbnQuaWR9IC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG5cclxuICAgICAgICB7LyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi99XHJcbiAgICAgICAgey8qIOKchSBTRcOHw4NPIERFIEFWQUxJQcOHw4NPICsgRk9UTyAtIEZJTkFMSVpBRE8gKi99XHJcbiAgICAgICAgey8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovfVxyXG4gICAgICAgIHtpc0V2ZW50RmluYWxpemVkICYmIGlzUGFydGljaXBhbnQgJiYgaGFzQXR0ZW5kZWQgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3Qgcm91bmRlZC0yeGwgcC02IGJvcmRlciBib3JkZXItd2hpdGUvMTBcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cclxuICAgICAgICAgICAgICB7LyogU2XDp8OjbyBkZSBBdmFsaWHDp8OjbyAqL31cclxuICAgICAgICAgICAgICB7IWhhc0V2YWx1YXRlZCA/IChcclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxTdGFyIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC15ZWxsb3ctNDAwXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlXCI+QXZhbGllIHN1YSBleHBlcmnDqm5jaWE8L2gzPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MCBtYi02XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgQ29tcGFydGlsaGUgc3VhIG9waW5pw6NvIHNvYnJlIG8gZXZlbnRvLCBvIGFuZml0cmnDo28sIG9zIHBhcnRpY2lwYW50ZXMgZSBvIHJlc3RhdXJhbnRlLlxyXG4gICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICA8RXZlbnRFdmFsdWF0aW9uU2VjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50SWQ9e3BhcnNlSW50KGlkKX1cclxuICAgICAgICAgICAgICAgICAgICBpc0NyZWF0b3I9e2lzQ3JlYXRvcn1cclxuICAgICAgICAgICAgICAgICAgICBpc1BhcnRpY2lwYW50PXtpc1BhcnRpY2lwYW50fVxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZD17dXNlcj8uaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRvcj17Y3JlYXRvcn1cclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM9e3BhcnRpY2lwYW50c31cclxuICAgICAgICAgICAgICAgICAgICBldmVudD17ZXZlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgb25SZWZyZXNoPXtmZXRjaEV2ZW50RGF0YX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICB7LyogQXZhbGlhw6fDo28gY29tcGxldGEgKi99XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IHJvdW5kZWQtbGcgYmctZ3JlZW4tNTAwLzEwIGJvcmRlciBib3JkZXItZ3JlZW4tNTAwLzMwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFN0YXIgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWdyZWVuLTQwMCBmaWxsLWdyZWVuLTQwMFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTQwMCBmb250LXNlbWlib2xkXCI+QXZhbGlhw6fDo28gY29tcGxldGEhPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTMwMC84MCB0ZXh0LXNtXCI+T2JyaWdhZG8gcG9yIGNvbXBhcnRpbGhhciBzdWEgZXhwZXJpw6puY2lhLjwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgIHsvKiBVcGxvYWQgZGUgZm90byBBUMOTUyBhdmFsaWFyICovfVxyXG4gICAgICAgICAgICAgICAgICB7Y2FuVXBsb2FkUGhvdG8oKSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdC02IGJvcmRlci10IGJvcmRlci13aGl0ZS8xMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYW1lcmEgY2xhc3NOYW1lPVwidy02IGgtNiB0ZXh0LXB1cnBsZS00MDBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5Db21wYXJ0aWxoZSB1bWEgZm90bzwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNjAgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFbnZpZSB1bWEgZm90byBkbyBldmVudG8gcGFyYSBvIGhpc3TDs3JpY28gZSBwYXJhIG8gY2Fyb3VzZWwgZG8gcmVzdGF1cmFudGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVBob3RvVXBsb2FkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3VwbG9hZGluZ1Bob3RvfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTUwMCB0by1waW5rLTUwMCBob3Zlcjpmcm9tLXB1cnBsZS02MDAgaG92ZXI6dG8tcGluay02MDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dXBsb2FkaW5nUGhvdG8gPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPExvYWRlciBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTIgYW5pbWF0ZS1zcGluXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FtZXJhIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt1cGxvYWRpbmdQaG90byA/ICdFbnZpYW5kby4uLicgOiAnRW52aWFyIEZvdG8nfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcblxyXG4gICAgICAgIHsvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL31cclxuICAgICAgICB7Lyog4pyFIFNFw4fDg08gREUgRk9UTyAtIENPTkNMVcONRE8gKi99XHJcbiAgICAgICAgey8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovfVxyXG4gICAgICAgIHtpc0V2ZW50Q29uY2x1ZGVkICYmIGlzUGFydGljaXBhbnQgJiYgaGFzQXR0ZW5kZWQgJiYgY2FuVXBsb2FkUGhvdG8oKSAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCByb3VuZGVkLTJ4bCBwLTYgYm9yZGVyIGJvcmRlci13aGl0ZS8xMFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG1iLTRcIj5cclxuICAgICAgICAgICAgICA8Q2FtZXJhIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1wdXJwbGUtNDAwXCIgLz5cclxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtd2hpdGVcIj5Ucm9jYXIgZm90byBkbyBldmVudG88L2gzPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MCBtYi00XCI+XHJcbiAgICAgICAgICAgICAgVm9jw6ogcG9kZSB0cm9jYXIgc3VhIGZvdG8gZG8gZXZlbnRvIHBvciBhdMOpIDYgbWVzZXMgYXDDs3MgYSBjb25jbHVzw6NvLlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cclxuICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcclxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlUGhvdG9VcGxvYWR9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9XHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e3VwbG9hZGluZ1Bob3RvfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAwIHRvLXBpbmstNTAwIGhvdmVyOmZyb20tcHVycGxlLTYwMCBob3Zlcjp0by1waW5rLTYwMFwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7dXBsb2FkaW5nUGhvdG8gPyAoXHJcbiAgICAgICAgICAgICAgICA8TG9hZGVyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMiBhbmltYXRlLXNwaW5cIiAvPlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8Q2FtZXJhIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICB7dXBsb2FkaW5nUGhvdG8gPyAnRW52aWFuZG8uLi4nIDogJ1Ryb2NhciBGb3RvJ31cclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG5cclxuICAgICAgPC9tb3Rpb24uZGl2PlxyXG4gICAgPC8+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEV2ZW50RGV0YWlsczsiXSwidmVyc2lvbiI6M30=