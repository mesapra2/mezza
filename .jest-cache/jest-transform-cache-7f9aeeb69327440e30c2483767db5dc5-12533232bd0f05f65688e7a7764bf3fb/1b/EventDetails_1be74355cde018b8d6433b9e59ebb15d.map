{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\pages\\EventDetails.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\pages\\EventDetails.jsx"],"sourcesContent":["// src/features/shared/pages/EventDetails.jsx\r\nimport { useState, useEffect, useCallback, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { motion } from 'framer-motion';\r\nimport { Calendar, Users, MapPin, Clock, CheckCircle, X, AlertTriangle, Loader, Camera, Star } from 'lucide-react';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport EventApply from '@/features/shared/components/events/EventApply';\r\nimport Avatar from '@/features/shared/components/profile/Avatar';\r\nimport ParticipantsManagement from '@/features/shared/components/events/ParticipantsManager';\r\nimport EventEvaluationSection from '@/features/shared/components/events/EventEvaluationSection';\r\nimport EventEntryForm from '@/features/shared/components/ui/EventEntryForm';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { format, differenceInMinutes, differenceInHours, differenceInMonths } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport { Button } from '@/features/shared/components/ui/button';\r\nimport ParticipationService from '@/services/ParticipationService';\r\nimport EventSecurityService from '@/services/EventSecurityService';\r\nimport EventPhotosService from '@/services/EventPhotosService';\r\nimport { useToast } from '@/features/shared/components/ui/use-toast';\r\n\r\n// ============================================\r\n// COMPONENTE: EventEntryStats\r\n// ============================================\r\nconst EventEntryStats = ({ eventId }) => {\r\n  const [stats, setStats] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loadStats = async () => {\r\n      try {\r\n        const result = await ParticipationService.getEventEntryStats(eventId);\r\n        if (result.success) {\r\n          setStats(result.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Erro ao carregar stats:', error);\r\n      }\r\n    };\r\n\r\n    loadStats();\r\n    const interval = setInterval(loadStats, 5000);\r\n    return () => clearInterval(interval);\r\n  }, [eventId]);\r\n\r\n  if (!stats) return <div className=\"text-xs text-slate-400\">Carregando...</div>;\r\n\r\n  return (\r\n    <div className=\"space-y-2 text-xs text-slate-400\">\r\n      <div className=\"flex justify-between\">\r\n        <span>Total de participantes:</span>\r\n        <span className=\"text-white font-semibold\">{stats.totalParticipants}</span>\r\n      </div>\r\n      <div className=\"flex justify-between\">\r\n        <span>Com acesso:</span>\r\n        <span className=\"text-green-400 font-semibold\">{stats.participantsWithAccess}</span>\r\n      </div>\r\n      <div className=\"flex justify-between\">\r\n        <span>Sem acesso:</span>\r\n        <span className=\"text-orange-400 font-semibold\">{stats.participantsWithoutAccess}</span>\r\n      </div>\r\n\r\n      <div className=\"mt-3 w-full bg-slate-700 rounded-full h-2 overflow-hidden\">\r\n        <div\r\n          className=\"h-full bg-gradient-to-r from-green-600 to-green-500 transition-all\"\r\n          style={{ width: `${stats.accessPercentage}%` }}\r\n        ></div>\r\n      </div>\r\n      <div className=\"text-center text-xs text-slate-500\">\r\n        {stats.accessPercentage}% de acesso\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nEventEntryStats.propTypes = {\r\n  eventId: PropTypes.number.isRequired\r\n};\r\n\r\n// ============================================\r\n// COMPONENTE PRINCIPAL: EventDetails\r\n// ============================================\r\nconst EventDetails = () => {\r\n  const { id } = useParams();\r\n  const { user } = useAuth();\r\n  const { toast } = useToast();\r\n  const fileInputRef = useRef(null);\r\n\r\n  // Estados originais\r\n  const [event, setEvent] = useState(null);\r\n  const [creator, setCreator] = useState(null);\r\n  const [participants, setParticipants] = useState([]);\r\n  const [userParticipation, setUserParticipation] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [cancelLoading, setCancelLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [showCancelConfirm, setShowCancelConfirm] = useState(false);\r\n\r\n  // Novos estados para sistema de entrada\r\n  const [showEntryForm, setShowEntryForm] = useState(false);\r\n  const [entryIsBlocked, setEntryIsBlocked] = useState(false);\r\n  const [entryStatus, setEntryStatus] = useState('');\r\n  const [userHasAccess, setUserHasAccess] = useState(false);\r\n  \r\n  // Estado para inscrição direta\r\n  const [isRegistering, setIsRegistering] = useState(false);\r\n  const [uploadingPhoto, setUploadingPhoto] = useState(false);\r\n\r\n  const fetchEventData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      console.log('Carregando evento ID:', id);\r\n\r\n      const { data: eventData, error: eventError } = await supabase\r\n        .from('events')\r\n        .select('*, partners(id, name, address)')\r\n        .eq('id', id)\r\n        .single();\r\n\r\n      if (eventError) throw eventError;\r\n      if (!eventData) throw new Error('Evento não encontrado');\r\n\r\n      setEvent(eventData);\r\n\r\n      // Buscar creator\r\n      try {\r\n        const { data: creatorData } = await supabase\r\n          .from('profiles')\r\n          .select('id, username, full_name, avatar_url, public_profile')\r\n          .eq('id', eventData.creator_id)\r\n          .maybeSingle();\r\n\r\n        setCreator(creatorData);\r\n      } catch (err) {\r\n        console.warn('Erro ao buscar creator:', err);\r\n      }\r\n\r\n      // Buscar participação do usuário\r\n      if (user) {\r\n        try {\r\n          const { data: userPartData } = await supabase\r\n            .from('event_participants')\r\n            .select('*')\r\n            .eq('event_id', id)\r\n            .eq('user_id', user.id)\r\n            .eq('status', 'aprovado')\r\n            .maybeSingle();\r\n\r\n          setUserParticipation(userPartData || null);\r\n        } catch (err) {\r\n          setUserParticipation(null);\r\n        }\r\n      }\r\n\r\n      // Buscar participantes aprovados\r\n      try {\r\n        const { data: participationsData } = await supabase\r\n          .from('event_participants')\r\n          .select('user_id')\r\n          .eq('event_id', id)\r\n          .eq('status', 'aprovado');\r\n\r\n        if (participationsData?.length > 0) {\r\n          const userIds = participationsData.map(p => p.user_id);\r\n          const { data: participantsData } = await supabase\r\n            .from('profiles')\r\n            .select('id, username, full_name, avatar_url, public_profile')\r\n            .in('id', userIds);\r\n\r\n          setParticipants(participantsData || []);\r\n        } else {\r\n          setParticipants([]);\r\n        }\r\n      } catch (err) {\r\n        setParticipants([]);\r\n      }\r\n\r\n    } catch (err) {\r\n      setError(err.message || 'Erro ao carregar detalhes do evento');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id, user]);\r\n\r\n  useEffect(() => {\r\n    fetchEventData();\r\n  }, [fetchEventData]);\r\n\r\n  const getPartnerDisplay = () => {\r\n    if (!event) return null;\r\n    if (event.partners && event.partners.name) {\r\n      let addressText = event.partners.name;\r\n      if (event.partners.address) {\r\n        if (typeof event.partners.address === 'string') {\r\n          addressText += ` - ${event.partners.address}`;\r\n        } else if (typeof event.partners.address === 'object') {\r\n          const parts = [event.partners.address.street, event.partners.address.city].filter(Boolean);\r\n          if (parts.length > 0) {\r\n            addressText += ` - ${parts.join(', ')}`;\r\n          }\r\n        }\r\n      }\r\n      return addressText;\r\n    }\r\n    return 'Local a definir';\r\n  };\r\n\r\n  // Monitorar timing de entrada\r\n  useEffect(() => {\r\n    if (!event || !user || !userParticipation) return;\r\n\r\n    const checkEntryTiming = async () => {\r\n      try {\r\n        const now = new Date();\r\n        const startTime = new Date(event.start_time);\r\n        const endTime = new Date(event.end_time);\r\n        const oneMinBeforeStart = new Date(startTime.getTime() - 60 * 1000);\r\n        const twoMinBeforeEnd = new Date(endTime.getTime() - 2 * 60 * 1000);\r\n\r\n        const hasAccess = await EventSecurityService.hasUserAccess(event.id, user.id);\r\n        setUserHasAccess(hasAccess);\r\n\r\n        if (hasAccess) {\r\n          setShowEntryForm(false);\r\n          setEntryStatus('Você tem acesso ao evento');\r\n          return;\r\n        }\r\n\r\n        if (now >= twoMinBeforeEnd) {\r\n          setShowEntryForm(false);\r\n          setEntryIsBlocked(true);\r\n          setEntryStatus('Entrada encerrada (evento terminando)');\r\n          return;\r\n        }\r\n\r\n        if (now >= oneMinBeforeStart && now < twoMinBeforeEnd) {\r\n          setShowEntryForm(true);\r\n          setEntryIsBlocked(false);\r\n          setEntryStatus('Digite a senha para entrar!');\r\n        } else {\r\n          setShowEntryForm(false);\r\n          setEntryIsBlocked(false);\r\n          const timeUntilAvailable = oneMinBeforeStart - now;\r\n          if (timeUntilAvailable > 0) {\r\n            const minutesLeft = Math.floor(timeUntilAvailable / 60000);\r\n            const secondsLeft = Math.floor((timeUntilAvailable % 60000) / 1000);\r\n            setEntryStatus(`Entrada disponível em ${minutesLeft}m ${secondsLeft}s`);\r\n          } else if (now < startTime) {\r\n            setEntryStatus('Evento ainda não começou');\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Erro ao verificar timing de entrada:', error);\r\n      }\r\n    };\r\n\r\n    checkEntryTiming();\r\n    const interval = setInterval(checkEntryTiming, 1000);\r\n    return () => clearInterval(interval);\r\n  }, [event, user, userParticipation]);\r\n\r\n  const handleEntrySuccess = () => {\r\n    setShowEntryForm(false);\r\n    setUserHasAccess(true);\r\n    setEntryStatus('Você entrou no evento!');\r\n    toast({ title: 'Acesso liberado!', description: 'Bem-vindo ao evento. Aproveite!' });\r\n    fetchEventData();\r\n  };\r\n\r\n  const canCancelParticipation = () => {\r\n    if (!userParticipation || !event) return { canCancel: false, reason: '' };\r\n    const now = new Date();\r\n    const subscriptionTime = new Date(userParticipation.created_at);\r\n    const eventStart = new Date(event.start_time);\r\n    const minutesSinceSubscription = differenceInMinutes(now, subscriptionTime);\r\n    const hoursUntilEvent = differenceInHours(eventStart, now);\r\n\r\n    if (minutesSinceSubscription > 30) {\r\n      return { canCancel: false, reason: 'O prazo de 30 minutos para cancelamento expirou.' };\r\n    }\r\n    if (hoursUntilEvent < 4) {\r\n      return { canCancel: false, reason: 'Não é possível cancelar com menos de 4 horas do evento.' };\r\n    }\r\n    return { canCancel: true, reason: '' };\r\n  };\r\n\r\n  const handleCancelParticipation = async () => {\r\n    if (!userParticipation) return;\r\n    setCancelLoading(true);\r\n    try {\r\n      const result = await ParticipationService.cancelParticipation(userParticipation.id, user.id);\r\n      if (result.success) {\r\n        toast({ title: 'Inscrição cancelada!', description: 'Sua participação foi cancelada com sucesso.' });\r\n        setShowCancelConfirm(false);\r\n        await fetchEventData();\r\n      } else {\r\n        toast({ variant: 'destructive', title: 'Erro ao cancelar', description: result.error || 'Não foi possível cancelar a inscrição.' });\r\n      }\r\n    } catch (error) {\r\n      toast({ variant: 'destructive', title: 'Erro ao cancelar', description: 'Ocorreu um erro inesperado.' });\r\n    } finally {\r\n      setCancelLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInstitutionalApply = async () => {\r\n    if (!user || !event) return;\r\n    setIsRegistering(true);\r\n    try {\r\n      const { error } = await supabase\r\n        .from('event_participants')\r\n        .insert({ event_id: event.id, user_id: user.id, status: 'aprovado' });\r\n      if (error) throw error;\r\n\r\n      toast({ title: 'Inscrição Confirmada!', description: 'Você foi inscrito automaticamente neste evento.' });\r\n      await fetchEventData();\r\n    } catch (error) {\r\n      toast({ variant: 'destructive', title: 'Erro na inscrição', description: error.message || 'Não foi possível se inscrever.' });\r\n    } finally {\r\n      setIsRegistering(false);\r\n    }\r\n  };\r\n\r\n  // Upload de foto\r\n  const handlePhotoUpload = async (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setUploadingPhoto(true);\r\n    try {\r\n      const result = await EventPhotosService.uploadEventPhoto(parseInt(id), user.id, file);\r\n      if (result.success) {\r\n        toast({ title: 'Foto enviada!', description: 'Sua foto foi publicada no evento.' });\r\n        await fetchEventData(); // Recarregar dados\r\n      } else {\r\n        toast({ variant: 'destructive', title: 'Erro', description: result.error });\r\n      }\r\n    } catch {\r\n      toast({ variant: 'destructive', title: 'Erro', description: 'Falha no upload.' });\r\n    } finally {\r\n      setUploadingPhoto(false);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <Calendar className=\"w-16 h-16 text-white/40 animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !event) {\r\n    return (\r\n      <div className=\"text-center py-20\">\r\n        <h1 className=\"text-3xl font-bold text-red-500 mb-4\">Erro</h1>\r\n        <p className=\"text-white/60 mb-8\">{error || 'Evento não encontrado'}</p>\r\n        <Button asChild>\r\n          <Link to=\"/events\">Voltar para Eventos</Link>\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isCreator = user && user.id === event.creator_id;\r\n  const isParticipant = userParticipation !== null;\r\n  const isEventOver = new Date(event.end_time) < new Date();\r\n  const isEventFinalized = event.status === 'Finalizado';\r\n  const isEventConcluded = event.status === 'Concluído';\r\n  const hasEvaluated = userParticipation?.avaliacao_feita || false;\r\n  const hasAttended = userParticipation?.presenca_confirmada || false;\r\n  const cancelCheck = canCancelParticipation();\r\n  const partnerName = event.partners ? event.partners.name : null;\r\n\r\n  // ✅ LÓGICA DE EXIBIÇÃO DE FOTO\r\n  const canUploadPhoto = () => {\r\n    if (!isParticipant || !hasAttended) return false;\r\n    \r\n    // Em \"Finalizado\": só pode enviar se JÁ avaliou\r\n    if (isEventFinalized) {\r\n      return hasEvaluated;\r\n    }\r\n    \r\n    // Em \"Concluído\": pode enviar/trocar se < 6 meses\r\n    if (isEventConcluded) {\r\n      const monthsSinceEnd = differenceInMonths(new Date(), new Date(event.end_time));\r\n      return monthsSinceEnd < 6;\r\n    }\r\n    \r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{event.title} - Mesapra2</title>\r\n        <meta name=\"description\" content={event.description} />\r\n      </Helmet>\r\n      \r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className=\"py-6 px-4 sm:px-6 lg:px-8 space-y-6 max-w-4xl mx-auto\"\r\n      >\r\n        <h1 className=\"text-3xl font-bold text-white mb-4\">{event.title}</h1>\r\n\r\n        {creator && (\r\n          <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n            <h2 className=\"text-xl font-semibold text-white mb-4\">Criado por</h2>\r\n            <div className=\"flex items-center gap-4\">\r\n              <Avatar url={creator.avatar_url} name={creator.username || creator.full_name} size=\"lg\" isPublic={creator.public_profile} />\r\n              <div>\r\n                <p className=\"text-white font-medium\">{creator.username || creator.full_name}</p>\r\n                <p className=\"text-white/60 text-sm\">Anfitrião</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n          <p className=\"text-white/80 mb-6\">{event.description}</p>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center text-white/60\">\r\n              <Calendar className=\"w-5 h-5 mr-3\" />\r\n              {format(new Date(event.start_time), \"dd 'de' MMMM 'de' yyyy\", { locale: ptBR })}\r\n            </div>\r\n            <div className=\"flex items-center text-white/60\">\r\n              <Clock className=\"w-5 h-5 mr-3\" />\r\n              De {format(new Date(event.start_time), 'HH:mm', { locale: ptBR })} até {format(new Date(event.end_time), 'HH:mm', { locale: ptBR })}\r\n            </div>\r\n            <div className=\"flex items-center text-white/60\">\r\n              <MapPin className=\"w-5 h-5 mr-3\" />\r\n              {getPartnerDisplay()}\r\n            </div>\r\n            <div className=\"flex items-center text-white/60\">\r\n              <Users className=\"w-5 h-5 mr-3\" />\r\n              {event.vagas} vagas disponíveis\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {participants.length > 0 && (\r\n          <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n            <h2 className=\"text-xl font-semibold text-white mb-4\">Participantes Aprovados ({participants.length})</h2>\r\n            <div className=\"flex flex-wrap gap-4\">\r\n              {participants.map(participant => (\r\n                <div key={participant.id} className=\"flex flex-col items-center gap-2\">\r\n                  <Avatar url={participant.avatar_url} name={participant.username || participant.full_name} size=\"md\" isPublic={participant.public_profile} />\r\n                  <p className=\"text-white/80 text-sm\">{participant.username || participant.full_name}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {isCreator && !isEventFinalized && !isEventConcluded && (\r\n          <ParticipantsManagement eventId={String(event.id)} eventType={event.event_type} onUpdate={fetchEventData} />\r\n        )}\r\n\r\n        {/* Inscrição */}\r\n        {!isCreator && !isParticipant && (\r\n          <>\r\n            {event.event_type === 'institucional' ? (\r\n              <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n                <h2 className=\"text-xl font-semibold text-white mb-4\">Inscrição Direta</h2>\r\n                <p className=\"text-white/70 text-sm mb-6\">\r\n                  Este é um evento institucional. Sua inscrição será aprovada automaticamente.\r\n                </p>\r\n                <Button onClick={handleInstitutionalApply} disabled={isRegistering} className=\"w-full\">\r\n                  {isRegistering ? <Loader className=\"w-4 h-4 mr-2 animate-spin\" /> : null}\r\n                  Inscrever-se Agora\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <EventApply event={event} onSuccess={fetchEventData} />\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {/* Entrada com senha */}\r\n        {!isCreator && isParticipant && !userHasAccess && (event.status === 'Confirmado' || event.status === 'Em Andamento') && (\r\n          <div className=\"glass-effect rounded-2xl p-6 border border-blue-500/30 bg-blue-500/5\">\r\n            <div className=\"text-center mb-6\">\r\n              <p className=\"text-sm text-slate-300\">{entryStatus}</p>\r\n            </div>\r\n            {showEntryForm && !entryIsBlocked && <EventEntryForm eventId={event.id} onSuccess={handleEntrySuccess} isDisabled={entryIsBlocked} />}\r\n            {entryIsBlocked && (\r\n              <div className=\"text-center p-6 bg-red-500/10 border border-red-500/30 rounded-lg\">\r\n                <p className=\"text-lg font-semibold text-red-400 mb-2\">Entrada Encerrada</p>\r\n                <p className=\"text-sm text-red-300\">A entrada foi bloqueada. O evento está chegando ao fim.</p>\r\n              </div>\r\n            )}\r\n            {!showEntryForm && !entryIsBlocked && !userHasAccess && (\r\n              <div className=\"text-center p-6 bg-blue-500/10 border border-blue-500/30 rounded-lg\">\r\n                <div className=\"mb-4\">\r\n                  <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent\"></div>\r\n                </div>\r\n                <p className=\"text-sm text-blue-300\">{entryStatus}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Acesso liberado */}\r\n        {!isCreator && isParticipant && userHasAccess && event.status === 'Em Andamento' && (\r\n          <div className=\"glass-effect rounded-2xl p-6 border border-green-500/30 bg-green-500/5\">\r\n            <div className=\"p-3 bg-green-500/10 border border-green-500/30 rounded-lg mb-4\">\r\n              <p className=\"text-sm text-green-400 text-center\">Você tem acesso ao evento. Aproveite!</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Participante confirmado */}\r\n        {!isCreator && isParticipant && !isEventOver && !userHasAccess && event.status !== 'Em Andamento' && (\r\n          <div className=\"glass-effect rounded-2xl p-6 border border-green-500/30 bg-green-500/5\">\r\n            <div className=\"flex items-start gap-4 mb-4\">\r\n              <div className=\"w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0\">\r\n                <CheckCircle className=\"w-6 h-6 text-green-400\" />\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <h3 className=\"text-xl font-semibold text-white mb-2\">Você está participando deste evento!</h3>\r\n                <p className=\"text-white/70 text-sm mb-4\">\r\n                  Sua inscrição foi confirmada. Prepare-se para uma experiência incrível!\r\n                </p>\r\n                <div className=\"space-y-2 mb-4\">\r\n                  <div className=\"flex items-center text-white/60 text-sm\">\r\n                    <Calendar className=\"w-4 h-4 mr-2\" />\r\n                    <span>{format(new Date(event.start_time), \"dd/MM/yyyy 'às' HH:mm\", { locale: ptBR })}</span>\r\n                  </div>\r\n                  {partnerName && (\r\n                    <div className=\"flex items-center text-white/60 text-sm\">\r\n                      <MapPin className=\"w-4 h-4 mr-2\" />\r\n                      <span>{partnerName}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"p-3 rounded-lg bg-blue-500/10 border border-blue-500/20 mb-4\">\r\n                  <p className=\"text-blue-300 text-sm\">\r\n                    Volte aqui após o término do evento para compartilhar suas fotos e avaliar a experiência.\r\n                  </p>\r\n                </div>\r\n\r\n                {cancelCheck.canCancel ? (\r\n                  !showCancelConfirm ? (\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={() => setShowCancelConfirm(true)}\r\n                      className=\"border-red-500/30 text-red-400 hover:bg-red-500/10 hover:text-red-300\"\r\n                    >\r\n                      <X className=\"w-4 h-4 mr-2\" />\r\n                      Cancelar Inscrição\r\n                    </Button>\r\n                  ) : (\r\n                    <div className=\"space-y-3 p-4 rounded-lg bg-red-500/10 border border-red-500/30\">\r\n                      <div className=\"flex items-start gap-2\">\r\n                        <AlertTriangle className=\"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5\" />\r\n                        <div>\r\n                          <p className=\"text-red-300 font-medium mb-1\">Confirmar cancelamento?</p>\r\n                          <p className=\"text-red-200/80 text-sm\">\r\n                            Esta ação não pode ser desfeita. Sua vaga será liberada para outros participantes.\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex gap-2\">\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => setShowCancelConfirm(false)}\r\n                          disabled={cancelLoading}\r\n                          className=\"flex-1\"\r\n                        >\r\n                          Manter Inscrição\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"destructive\"\r\n                          size=\"sm\"\r\n                          onClick={handleCancelParticipation}\r\n                          disabled={cancelLoading}\r\n                          className=\"flex-1 bg-red-600 hover:bg-red-700\"\r\n                        >\r\n                          {cancelLoading ? (\r\n                            <>\r\n                              <Loader className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                              Cancelando...\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <X className=\"w-4 h-4 mr-2\" />\r\n                              Confirmar Cancelamento\r\n                            </>\r\n                          )}\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                ) : (\r\n                  <div className=\"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/20\">\r\n                    <div className=\"flex items-start gap-2\">\r\n                      <AlertTriangle className=\"w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5\" />\r\n                      <p className=\"text-yellow-300 text-sm\">{cancelCheck.reason}</p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Estatísticas de Entrada */}\r\n        {isCreator && (event.status === 'Confirmado' || event.status === 'Em Andamento') && (\r\n          <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n            <h3 className=\"text-sm font-semibold text-white mb-3\">Estatísticas de Entrada</h3>\r\n            <EventEntryStats eventId={event.id} />\r\n          </div>\r\n        )}\r\n\r\n        {/* ============================================ */}\r\n        {/* ✅ SEÇÃO DE AVALIAÇÃO + FOTO - FINALIZADO */}\r\n        {/* ============================================ */}\r\n        {isEventFinalized && isParticipant && hasAttended && (\r\n          <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n            <div className=\"space-y-6\">\r\n              {/* Seção de Avaliação */}\r\n              {!hasEvaluated ? (\r\n                <div>\r\n                  <div className=\"flex items-center gap-3 mb-4\">\r\n                    <Star className=\"w-6 h-6 text-yellow-400\" />\r\n                    <h3 className=\"text-2xl font-semibold text-white\">Avalie sua experiência</h3>\r\n                  </div>\r\n                  <p className=\"text-white/60 mb-6\">\r\n                    Compartilhe sua opinião sobre o evento, o anfitrião, os participantes e o restaurante.\r\n                  </p>\r\n                  \r\n                  <EventEvaluationSection\r\n                    eventId={parseInt(id)}\r\n                    isCreator={isCreator}\r\n                    isParticipant={isParticipant}\r\n                    userId={user?.id}\r\n                    creator={creator}\r\n                    participants={participants}\r\n                    event={event}\r\n                    onRefresh={fetchEventData}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  {/* Avaliação completa */}\r\n                  <div className=\"p-4 rounded-lg bg-green-500/10 border border-green-500/30\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <Star className=\"w-5 h-5 text-green-400 fill-green-400\" />\r\n                      <div>\r\n                        <p className=\"text-green-400 font-semibold\">Avaliação completa!</p>\r\n                        <p className=\"text-green-300/80 text-sm\">Obrigado por compartilhar sua experiência.</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Upload de foto APÓS avaliar */}\r\n                  {canUploadPhoto() && (\r\n                    <div className=\"pt-6 border-t border-white/10\">\r\n                      <div className=\"flex items-center gap-3 mb-4\">\r\n                        <Camera className=\"w-6 h-6 text-purple-400\" />\r\n                        <h3 className=\"text-xl font-semibold text-white\">Compartilhe uma foto</h3>\r\n                      </div>\r\n                      <p className=\"text-white/60 mb-4\">\r\n                        Envie uma foto do evento para o histórico e para o carousel do restaurante.\r\n                      </p>\r\n                      \r\n                      <input\r\n                        ref={fileInputRef}\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        className=\"hidden\"\r\n                        onChange={handlePhotoUpload}\r\n                      />\r\n                      \r\n                      <Button\r\n                        onClick={() => fileInputRef.current?.click()}\r\n                        disabled={uploadingPhoto}\r\n                        className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\r\n                      >\r\n                        {uploadingPhoto ? (\r\n                          <Loader className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                        ) : (\r\n                          <Camera className=\"w-4 h-4 mr-2\" />\r\n                        )}\r\n                        {uploadingPhoto ? 'Enviando...' : 'Enviar Foto'}\r\n                      </Button>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* ============================================ */}\r\n        {/* ✅ SEÇÃO DE FOTO - CONCLUÍDO */}\r\n        {/* ============================================ */}\r\n        {isEventConcluded && isParticipant && hasAttended && canUploadPhoto() && (\r\n          <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n            <div className=\"flex items-center gap-3 mb-4\">\r\n              <Camera className=\"w-6 h-6 text-purple-400\" />\r\n              <h3 className=\"text-xl font-semibold text-white\">Trocar foto do evento</h3>\r\n            </div>\r\n            <p className=\"text-white/60 mb-4\">\r\n              Você pode trocar sua foto do evento por até 6 meses após a conclusão.\r\n            </p>\r\n            \r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              className=\"hidden\"\r\n              onChange={handlePhotoUpload}\r\n            />\r\n            \r\n            <Button\r\n              onClick={() => fileInputRef.current?.click()}\r\n              disabled={uploadingPhoto}\r\n              className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\"\r\n            >\r\n              {uploadingPhoto ? (\r\n                <Loader className=\"w-4 h-4 mr-2 animate-spin\" />\r\n              ) : (\r\n                <Camera className=\"w-4 h-4 mr-2\" />\r\n              )}\r\n              {uploadingPhoto ? 'Enviando...' : 'Trocar Foto'}\r\n            </Button>\r\n          </div>\r\n        )}\r\n\r\n      </motion.div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EventDetails;"],"version":3}