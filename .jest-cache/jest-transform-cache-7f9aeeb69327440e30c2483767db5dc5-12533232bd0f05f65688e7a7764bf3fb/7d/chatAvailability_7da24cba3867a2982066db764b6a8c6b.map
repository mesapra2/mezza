{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\utils\\chatAvailability.js","mappings":";AAAA,gCAAgC;;;AAEzB,MAAM,eAAe,GAAG,CAAC,KAAK,EAAE,SAAS,EAAE,qBAAqB,EAAE,EAAE;IACzE,IAAI,CAAC,KAAK,EAAE,CAAC;QACX,OAAO;YACL,SAAS,EAAE,KAAK;YAChB,MAAM,EAAE,wBAAwB;SACjC,CAAC;IACJ,CAAC;IAED,oCAAoC;IACpC,IAAI,SAAS,EAAE,CAAC;QACd,OAAO;YACL,SAAS,EAAE,IAAI;YACf,MAAM,EAAE,IAAI;SACb,CAAC;IACJ,CAAC;IAED,2EAA2E;IAC3E,IAAI,KAAK,CAAC,UAAU,KAAK,eAAe,EAAE,CAAC;QACzC,IAAI,qBAAqB,EAAE,CAAC;YAC1B,OAAO;gBACL,SAAS,EAAE,IAAI;gBACf,MAAM,EAAE,IAAI;aACb,CAAC;QACJ,CAAC;QACD,OAAO;YACL,SAAS,EAAE,KAAK;YAChB,MAAM,EAAE,2EAA2E;SACpF,CAAC;IACJ,CAAC;IAED,4CAA4C;IAC5C,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC3B,OAAO;YACL,SAAS,EAAE,KAAK;YAChB,MAAM,EAAE,gEAAgE;SACzE,CAAC;IACJ,CAAC;IAED,6EAA6E;IAC7E,MAAM,mBAAmB,GAAG,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC,KAAK,CAAC;IAC/D,MAAM,eAAe,GAAG,KAAK,CAAC,MAAM,KAAK,YAAY,IAAI,KAAK,CAAC,MAAM,KAAK,cAAc,CAAC;IAEzF,IAAI,CAAC,mBAAmB,IAAI,CAAC,eAAe,EAAE,CAAC;QAC7C,OAAO;YACL,SAAS,EAAE,KAAK;YAChB,MAAM,EAAE,cAAc,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,aAAa,gEAAgE;SACxH,CAAC;IACJ,CAAC;IAED,OAAO;QACL,SAAS,EAAE,IAAI;QACf,MAAM,EAAE,IAAI;KACb,CAAC;AACJ,CAAC,CAAC;AArDW,QAAA,eAAe,mBAqD1B","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\utils\\chatAvailability.js"],"sourcesContent":["// src/utils/chatAvailability.js\r\n\r\nexport const isChatAvailable = (event, isCreator, isApprovedParticipant) => {\r\n  if (!event) {\r\n    return {\r\n      available: false,\r\n      reason: 'Evento não encontrado.'\r\n    };\r\n  }\r\n\r\n  // Criador sempre tem acesso ao chat\r\n  if (isCreator) {\r\n    return {\r\n      available: true,\r\n      reason: null\r\n    };\r\n  }\r\n\r\n  // Para eventos institucionais, qualquer participante aprovado pode acessar\r\n  if (event.event_type === 'institucional') {\r\n    if (isApprovedParticipant) {\r\n      return {\r\n        available: true,\r\n        reason: null\r\n      };\r\n    }\r\n    return {\r\n      available: false,\r\n      reason: 'Você precisa ser aprovado para acessar o chat deste evento institucional.'\r\n    };\r\n  }\r\n\r\n  // Para eventos normais (não institucionais)\r\n  if (!isApprovedParticipant) {\r\n    return {\r\n      available: false,\r\n      reason: 'Você precisa ser um participante aprovado para acessar o chat.'\r\n    };\r\n  }\r\n\r\n  // Verifica se todas as vagas foram preenchidas ou se o evento foi confirmado\r\n  const allVacasPreenchidas = event.approvedCount >= event.vagas;\r\n  const eventConfirmado = event.status === 'Confirmado' || event.status === 'Em andamento';\r\n\r\n  if (!allVacasPreenchidas && !eventConfirmado) {\r\n    return {\r\n      available: false,\r\n      reason: `Aguardando ${event.vagas - event.approvedCount} participante(s) ou confirmação do evento para liberar o chat.`\r\n    };\r\n  }\r\n\r\n  return {\r\n    available: true,\r\n    reason: null\r\n  };\r\n};"],"version":3}