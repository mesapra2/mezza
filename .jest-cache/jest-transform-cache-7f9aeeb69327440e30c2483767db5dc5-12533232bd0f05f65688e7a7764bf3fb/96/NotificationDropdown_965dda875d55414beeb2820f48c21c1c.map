{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\components\\NotificationDropdown.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\components\\NotificationDropdown.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Bell, Check, X,  UserPlus,   Calendar,   AlertCircle,   Hand,  Key,  Copy,  CheckCircle} from 'lucide-react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport NotificationService from '@/services/NotificationService';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport { useToast } from '@/features/shared/components/ui/use-toast';\r\n\r\nconst NotificationDropdown = ({ userId }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [pokes, setPokes] = useState([]);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  const { toast } = useToast();\r\n\r\n  const loadNotifications = useCallback(async () => {\r\n    setLoading(true);\r\n    let retries = 3;\r\n    \r\n    while (retries > 0) {\r\n      try {\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 10000);\r\n\r\n        const { data: notificationsData, error: notifError } = await supabase\r\n          .from('notifications')\r\n          .select('*')\r\n          .eq('user_id', userId)\r\n          .order('created_at', { ascending: false })\r\n          .limit(10);\r\n\r\n        clearTimeout(timeoutId);\r\n\r\n        if (notifError) throw notifError;\r\n\r\n        const notificationsWithUsers = await Promise.all(\r\n          (notificationsData || []).map(async (notif) => {\r\n            if (notif.participation_id) {\r\n              try {\r\n                const { data: participationData } = await supabase\r\n                  .from('event_participants')\r\n                  .select(`\r\n                    id,\r\n                    user_id,\r\n                    profiles!event_participants_user_id_fkey(\r\n                      id,\r\n                      username,\r\n                      avatar_url\r\n                    )\r\n                  `)\r\n                  .eq('id', notif.participation_id)\r\n                  .single();\r\n\r\n                return {\r\n                  ...notif,\r\n                  participation: participationData\r\n                    ? {\r\n                        id: participationData.id,\r\n                        user: participationData.profiles,\r\n                      }\r\n                    : null,\r\n                };\r\n              } catch (err) {\r\n                console.warn('âš ï¸ Erro ao carregar participaÃ§Ã£o:', err);\r\n                return notif;\r\n              }\r\n            }\r\n            return notif;\r\n          })\r\n        );\r\n\r\n        setNotifications(notificationsWithUsers);\r\n        break;\r\n      } catch (error) {\r\n        retries--;\r\n        if (retries === 0) {\r\n          console.error('âŒ Erro ao carregar notificaÃ§Ãµes apÃ³s 3 tentativas:', error);\r\n          setNotifications([]);\r\n        } else {\r\n          console.warn(`âš ï¸ Erro ao carregar notificaÃ§Ãµes. Tentando novamente... (${retries} tentativas restantes)`);\r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n      }\r\n    }\r\n    \r\n    setLoading(false);\r\n  }, [userId]);\r\n\r\n  const loadPokes = useCallback(async () => {\r\n    let retries = 3;\r\n    \r\n    while (retries > 0) {\r\n      try {\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 10000);\r\n\r\n        const yesterday = new Date();\r\n        yesterday.setDate(yesterday.getDate() - 1);\r\n\r\n        const { data: pokesData, error: pokesError } = await supabase\r\n          .from('pokes')\r\n          .select(`\r\n            id,\r\n            from_user_id,\r\n            created_at,\r\n            read,\r\n            profiles!pokes_from_user_id_fkey(\r\n              id,\r\n              username,\r\n              full_name,\r\n              avatar_url\r\n            )\r\n          `)\r\n          .eq('to_user_id', userId)\r\n          .gte('created_at', yesterday.toISOString())\r\n          .order('created_at', { ascending: false })\r\n          .limit(10);\r\n\r\n        clearTimeout(timeoutId);\r\n\r\n        if (pokesError) throw pokesError;\r\n\r\n        setPokes(pokesData || []);\r\n        break;\r\n      } catch (error) {\r\n        retries--;\r\n        if (retries === 0) {\r\n          console.error('âŒ Erro ao carregar cutucadas apÃ³s 3 tentativas:', error);\r\n          setPokes([]);\r\n        } else {\r\n          console.warn(`âš ï¸ Erro ao carregar cutucadas. Tentando novamente... (${retries} tentativas restantes)`);\r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n      }\r\n    }\r\n  }, [userId]);\r\n\r\n  const loadUnreadCount = useCallback(async () => {\r\n    let retries = 3;\r\n    \r\n    while (retries > 0) {\r\n      try {\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 10000);\r\n\r\n        const notifCount = await NotificationService.getUnreadCount(userId);\r\n        const { count: pokesCount } = await supabase\r\n          .from('pokes')\r\n          .select('*', { count: 'exact', head: true })\r\n          .eq('to_user_id', userId)\r\n          .eq('read', false);\r\n\r\n        clearTimeout(timeoutId);\r\n\r\n        setUnreadCount(notifCount + (pokesCount || 0));\r\n        break;\r\n      } catch (error) {\r\n        retries--;\r\n        if (retries === 0) {\r\n          console.error('âŒ Erro ao contar nÃ£o lidas apÃ³s 3 tentativas:', error);\r\n          setUnreadCount(0);\r\n        } else {\r\n          console.warn(`âš ï¸ Erro ao contar nÃ£o lidas. Tentando novamente... (${retries} tentativas restantes)`);\r\n          await new Promise(resolve => setTimeout(resolve, 1000));\r\n        }\r\n      }\r\n    }\r\n  }, [userId]);\r\n\r\n  useEffect(() => {\r\n    if (!userId) return;\r\n\r\n    loadNotifications();\r\n    loadPokes();\r\n    loadUnreadCount();\r\n\r\n    const interval = setInterval(() => {\r\n      loadNotifications();\r\n      loadPokes();\r\n      loadUnreadCount();\r\n    }, 30000);\r\n\r\n    let notifChannel = null;\r\n    let pokesChannel = null;\r\n\r\n    const setupChannels = async () => {\r\n      try {\r\n        notifChannel = supabase\r\n          .channel(`notifications:${userId}`)\r\n          .on(\r\n            'postgres_changes',\r\n            {\r\n              event: 'INSERT',\r\n              schema: 'public',\r\n              table: 'notifications',\r\n              filter: `user_id=eq.${userId}`,\r\n            },\r\n            (payload) => {\r\n              console.log('ðŸ”” Nova notificaÃ§Ã£o recebida:', payload);\r\n              loadNotifications();\r\n              loadUnreadCount();\r\n            }\r\n          )\r\n          .subscribe((status) => {\r\n            if (status === 'SUBSCRIBED') {\r\n              console.log('âœ… Inscrito em notificaÃ§Ãµes');\r\n            } else if (status === 'CHANNEL_ERROR') {\r\n              console.error('âŒ Erro ao conectar em notificaÃ§Ãµes');\r\n            }\r\n          });\r\n\r\n        pokesChannel = supabase\r\n          .channel(`pokes:${userId}`)\r\n          .on(\r\n            'postgres_changes',\r\n            {\r\n              event: 'INSERT',\r\n              schema: 'public',\r\n              table: 'pokes',\r\n              filter: `to_user_id=eq.${userId}`,\r\n            },\r\n            (payload) => {\r\n              console.log('ðŸ‘‹ Novo Tok recebido:', payload);\r\n              loadPokes();\r\n              loadUnreadCount();\r\n            }\r\n          )\r\n          .subscribe((status) => {\r\n            if (status === 'SUBSCRIBED') {\r\n              console.log('âœ… Inscrito em toks');\r\n            } else if (status === 'CHANNEL_ERROR') {\r\n              console.error('âŒ Erro ao conectar em toks');\r\n            }\r\n          });\r\n      } catch (error) {\r\n        console.error('âŒ Erro ao configurar canais:', error);\r\n      }\r\n    };\r\n\r\n    setupChannels();\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n      if (notifChannel) {\r\n        notifChannel.unsubscribe();\r\n      }\r\n      if (pokesChannel) {\r\n        pokesChannel.unsubscribe();\r\n      }\r\n    };\r\n  }, [userId, loadNotifications, loadPokes, loadUnreadCount]);\r\n\r\n  const handleMarkAsRead = async (notificationId) => {\r\n    await NotificationService.markAsRead(notificationId);\r\n    loadNotifications();\r\n    loadUnreadCount();\r\n  };\r\n\r\n  const handleMarkPokeAsRead = async (pokeId) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('pokes')\r\n        .update({ read: true })\r\n        .eq('id', pokeId);\r\n\r\n      if (error) throw error;\r\n\r\n      loadPokes();\r\n      loadUnreadCount();\r\n    } catch (error) {\r\n      console.error('âŒ Erro ao marcar tok como lido:', error);\r\n    }\r\n  };\r\n\r\n  const handleMarkAllAsRead = async () => {\r\n    await NotificationService.markAllAsRead(userId);\r\n    try {\r\n      const { error } = await supabase\r\n        .from('pokes')\r\n        .update({ read: true })\r\n        .eq('to_user_id', userId);\r\n\r\n      if (error) throw error;\r\n\r\n      loadNotifications();\r\n      loadPokes();\r\n      loadUnreadCount();\r\n    } catch (error) {\r\n      console.error('âŒ Erro ao marcar todos como lidos:', error);\r\n    }\r\n  };\r\n\r\n  const handleNotificationClick = (notification) => {\r\n    if (notification.event_id) {\r\n      navigate(`/event/${notification.event_id}`);\r\n      handleMarkAsRead(notification.id);\r\n      setIsOpen(false);\r\n    } else {\r\n      console.warn('âš ï¸ NotificaÃ§Ã£o sem event_id:', notification);\r\n    }\r\n  };\r\n\r\n  const handlePokeClick = (poke) => {\r\n    navigate(`/profile/${poke.from_user_id}`);\r\n    handleMarkPokeAsRead(poke.id);\r\n    setIsOpen(false);\r\n  };\r\n\r\n  // ðŸ†• FunÃ§Ã£o para copiar senha\r\n  const handleCopyPassword = (password, eventTitle) => {\r\n    navigator.clipboard.writeText(password);\r\n    toast({\r\n      title: 'ðŸ” Senha copiada!',\r\n      description: `Senha do evento \"${eventTitle}\" copiada para Ã¡rea de transferÃªncia`,\r\n    });\r\n  };\r\n\r\n  // ðŸ†• FunÃ§Ã£o para renderizar notificaÃ§Ã£o com senha\r\n  const renderPasswordNotification = (notification) => {\r\n    if (notification.notification_type !== 'event_password') return null;\r\n\r\n    // Extrair senha do data ou message\r\n    const password = notification.data?.password || \r\n                    notification.message?.match(/\\d{4}/)?.[0];\r\n\r\n    if (!password) return null;\r\n\r\n    return (\r\n      <div className=\"mt-2 p-3 rounded-lg bg-green-500/10 border border-green-500/30\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Key className=\"w-4 h-4 text-green-400\" />\r\n            <div>\r\n              <p className=\"text-xs text-green-300 font-semibold\">Senha de Entrada</p>\r\n              <p className=\"text-2xl font-bold text-green-400 font-mono tracking-wider\">\r\n                {password}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              handleCopyPassword(password, notification.title);\r\n            }}\r\n            className=\"p-2 rounded-lg hover:bg-white/10 text-green-400 transition-colors\"\r\n            title=\"Copiar senha\"\r\n          >\r\n            <Copy className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n        <p className=\"text-xs text-green-200/70 mt-2\">\r\n          Compartilhe esta senha com os participantes para entrarem no evento\r\n        </p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getNotificationIcon = (type) => {\r\n    const icons = {\r\n      'Candidatura Recebida': UserPlus,\r\n      'Candidatura Aprovada': Check,\r\n      'Candidatura Rejeitada': X,\r\n      'Novo Evento': Calendar,\r\n      'event_cancelled': AlertCircle,\r\n      'event_confirmed': Check,\r\n      'event_reminder': Calendar,\r\n      'event_password': Key, // ðŸ†•\r\n      'poke': Hand,\r\n    };\r\n    return icons[type] || Bell;\r\n  };\r\n\r\n  const getNotificationColor = (type) => {\r\n    const colors = {\r\n      'Candidatura Recebida': 'text-purple-400',\r\n      'Candidatura Aprovada': 'text-green-400',\r\n      'Candidatura Rejeitada': 'text-red-400',\r\n      'Novo Evento': 'text-blue-400',\r\n      'event_cancelled': 'text-yellow-400',\r\n      'event_confirmed': 'text-blue-400',\r\n      'event_reminder': 'text-orange-400',\r\n      'event_password': 'text-green-400', // ðŸ†•\r\n      'poke': 'text-pink-400',\r\n    };\r\n    return colors[type] || 'text-white';\r\n  };\r\n\r\n  const getUserAvatar = (notification) => {\r\n    if (notification.participation?.user?.avatar_url) {\r\n      return notification.participation.user.avatar_url;\r\n    }\r\n    const username = notification.participation?.user?.username || 'UsuÃ¡rio';\r\n    return `https://ui-avatars.com/api/?name=${encodeURIComponent(username)}&background=8b5cf6&color=fff&size=48`;\r\n  };\r\n\r\n  const allItems = [\r\n    ...notifications.map((n) => ({ ...n, type: 'notification' })),\r\n    ...pokes.map((p) => ({\r\n      ...p,\r\n      type: 'poke',\r\n      notification_type: 'poke',\r\n      title: 'Novo Tok!',\r\n      message: `${p.profiles?.full_name || p.profiles?.username || 'AlguÃ©m'} te enviou um Tok ðŸ‘‹`,\r\n      sent: p.read,\r\n    })),\r\n  ].sort((a, b) => new Date(b.created_at) - new Date(a.created_at));\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"relative p-2 rounded-full text-white/70 hover:text-white hover:bg-white/10 transition-colors\"\r\n        aria-label=\"NotificaÃ§Ãµes\"\r\n      >\r\n        <Bell className=\"w-6 h-6\" />\r\n        {unreadCount > 0 && (\r\n          <motion.span\r\n            initial={{ scale: 0 }}\r\n            animate={{ scale: 1 }}\r\n            className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold\"\r\n          >\r\n            {unreadCount > 9 ? '9+' : unreadCount}\r\n          </motion.span>\r\n        )}\r\n      </button>\r\n\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -10, scale: 0.95 }}\r\n            animate={{ opacity: 1, y: 0, scale: 1 }}\r\n            exit={{ opacity: 0, y: -10, scale: 0.95 }}\r\n            className=\"absolute top-full right-0 mt-2 w-96 max-h-[600px] bg-gray-900/95 backdrop-blur-xl rounded-2xl border border-white/10 shadow-2xl z-[70] overflow-hidden\"\r\n          >\r\n            <div className=\"p-4 border-b border-white/10\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <h3 className=\"text-white font-semibold text-lg flex items-center gap-2\">\r\n                  <Bell className=\"w-5 h-5\" />\r\n                  NotificaÃ§Ãµes\r\n                </h3>\r\n                {unreadCount > 0 && (\r\n                  <button\r\n                    onClick={handleMarkAllAsRead}\r\n                    className=\"text-purple-400 hover:text-purple-300 text-sm font-medium\"\r\n                  >\r\n                    Marcar todas como lidas\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"overflow-y-auto max-h-[500px]\">\r\n              {loading ? (\r\n                <div className=\"flex items-center justify-center p-8\">\r\n                  <Bell className=\"w-8 h-8 text-white/40 animate-pulse\" />\r\n                </div>\r\n              ) : allItems.length === 0 ? (\r\n                <div className=\"flex flex-col items-center justify-center p-8 text-center\">\r\n                  <Bell className=\"w-12 h-12 text-white/20 mb-3\" />\r\n                  <p className=\"text-white/60 text-sm\">Nenhuma notificaÃ§Ã£o</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"divide-y divide-white/10\">\r\n                  {allItems.map((item) => {\r\n                    const Icon = getNotificationIcon(item.notification_type);\r\n                    const iconColor = getNotificationColor(item.notification_type);\r\n                    const isUnread = !item.sent;\r\n                    const isPasswordNotif = item.notification_type === 'event_password'; // ðŸ†•\r\n\r\n                    return (\r\n                      <motion.button\r\n                        key={`${item.type}-${item.id}`}\r\n                        onClick={() => {\r\n                          if (item.type === 'poke') {\r\n                            handlePokeClick(item);\r\n                          } else {\r\n                            handleNotificationClick(item);\r\n                          }\r\n                        }}\r\n                        className={`w-full text-left p-4 hover:bg-white/5 transition-colors ${\r\n                          isUnread ? 'bg-purple-500/10' : ''\r\n                        } ${isPasswordNotif ? 'bg-green-500/5' : ''}`} // ðŸ†•\r\n                        whileHover={{ x: 4 }}\r\n                      >\r\n                        <div className=\"flex items-start gap-3\">\r\n                          {item.type === 'poke' && item.profiles ? (\r\n                            <div className=\"relative flex-shrink-0\">\r\n                              <img\r\n                                src={\r\n                                  item.profiles.avatar_url ||\r\n                                  `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n                                    item.profiles.username || 'User'\r\n                                  )}&background=8b5cf6&color=fff&size=48`\r\n                                }\r\n                                alt={item.profiles.username}\r\n                                className=\"w-10 h-10 rounded-full border-2 border-pink-500/50 object-cover\"\r\n                                onError={(e) => {\r\n                                  e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n                                    item.profiles?.username || 'User'\r\n                                  )}&background=8b5cf6&color=fff&size=48`;\r\n                                }}\r\n                              />\r\n                              <div className=\"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-pink-500 flex items-center justify-center\">\r\n                                <Hand className=\"w-3 h-3 text-white\" />\r\n                              </div>\r\n                            </div>\r\n                          ) : item.notification_type === 'Candidatura Recebida' && item.participation?.user ? (\r\n                            <div className=\"relative flex-shrink-0\">\r\n                              <img\r\n                                src={getUserAvatar(item)}\r\n                                alt={item.participation.user.username}\r\n                                className=\"w-10 h-10 rounded-full border-2 border-purple-500/50 object-cover\"\r\n                                onError={(e) => {\r\n                                  e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n                                    item.participation?.user?.username || 'User'\r\n                                  )}&background=8b5cf6&color=fff&size=48`;\r\n                                }}\r\n                              />\r\n                              <div className=\"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-purple-500 flex items-center justify-center\">\r\n                                <Icon className=\"w-3 h-3 text-white\" />\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            <div\r\n                              className={`w-10 h-10 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0 ${iconColor}`}\r\n                            >\r\n                              <Icon className=\"w-5 h-5\" />\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <div className=\"flex items-start justify-between gap-2 mb-1\">\r\n                              <p className=\"text-white font-medium text-sm\">{item.title}</p>\r\n                              {isUnread && (\r\n                                <div className=\"w-2 h-2 rounded-full bg-purple-500 flex-shrink-0 mt-1\" />\r\n                              )}\r\n                            </div>\r\n                            <p className=\"text-white/60 text-sm mb-2\">{item.message}</p>\r\n                            \r\n                            {/* ðŸ†• Renderizar senha se for notificaÃ§Ã£o de senha */}\r\n                            {renderPasswordNotification(item)}\r\n                            \r\n                            <p className=\"text-white/40 text-xs mt-2\">\r\n                              {format(new Date(item.created_at), \"dd/MM 'Ã s' HH:mm\", { locale: ptBR })}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                      </motion.button>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {allItems.length > 0 && (\r\n              <div className=\"p-3 text-center border-t border-white/10\">\r\n                <button\r\n                  onClick={() => {\r\n                    navigate('/notifications');\r\n                    setIsOpen(false);\r\n                  }}\r\n                  className=\"text-purple-400 hover:text-purple-300 text-sm font-medium\"\r\n                >\r\n                  Ver todas as notificaÃ§Ãµes\r\n                </button>\r\n              </div>\r\n            )}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nNotificationDropdown.propTypes = {\r\n  userId: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default NotificationDropdown;"],"version":3}