{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\pages\\PartnerProfilePage.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\pages\\PartnerProfilePage.jsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react'; // 1. IMPORTAMOS O useCallback\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { motion } from 'framer-motion';\r\n// Adicionamos 'Gift' para a seção de benefícios\r\nimport { MapPin, Phone, Mail, Clock, Calendar, Users, ArrowLeft, ExternalLink, Gift } from 'lucide-react';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport { Button } from '@/features/shared/components/ui/button';\r\nimport { GoogleBusinessBadge } from '@/features/shared/components/ui/GoogleBusinessBadge';\r\n//import { GoogleBusinessBadge } from '@/features/shared/components/ui/GoogleBusinessBadge.jsx';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\n\r\n// --- Função Helper para URLs de Fotos de Eventos ---\r\n// (Estou assumindo que o bucket se chama 'event-photos')\r\nconst getEventPhotoUrl = (photoPath) => {\r\n  if (!photoPath) return null;\r\n  if (photoPath.startsWith('http')) return photoPath;\r\n  \r\n  const { data } = supabase.storage\r\n    .from('event-photos') // <-- ASSUMINDO ESTE NOME DE BUCKET\r\n    .getPublicUrl(photoPath);\r\n  \r\n  return data.publicUrl;\r\n};\r\n// ----------------------------------------------------\r\n\r\n\r\nconst PartnerProfilePage = () => {\r\n  const { id } = useParams();\r\n  const [partner, setPartner] = useState(null);\r\n  const [events, setEvents] = useState([]);\r\n  const [pastEvents, setPastEvents] = useState([]); // <-- NOVO ESTADO (Carrossel)\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // 2. ENVOLVEMOS 'loadPartnerData' COM 'useCallback'\r\n  // Esta função agora só será recriada se o 'id' mudar.\r\n  const loadPartnerData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    \r\n    try {\r\n      // Carrega dados do parceiro\r\n      const { data: partnerData, error: partnerError } = await supabase\r\n        .from('partners')\r\n        .select('*')\r\n        .eq('id', id)\r\n        .single();\r\n\r\n      if (partnerError) throw partnerError;\r\n      setPartner(partnerData);\r\n\r\n      // Carrega eventos FUTUROS do restaurante\r\n      const { data: eventsData, error: eventsError } = await supabase\r\n        .from('events')\r\n        .select('*')\r\n        .eq('partner_id', id)\r\n        .in('status', ['Aberto', 'Confirmado'])\r\n        .order('start_time', { ascending: true })\r\n        .limit(6);\r\n\r\n      if (eventsError) throw eventsError;\r\n      setEvents(eventsData || []);\r\n\r\n      // --- NOVO: Carrega eventos PASSADOS com fotos (para o Carrossel) ---\r\n      const { data: pastEventsData, error: pastEventsError } = await supabase\r\n        .from('events')\r\n        .select('id, title, event_photos')\r\n        .eq('partner_id', id)\r\n        .eq('status', 'Concluído')\r\n        .not('event_photos', 'is', null) // Só traz eventos que tenham fotos\r\n        .order('start_time', { ascending: false }) // Mais recentes primeiro\r\n        .limit(5); // Limita a 5 eventos\r\n      \r\n      if (pastEventsError) {\r\n        console.error(\"Erro ao buscar eventos passados:\", pastEventsError);\r\n      } else {\r\n        // Processa as URLs das fotos\r\n        const processedPastEvents = pastEventsData.map(event => ({\r\n          ...event,\r\n          photos: event.event_photos.map(getEventPhotoUrl)\r\n        }));\r\n        setPastEvents(processedPastEvents || []);\r\n      }\r\n      // --- FIM DA NOVA QUERY ---\r\n\r\n    } catch (err) {\r\n      console.error('Erro ao carregar dados do parceiro:', err);\r\n      setError('Não foi possível carregar as informações do restaurante.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id]); // O 'id' é a dependência do useCallback\r\n\r\n  // 3. AGORA O 'useEffect' DEPENDE DE 'loadPartnerData'\r\n  // Ele só vai rodar quando a função (memorizada) mudar,\r\n  // ou seja, quando o 'id' mudar.\r\n  useEffect(() => {\r\n    loadPartnerData();\r\n  }, [loadPartnerData]); // <-- Erro corrigido!\r\n\r\n  const getPartnerPhoto = (index = 0) => {\r\n    if (!partner?.photos || !Array.isArray(partner.photos)) return null;\r\n    if (partner.photos.length === 0) return null;\r\n    \r\n    const photo = partner.photos[index];\r\n    if (!photo) return null;\r\n\r\n    if (photo.startsWith('http')) return photo;\r\n\r\n    // --- CORREÇÃO DO BUG ---\r\n    // O bucket correto é 'photos' (como definido em PartnerSettings.jsx)\r\n    const { data } = supabase.storage\r\n      .from('photos') // <-- CORRIGIDO (estava 'partner-photos')\r\n      .getPublicUrl(photo);\r\n    \r\n    return data.publicUrl;\r\n  };\r\n  // --- FIM DA CORREÇÃO ---\r\n\r\n  const getAddress = () => {\r\n    if (!partner?.address) return 'Endereço não informado';\r\n    \r\n    if (typeof partner.address === 'string') {\r\n      return partner.address;\r\n    }\r\n    \r\n    if (typeof partner.address === 'object') {\r\n      const parts = [\r\n        partner.address.street || partner.address.rua,\r\n        partner.address.number || partner.address.numero,\r\n        partner.address.neighborhood || partner.address.bairro,\r\n        partner.address.city || partner.address.cidade,\r\n        partner.address.state || partner.address.estado,\r\n      ].filter(Boolean);\r\n      return parts.length > 0 ? parts.join(', ') : 'Endereço não informado';\r\n    }\r\n    \r\n    return 'Endereço não informado';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !partner) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center min-h-screen\">\r\n        <h2 className=\"text-2xl font-bold text-white mb-4\">Restaurante não encontrado</h2>\r\n        <p className=\"text-white/60 mb-6\">{error}</p>\r\n        <Link to=\"/restaurants\">\r\n          <Button>\r\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n            Voltar para Restaurantes\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const mainPhoto = getPartnerPhoto(0);\r\n  const hasPhotos = partner.photos && partner.photos.length > 0;\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{partner.name} - Mesapra2</title>\r\n        <meta name=\"description\" content={partner.description || `Conheça ${partner.name}`} />\r\n      </Helmet>\r\n\r\n      <div className=\"py-6 px-4 sm:px-6 lg:px-8\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"max-w-5xl mx-auto space-y-6\"\r\n        >\r\n          {/* Header com botão voltar */}\r\n          <Link to=\"/restaurants\">\r\n            <Button variant=\"ghost\" className=\"text-white/60 hover:text-white\">\r\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n              Voltar para Restaurantes\r\n            </Button>\r\n          </Link>\r\n\r\n          {/* Banner / Foto Principal */}\r\n          <div className=\"relative h-64 md:h-96 rounded-2xl overflow-hidden\">\r\n            {mainPhoto ? (\r\n              <img\r\n                src={mainPhoto}\r\n                alt={partner.name}\r\n                className=\"w-full h-full object-cover\"\r\n                onError={(e) => {\r\n                  e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(partner.name)}&size=800&background=8b5cf6&color=fff`;\r\n                }}\r\n              />\r\n            ) : (\r\n              <div className=\"w-full h-full bg-gradient-to-br from-purple-500/20 to-pink-500/20 flex items-center justify-center\">\r\n                <span className=\"text-white/40 text-4xl font-bold\">{partner.name[0]}</span>\r\n              </div>\r\n            )}\r\n            <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\" />\r\n            <div className=\"absolute bottom-0 left-0 right-0 p-6\">\r\n              <h1 className=\"text-4xl font-bold text-white mb-2\">{partner.name}</h1>\r\n              {partner.cuisine_type && (\r\n                <span className=\"inline-block px-3 py-1 rounded-full bg-purple-500/30 text-purple-200 text-sm border border-purple-400/50\">\r\n                  {partner.cuisine_type}\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Galeria de Fotos (agora deve funcionar) */}\r\n          {hasPhotos && partner.photos.length > 1 && (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n              {partner.photos.slice(1, 5).map((photo, index) => {\r\n                const photoUrl = getPartnerPhoto(index + 1);\r\n                if (!photoUrl) return null;\r\n                \r\n                return (\r\n                  <div key={index} className=\"relative h-32 rounded-lg overflow-hidden\">\r\n                    <img\r\n                      src={photoUrl}\r\n                      alt={`${partner.name} - Foto ${index + 2}`}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n\r\n          {/* Informações do Restaurante */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {/* Informações de Contato */}\r\n            <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n              <h2 className=\"text-xl font-semibold text-white mb-4\">Informações</h2>\r\n              \r\n              <div className=\"space-y-4\">\r\n                {/* Google Business Badge - Destaque */}\r\n                {partner.google_business_url && (\r\n                  <div className=\"pb-4 mb-4 border-b border-white/10\">\r\n                    <GoogleBusinessBadge \r\n                      url={partner.google_business_url}\r\n                      variant=\"default\"\r\n                      className=\"w-full justify-center\"\r\n                    />\r\n                    <p className=\"text-xs text-white/40 text-center mt-2\">\r\n                      Veja as avaliações dos nossos clientes\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {partner.address && (\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <MapPin className=\"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0\" />\r\n                    <div>\r\n                      <p className=\"text-white/60 text-xs mb-1\">Endereço</p>\r\n                      <p className=\"text-white text-sm\">{getAddress()}</p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {partner.phone && (\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <Phone className=\"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0\" />\r\n                    <div>\r\n                      <p className=\"text-white/60 text-xs mb-1\">Telefone</p>\r\n                      <a href={`tel:${partner.phone}`} className=\"text-white text-sm hover:text-purple-300\">\r\n                        {partner.phone}\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {partner.email && (\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <Mail className=\"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0\" />\r\n                    <div>\r\n                      <p className=\"text-white/60 text-xs mb-1\">Email</p>\r\n                      <a href={`mailto:${partner.email}`} className=\"text-white text-sm hover:text-purple-300\">\r\n                        {partner.email}\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {partner.website && (\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <ExternalLink className=\"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0\" />\r\n                    <div>\r\n                      <p className=\"text-white/60 text-xs mb-1\">Website</p>\r\n                      <a \r\n                        href={partner.website} \r\n                        target=\"_blank\" \r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"text-white text-sm hover:text-purple-300\"\r\n                      >\r\n                        Visitar site\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {partner.opening_hours && (\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <Clock className=\"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0\" />\r\n                    <div>\r\n                      <p className=\"text-white/60 text-xs mb-1\">Horário de Funcionamento</p>\r\n                      <p className=\"text-white text-sm whitespace-pre-line\">{partner.opening_hours}</p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* --- NOVA SEÇÃO: BENEFÍCIOS --- */}\r\n                {partner.benefits && partner.benefits.length > 0 && (\r\n                  <div className=\"flex items-start gap-3 pt-4 border-t border-white/10\">\r\n                    <Gift className=\"w-5 h-5 text-purple-400 mt-0.5 flex-shrink-0\" />\r\n                    <div>\r\n                      <p className=\"text-white/60 text-xs mb-1\">Benefícios e Vantagens</p>\r\n                      <ul className=\"text-white text-sm list-disc list-inside space-y-1\">\r\n                        {partner.benefits.map((benefit) => (\r\n                          <li key={benefit}>{benefit}</li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {/* --- FIM DA SEÇÃO BENEFÍCIOS --- */}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Descrição */}\r\n            {partner.description && (\r\n              <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n                <h2 className=\"text-xl font-semibold text-white mb-4\">Sobre</h2>\r\n                <p className=\"text-white/80 text-sm leading-relaxed whitespace-pre-line\">\r\n                  {partner.description}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Eventos FUTUROS do Restaurante */}\r\n          {events.length > 0 && (\r\n            <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-xl font-semibold text-white\">Próximos Eventos</h2>\r\n                <Link to=\"/events\">\r\n                  <Button variant=\"ghost\" size=\"sm\">\r\n                    Ver todos\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {events.map((event) => (\r\n                  <Link key={event.id} to={`/event/${event.id}`}>\r\n                    <div className=\"glass-effect rounded-lg p-4 border border-white/10 hover:bg-white/5 transition-colors cursor-pointer\">\r\n                      <h3 className=\"text-white font-semibold mb-2 line-clamp-2\">\r\n                        {event.title}\r\n                      </h3>\r\n                      <div className=\"space-y-1 text-sm text-white/60\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Calendar className=\"w-4 h-4\" />\r\n                          <span>{format(new Date(event.start_time), \"dd/MM 'às' HH:mm\", { locale: ptBR })}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Users className=\"w-4 h-4\" />\r\n                          <span>{event.vagas} vagas</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* --- NOVA SEÇÃO: CARROSSEL DE EVENTOS PASSADOS --- */}\r\n          {pastEvents.length > 0 && (\r\n            <div className=\"glass-effect rounded-2xl p-6 border border-white/10\">\r\n              <h2 className=\"text-xl font-semibold text-white mb-6\">Galeria de Eventos Passados</h2>\r\n              <div className=\"flex overflow-x-auto space-x-4 pb-4\">\r\n                {/* Criamos um \"carrossel\" simples com scroll horizontal */}\r\n                {pastEvents.flatMap((event) => \r\n                  event.photos.map((photoUrl, index) => (\r\n                    <div key={`${event.id}-${index}`} className=\"flex-shrink-0 w-64 md:w-80\">\r\n                      <div className=\"relative aspect-video rounded-lg overflow-hidden border border-white/10\">\r\n                        {photoUrl ? (\r\n                          <img\r\n                            src={photoUrl}\r\n                            alt={`${event.title} - Foto ${index + 1}`}\r\n                            className=\"w-full h-full object-cover\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"w-full h-full bg-white/5 flex items-center justify-center\">\r\n                            <span className=\"text-white/40 text-xs\">Erro ao carregar foto</span>\r\n                          </div>\r\n                        )}\r\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\" />\r\n                        <p className=\"absolute bottom-2 left-3 text-white text-sm font-medium truncate\" title={event.title}>\r\n                          {event.title}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n          {/* --- FIM DA SEÇÃO CARROSSEL --- */}\r\n\r\n        </motion.div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PartnerProfilePage;"],"version":3}