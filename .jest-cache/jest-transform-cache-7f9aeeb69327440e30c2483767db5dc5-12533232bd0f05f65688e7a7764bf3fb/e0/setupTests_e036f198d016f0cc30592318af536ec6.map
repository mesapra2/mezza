{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\setupTests.ts","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\setupTests.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport '@testing-library/jest-dom';\r\n\r\n// Mock do import.meta.env para compatibilidade com Vite\r\nObject.defineProperty(globalThis, 'import.meta', {\r\n  value: {\r\n    env: {\r\n      VITE_SUPABASE_URL: 'https://ksmnfhenhppasfcikefd.supabase.co',\r\n      VITE_SUPABASE_ANON_KEY: 'test-anon-key',\r\n      VITE_API_URL: 'http://localhost:4000',\r\n      MODE: 'test',\r\n      DEV: false,\r\n      PROD: false,\r\n      SSR: false,\r\n    },\r\n  },\r\n  writable: true,\r\n  configurable: true,\r\n});\r\n\r\n// Mock do Supabase Client\r\njest.mock('@/lib/supabaseClient', () => ({\r\n  supabase: {\r\n    auth: {\r\n      signIn: jest.fn(),\r\n      signOut: jest.fn(),\r\n      signUp: jest.fn(),\r\n      getSession: jest.fn().mockResolvedValue({ data: { session: null }, error: null }),\r\n      getUser: jest.fn().mockResolvedValue({ data: { user: null }, error: null }),\r\n      onAuthStateChange: jest.fn(() => ({\r\n        data: {\r\n          subscription: {\r\n            unsubscribe: jest.fn(),\r\n          },\r\n        },\r\n      })),\r\n    },\r\n    from: jest.fn(() => ({\r\n      select: jest.fn().mockReturnThis(),\r\n      insert: jest.fn().mockReturnThis(),\r\n      update: jest.fn().mockReturnThis(),\r\n      delete: jest.fn().mockReturnThis(),\r\n      upsert: jest.fn().mockReturnThis(),\r\n      eq: jest.fn().mockReturnThis(),\r\n      neq: jest.fn().mockReturnThis(),\r\n      gt: jest.fn().mockReturnThis(),\r\n      gte: jest.fn().mockReturnThis(),\r\n      lt: jest.fn().mockReturnThis(),\r\n      lte: jest.fn().mockReturnThis(),\r\n      like: jest.fn().mockReturnThis(),\r\n      ilike: jest.fn().mockReturnThis(),\r\n      is: jest.fn().mockReturnThis(),\r\n      in: jest.fn().mockReturnThis(),\r\n      contains: jest.fn().mockReturnThis(),\r\n      containedBy: jest.fn().mockReturnThis(),\r\n      match: jest.fn().mockReturnThis(),\r\n      not: jest.fn().mockReturnThis(),\r\n      or: jest.fn().mockReturnThis(),\r\n      filter: jest.fn().mockReturnThis(),\r\n      order: jest.fn().mockReturnThis(),\r\n      limit: jest.fn().mockReturnThis(),\r\n      range: jest.fn().mockReturnThis(),\r\n      single: jest.fn().mockResolvedValue({ data: null, error: null }),\r\n      maybeSingle: jest.fn().mockResolvedValue({ data: null, error: null }),\r\n    })),\r\n    storage: {\r\n      from: jest.fn(() => ({\r\n        upload: jest.fn().mockResolvedValue({ data: null, error: null }),\r\n        download: jest.fn().mockResolvedValue({ data: null, error: null }),\r\n        remove: jest.fn().mockResolvedValue({ data: null, error: null }),\r\n        list: jest.fn().mockResolvedValue({ data: [], error: null }),\r\n        getPublicUrl: jest.fn().mockReturnValue({ \r\n          data: { publicUrl: 'http://example.com/file' } \r\n        }),\r\n      })),\r\n    },\r\n  },\r\n}));\r\n\r\n// ❌ REMOVIDO: Mock global do authService\r\n// Isso estava impedindo os testes unitários de funcionarem\r\n// Cada teste deve fazer seu próprio mock quando necessário\r\n\r\n// Mock do React Router\r\njest.mock('react-router-dom', () => ({\r\n  ...jest.requireActual('react-router-dom'),\r\n  useNavigate: jest.fn(),\r\n  useLocation: jest.fn(() => ({ \r\n    pathname: '/', \r\n    search: '', \r\n    hash: '', \r\n    state: null \r\n  })),\r\n  useParams: jest.fn(() => ({})),\r\n  BrowserRouter: ({ children }: any) => children,\r\n  Link: ({ children }: any) => children,\r\n}));\r\n\r\n// Mock de window.matchMedia\r\nObject.defineProperty(window, 'matchMedia', {\r\n  writable: true,\r\n  value: jest.fn().mockImplementation(query => ({\r\n    matches: false,\r\n    media: query,\r\n    onchange: null,\r\n    addListener: jest.fn(),\r\n    removeListener: jest.fn(),\r\n    addEventListener: jest.fn(),\r\n    removeEventListener: jest.fn(),\r\n    dispatchEvent: jest.fn(),\r\n  })),\r\n});\r\n\r\n// Mock de IntersectionObserver\r\nglobal.IntersectionObserver = class IntersectionObserver {\r\n  constructor() {}\r\n  disconnect() {}\r\n  observe() {}\r\n  takeRecords() {\r\n    return [];\r\n  }\r\n  unobserve() {}\r\n} as any;\r\n\r\n// Mock de ResizeObserver\r\nglobal.ResizeObserver = class ResizeObserver {\r\n  constructor() {}\r\n  disconnect() {}\r\n  observe() {}\r\n  unobserve() {}\r\n} as any;\r\n\r\n// Suprime avisos específicos do console durante testes\r\nconst originalError = console.error;\r\nconst originalWarn = console.warn;\r\n\r\nbeforeAll(() => {\r\n  console.error = (...args: any[]) => {\r\n    if (\r\n      typeof args[0] === 'string' &&\r\n      (args[0].includes('Warning: ReactDOM.render') ||\r\n       args[0].includes('Not implemented: HTMLFormElement.prototype.submit') ||\r\n       args[0].includes('Error: Not implemented: HTMLFormElement.prototype.submit'))\r\n    ) {\r\n      return;\r\n    }\r\n    originalError.call(console, ...args);\r\n  };\r\n\r\n  console.warn = (...args: any[]) => {\r\n    if (\r\n      typeof args[0] === 'string' &&\r\n      (args[0].includes('componentWillReceiveProps') ||\r\n       args[0].includes('Warning: Failed prop type'))\r\n    ) {\r\n      return;\r\n    }\r\n    originalWarn.call(console, ...args);\r\n  };\r\n});\r\n\r\nafterAll(() => {\r\n  console.error = originalError;\r\n  console.warn = originalWarn;\r\n});"],"version":3}