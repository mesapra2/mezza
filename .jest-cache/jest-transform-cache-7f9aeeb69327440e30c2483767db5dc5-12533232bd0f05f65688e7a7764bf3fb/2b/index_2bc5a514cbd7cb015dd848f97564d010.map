{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\utils\\index.js","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\utils\\index.js"],"sourcesContent":["// src/utils/index.js\r\n\r\nimport { clsx } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\nimport { supabase } from '@/lib/supabaseClient';\r\n\r\n/**\r\n * Combina classes CSS com Tailwind merge\r\n * Função essencial para componentes shadcn/ui\r\n */\r\nexport function cn(...inputs) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\n/**\r\n * Comprime uma imagem para um tamanho máximo\r\n * @param {File} file - Arquivo de imagem\r\n * @param {number} maxSizeMB - Tamanho máximo em MB (padrão: 2MB)\r\n * @param {number} maxWidthOrHeight - Largura/altura máxima (padrão: 1920px)\r\n * @returns {Promise<File>} - Arquivo comprimido\r\n */\r\nexport async function compressImage(file, maxSizeMB = 2, maxWidthOrHeight = 1920) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    \r\n    reader.onload = (event) => {\r\n      const img = new Image();\r\n      \r\n      img.onload = () => {\r\n        const canvas = document.createElement('canvas');\r\n        let width = img.width;\r\n        let height = img.height;\r\n\r\n        // Redimensiona mantendo proporção\r\n        if (width > height) {\r\n          if (width > maxWidthOrHeight) {\r\n            height *= maxWidthOrHeight / width;\r\n            width = maxWidthOrHeight;\r\n          }\r\n        } else {\r\n          if (height > maxWidthOrHeight) {\r\n            width *= maxWidthOrHeight / height;\r\n            height = maxWidthOrHeight;\r\n          }\r\n        }\r\n\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.drawImage(img, 0, 0, width, height);\r\n\r\n        // Converte para blob com qualidade ajustada\r\n        canvas.toBlob(\r\n          (blob) => {\r\n            if (!blob) {\r\n              reject(new Error('Falha ao comprimir imagem'));\r\n              return;\r\n            }\r\n\r\n            // Se ainda estiver maior que o limite, reduz a qualidade\r\n            if (blob.size > maxSizeMB * 1024 * 1024) {\r\n              canvas.toBlob(\r\n                (blob2) => {\r\n                  if (!blob2) {\r\n                    reject(new Error('Falha ao comprimir imagem'));\r\n                    return;\r\n                  }\r\n                  const compressedFile = new File([blob2], file.name, {\r\n                    type: 'image/jpeg',\r\n                    lastModified: Date.now(),\r\n                  });\r\n                  resolve(compressedFile);\r\n                },\r\n                'image/jpeg',\r\n                0.7 // Qualidade reduzida\r\n              );\r\n            } else {\r\n              const compressedFile = new File([blob], file.name, {\r\n                type: 'image/jpeg',\r\n                lastModified: Date.now(),\r\n              });\r\n              resolve(compressedFile);\r\n            }\r\n          },\r\n          'image/jpeg',\r\n          0.9 // Qualidade inicial\r\n        );\r\n      };\r\n\r\n      img.onerror = () => {\r\n        reject(new Error('Falha ao carregar imagem'));\r\n      };\r\n\r\n      img.src = event.target.result;\r\n    };\r\n\r\n    reader.onerror = () => {\r\n      reject(new Error('Falha ao ler arquivo'));\r\n    };\r\n\r\n    reader.readAsDataURL(file);\r\n  });\r\n}\r\n\r\n/**\r\n * Obtém a URL pública de uma foto do Supabase Storage\r\n * @param {string} photoPath - Caminho da foto no storage\r\n * @param {string} bucket - Nome do bucket (padrão: 'photos')\r\n * @returns {string|null} - URL pública da foto ou null\r\n */\r\nexport function getPhotoUrl(photoPath, bucket = 'photos') {\r\n  if (!photoPath) return null;\r\n\r\n  // Se já for uma URL completa, retorna ela mesma\r\n  if (photoPath.startsWith('http://') || photoPath.startsWith('https://')) {\r\n    return photoPath;\r\n  }\r\n\r\n  try {\r\n    const { data } = supabase.storage\r\n      .from(bucket)\r\n      .getPublicUrl(photoPath);\r\n\r\n    return data?.publicUrl || null;\r\n  } catch (error) {\r\n    console.error('Erro ao obter URL da foto:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Obtém a URL pública de um avatar do Supabase Storage\r\n * @param {string} avatarPath - Caminho do avatar no storage\r\n * @returns {string|null} - URL pública do avatar ou null\r\n */\r\nexport function getAvatarUrl(avatarPath) {\r\n  return getPhotoUrl(avatarPath, 'avatars');\r\n}\r\n\r\n/**\r\n * Formata um número de telefone brasileiro\r\n * @param {string} phone - Número de telefone\r\n * @returns {string} - Telefone formatado\r\n */\r\nexport function formatPhone(phone) {\r\n  if (!phone) return '';\r\n  \r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  \r\n  if (cleaned.length === 11) {\r\n    return cleaned.replace(/(\\d{2})(\\d{5})(\\d{4})/, '($1) $2-$3');\r\n  } else if (cleaned.length === 10) {\r\n    return cleaned.replace(/(\\d{2})(\\d{4})(\\d{4})/, '($1) $2-$3');\r\n  }\r\n  \r\n  return phone;\r\n}\r\n\r\n/**\r\n * Formata um CNPJ\r\n * @param {string} cnpj - CNPJ\r\n * @returns {string} - CNPJ formatado\r\n */\r\nexport function formatCNPJ(cnpj) {\r\n  if (!cnpj) return '';\r\n  \r\n  const cleaned = cnpj.replace(/\\D/g, '');\r\n  \r\n  if (cleaned.length === 14) {\r\n    return cleaned.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})/, '$1.$2.$3/$4-$5');\r\n  }\r\n  \r\n  return cnpj;\r\n}\r\n\r\n/**\r\n * Formata um CEP\r\n * @param {string} cep - CEP\r\n * @returns {string} - CEP formatado\r\n */\r\nexport function formatCEP(cep) {\r\n  if (!cep) return '';\r\n  \r\n  const cleaned = cep.replace(/\\D/g, '');\r\n  \r\n  if (cleaned.length === 8) {\r\n    return cleaned.replace(/(\\d{5})(\\d{3})/, '$1-$2');\r\n  }\r\n  \r\n  return cep;\r\n}\r\n\r\n/**\r\n * Formata uma data para exibição\r\n * @param {string|Date} date - Data\r\n * @param {boolean} includeTime - Incluir hora (padrão: false)\r\n * @returns {string} - Data formatada\r\n */\r\nexport function formatDate(date, includeTime = false) {\r\n  if (!date) return '';\r\n  \r\n  const d = new Date(date);\r\n  \r\n  if (isNaN(d.getTime())) return '';\r\n  \r\n  const options = {\r\n    day: '2-digit',\r\n    month: '2-digit',\r\n    year: 'numeric',\r\n  };\r\n  \r\n  if (includeTime) {\r\n    options.hour = '2-digit';\r\n    options.minute = '2-digit';\r\n  }\r\n  \r\n  return d.toLocaleString('pt-BR', options);\r\n}\r\n\r\n/**\r\n * Trunca um texto com reticências\r\n * @param {string} text - Texto\r\n * @param {number} maxLength - Comprimento máximo\r\n * @returns {string} - Texto truncado\r\n */\r\nexport function truncate(text, maxLength = 100) {\r\n  if (!text) return '';\r\n  if (text.length <= maxLength) return text;\r\n  \r\n  return text.substring(0, maxLength) + '...';\r\n}\r\n\r\n/**\r\n * Valida um email\r\n * @param {string} email - Email\r\n * @returns {boolean} - True se válido\r\n */\r\nexport function isValidEmail(email) {\r\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return re.test(email);\r\n}\r\n\r\n/**\r\n * Valida um CNPJ\r\n * @param {string} cnpj - CNPJ\r\n * @returns {boolean} - True se válido\r\n */\r\nexport function isValidCNPJ(cnpj) {\r\n  const cleaned = cnpj.replace(/\\D/g, '');\r\n  \r\n  if (cleaned.length !== 14) return false;\r\n  \r\n  // Verifica se todos os dígitos são iguais\r\n  if (/^(\\d)\\1+$/.test(cleaned)) return false;\r\n  \r\n  // Validação dos dígitos verificadores\r\n  let length = cleaned.length - 2;\r\n  let numbers = cleaned.substring(0, length);\r\n  const digits = cleaned.substring(length);\r\n  let sum = 0;\r\n  let pos = length - 7;\r\n  \r\n  for (let i = length; i >= 1; i--) {\r\n    sum += numbers.charAt(length - i) * pos--;\r\n    if (pos < 2) pos = 9;\r\n  }\r\n  \r\n  let result = sum % 11 < 2 ? 0 : 11 - (sum % 11);\r\n  if (result != digits.charAt(0)) return false;\r\n  \r\n  length = length + 1;\r\n  numbers = cleaned.substring(0, length);\r\n  sum = 0;\r\n  pos = length - 7;\r\n  \r\n  for (let i = length; i >= 1; i--) {\r\n    sum += numbers.charAt(length - i) * pos--;\r\n    if (pos < 2) pos = 9;\r\n  }\r\n  \r\n  result = sum % 11 < 2 ? 0 : 11 - (sum % 11);\r\n  if (result != digits.charAt(1)) return false;\r\n  \r\n  return true;\r\n}\r\n\r\n/**\r\n * Debounce de uma função\r\n * @param {Function} func - Função a ser debounced\r\n * @param {number} wait - Tempo de espera em ms\r\n * @returns {Function} - Função debounced\r\n */\r\nexport function debounce(func, wait = 300) {\r\n  let timeout;\r\n  \r\n  return function executedFunction(...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout);\r\n      func(...args);\r\n    };\r\n    \r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n  };\r\n}\r\n\r\n/**\r\n * Gera um slug a partir de um texto\r\n * @param {string} text - Texto\r\n * @returns {string} - Slug\r\n */\r\nexport function slugify(text) {\r\n  return text\r\n    .toString()\r\n    .toLowerCase()\r\n    .trim()\r\n    .replace(/\\s+/g, '-')\r\n    .replace(/[^\\w-]+/g, '')\r\n    .replace(/--+/g, '-');\r\n}\r\n\r\n/**\r\n * Calcula a distância entre duas coordenadas (em km)\r\n * @param {number} lat1 - Latitude 1\r\n * @param {number} lon1 - Longitude 1\r\n * @param {number} lat2 - Latitude 2\r\n * @param {number} lon2 - Longitude 2\r\n * @returns {number} - Distância em km\r\n */\r\nexport function calculateDistance(lat1, lon1, lat2, lon2) {\r\n  const R = 6371; // Raio da Terra em km\r\n  const dLat = (lat2 - lat1) * Math.PI / 180;\r\n  const dLon = (lon2 - lon1) * Math.PI / 180;\r\n  const a = \r\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  return R * c;\r\n}"],"version":3}