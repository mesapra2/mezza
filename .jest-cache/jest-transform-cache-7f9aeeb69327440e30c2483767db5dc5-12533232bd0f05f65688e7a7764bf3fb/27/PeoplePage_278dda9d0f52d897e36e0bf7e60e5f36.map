{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\pages\\PeoplePage.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\pages\\PeoplePage.jsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Users, Loader2, Heart, Eye, XCircle, Star } from 'lucide-react';\r\nimport { toast } from '@/features/shared/components/ui/use-toast';\r\n\r\nconst PeoplePage = () => {\r\n  const { user, profile } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [people, setPeople] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedProfile, setSelectedProfile] = useState(null);\r\n  const [pokingStates, setPokingStates] = useState({});\r\n\r\n  const isPartner = profile?.profile_type === 'partner';\r\n\r\n  // âœ… FUNÃ‡ÃƒO ADICIONADA: Helper para construir URL do avatar corretamente\r\n  const getAvatarUrl = (person) => {\r\n    if (!person?.avatar_url) {\r\n      return null;\r\n    }\r\n\r\n    // Se jÃ¡ Ã© URL completa (http/https), retorna direto\r\n    if (person.avatar_url.startsWith('http')) {\r\n      return person.avatar_url;\r\n    }\r\n\r\n    // âœ… ConstrÃ³i a URL pÃºblica do Supabase\r\n    const { data } = supabase.storage.from('avatars').getPublicUrl(person.avatar_url);\r\n    return `${data.publicUrl}?t=${new Date().getTime()}`;\r\n  };\r\n\r\n  const fetchPeople = useCallback(async () => {\r\n    if (!user) {\r\n        setLoading(false);\r\n        setPeople([]);\r\n        return;\r\n    }\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Busca os perfis pÃºblicos\r\n      const { data: profilesData, error: fetchError } = await supabase\r\n        .from('profiles')\r\n        .select('id, username, full_name, avatar_url, bio, public_profile, allow_pokes, reputation_stars')\r\n        .neq('id', user.id)\r\n        .eq('public_profile', true)\r\n        .order('username', { ascending: true});\r\n\r\n      if (fetchError) throw fetchError;\r\n\r\n      // Para cada perfil, busca o nÃºmero de eventos participados\r\n      const peopleWithStats = await Promise.all(\r\n        (profilesData || []).map(async (person) => {\r\n          console.log(`ðŸ”Ž Contando eventos de ${person.username} (${person.id})...`);\r\n          \r\n          // Conta eventos onde o usuÃ¡rio participou (status aprovado)\r\n          const { count: eventsCount, error: countError } = await supabase\r\n            .from('event_participants')\r\n            .select('*', { count: 'exact', head: true })\r\n            .eq('user_id', person.id)\r\n            .eq('status', 'aprovado');\r\n\r\n          if (countError) {\r\n            console.error(`âŒ Erro ao contar eventos de ${person.username}:`, countError);\r\n            return { ...person, events_participated: 0 };\r\n          }\r\n\r\n          console.log(`âœ… ${person.username}: ${eventsCount || 0} eventos aprovados`);\r\n\r\n          return {\r\n            ...person,\r\n            events_participated: eventsCount || 0\r\n          };\r\n        })\r\n      );\r\n\r\n      setPeople(peopleWithStats);\r\n    } catch (err) {\r\n      console.error('âŒ Erro ao carregar pessoas:', err);\r\n      setError(`NÃ£o foi possÃ­vel carregar as pessoas: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    fetchPeople();\r\n  }, [user, fetchPeople]);\r\n\r\n  const sendPoke = async (targetUserId, targetUsername) => {\r\n    setPokingStates(prev => ({ ...prev, [targetUserId]: true }));\r\n    try {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      const { error: checkError, count } = await supabase\r\n        .from('pokes')\r\n        .select('id', { count: 'exact', head: true })\r\n        .eq('from_user_id', user.id)\r\n        .eq('to_user_id', targetUserId)\r\n        .gte('created_at', `${today}T00:00:00Z`);\r\n\r\n      if (checkError) throw checkError;\r\n\r\n      if (count > 0) {\r\n        toast({\r\n            variant: \"destructive\",\r\n            title: \"Limite Atingido\",\r\n            description: `VocÃª jÃ¡ enviou um Tok para ${targetUsername || 'esta pessoa'} hoje.`,\r\n        });\r\n        return;\r\n      }\r\n\r\n      const { error: insertError } = await supabase\r\n        .from('pokes')\r\n        .insert({\r\n            from_user_id: user.id,\r\n            to_user_id: targetUserId,\r\n          });\r\n\r\n      if (insertError) throw insertError;\r\n\r\n      toast({\r\n          title: \"Tok Enviado!\",\r\n          description: `VocÃª enviou um Tok para ${targetUsername || 'esta pessoa'} ðŸ‘‹`,\r\n      });\r\n\r\n    } catch (err) {\r\n      console.error('Erro ao enviar Tok:', err);\r\n      toast({\r\n          variant: \"destructive\",\r\n          title: \"Erro\",\r\n          description: `NÃ£o foi possÃ­vel enviar o Tok: ${err.message}`,\r\n      });\r\n    } finally {\r\n       setPokingStates(prev => ({ ...prev, [targetUserId]: false }));\r\n    }\r\n  };\r\n\r\n  const createCrusher = (targetUserId) => {\r\n    navigate(`/criar-evento/crusher?invite=${targetUserId}`);\r\n  };\r\n\r\n  const viewProfile = async (userId) => {\r\n    try {\r\n      const { data: profileData, error } = await supabase\r\n        .from('profiles')\r\n        .select('*')\r\n        .eq('id', userId)\r\n        .single();\r\n\r\n      if (error) throw error;\r\n      if (!profileData) throw new Error(\"Perfil nÃ£o encontrado\");\r\n\r\n      // Busca o nÃºmero de eventos participados (status aprovado)\r\n      const { count: eventsCount } = await supabase\r\n        .from('event_participants')\r\n        .select('*', { count: 'exact', head: true })\r\n        .eq('user_id', userId)\r\n        .eq('status', 'aprovado');\r\n\r\n      setSelectedProfile({\r\n        ...profileData,\r\n        events_participated: eventsCount || 0\r\n      });\r\n    } catch (err) {\r\n      console.error('âŒ Erro ao carregar perfil:', err);\r\n      toast({\r\n          variant: \"destructive\",\r\n          title: \"Erro\",\r\n          description: \"NÃ£o foi possÃ­vel carregar o perfil.\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const closeProfileModal = () => {\r\n    setSelectedProfile(null);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[60vh]\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin text-purple-500\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <p className=\"text-red-400 mb-4\">{error}</p>\r\n        <button\r\n          onClick={fetchPeople}\r\n          className=\"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors\"\r\n        >\r\n          Tentar Novamente\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"py-6\">\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold mb-2 gradient-text\">Pessoas Ativas</h1>\r\n        <p className=\"text-white/60\">Conecte-se com outros membros da comunidade</p>\r\n      </div>\r\n\r\n      {!isPartner && (\r\n        <div className=\"mb-6 p-4 bg-purple-500/10 border border-purple-500/20 rounded-lg\">\r\n          <div className=\"flex items-start gap-3\">\r\n            <div className=\"p-2 bg-purple-500/20 rounded-lg\">\r\n              <span className=\"text-2xl\">ðŸ‘‡</span>\r\n            </div>\r\n            <div>\r\n              <h3 className=\"font-semibold text-white mb-1\">Sobre as InteraÃ§Ãµes</h3>\r\n              <p className=\"text-white/70 text-sm\">\r\n                <strong>Tok ðŸ‘‡:</strong> Demonstre interesse de forma leve (1x por dia).<br/>\r\n                <strong>Crusher ðŸ’˜:</strong> Envie um convite especial direto para um evento exclusivo.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {people.length === 0 ? (\r\n        <div className=\"text-center py-12\">\r\n          <Users className=\"w-16 h-16 mx-auto mb-4 text-white/20\" />\r\n          <h3 className=\"text-xl font-semibold mb-2\">Nenhuma pessoa pÃºblica no momento</h3>\r\n          <p className=\"text-white/60\">\r\n            Nenhum usuÃ¡rio habilitou seu perfil como pÃºblico ainda.\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {people.map((person) => {\r\n            const allowsPokes = person.allow_pokes !== false;\r\n            const isPoking = pokingStates[person.id];\r\n            const avatarUrl = getAvatarUrl(person); // âœ… MUDANÃ‡A AQUI\r\n\r\n            return (\r\n              <div\r\n                key={person.id}\r\n                className=\"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6 hover:bg-white/10 transition-all duration-300 flex flex-col justify-between\"\r\n              >\r\n                <div>\r\n                  <div className=\"flex items-center gap-4 mb-4\">\r\n                    <div className=\"relative\">\r\n                      {avatarUrl ? ( // âœ… MUDANÃ‡A AQUI\r\n                        <img\r\n                          src={avatarUrl} // âœ… MUDANÃ‡A AQUI\r\n                          alt={person.username || 'UsuÃ¡rio'}\r\n                          className=\"w-16 h-16 rounded-full object-cover border-2 border-purple-500/30\"\r\n                          onError={(e) => {\r\n                             e.target.style.display = 'none';\r\n                             e.target.nextSibling.style.display = 'flex';\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                      <div\r\n                        className=\"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-xl font-bold\"\r\n                        style={{ display: avatarUrl ? 'none' : 'flex' }} // âœ… MUDANÃ‡A AQUI\r\n                      >\r\n                        {(person.username || person.full_name || 'U')[0].toUpperCase()}\r\n                      </div>\r\n                      <div className=\"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-background\"></div>\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <h3 className=\"font-semibold text-lg truncate\">\r\n                        {person.full_name || person.username || 'UsuÃ¡rio'}\r\n                      </h3>\r\n                      {person.username && (\r\n                        <p className=\"text-white/60 text-sm\">@{person.username}</p>\r\n                      )}\r\n                      {/* EstatÃ­sticas: Ranking e Eventos */}\r\n                      <div className=\"flex gap-2 mt-2\">\r\n                        {/* Ranking de QualificaÃ§Ã£o */}\r\n                        {person.reputation_stars !== null && person.reputation_stars !== undefined && (\r\n                          <div className=\"flex items-center gap-1 bg-yellow-500/10 px-2 py-0.5 rounded-full border border-yellow-500/20\">\r\n                            <Star className=\"w-3 h-3 text-yellow-400 fill-yellow-400\" />\r\n                            <span className=\"text-xs font-medium text-yellow-400\">\r\n                              {person.reputation_stars.toFixed(1)}\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                        {/* Eventos Participados */}\r\n                        <div className=\"flex items-center gap-1 bg-purple-500/10 px-2 py-0.5 rounded-full border border-purple-500/20\">\r\n                          <span className=\"text-xs font-medium text-purple-400\">\r\n                            {person.events_participated || 0} {person.events_participated === 1 ? 'evento' : 'eventos'}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {person.bio && (\r\n                    <p className=\"text-white/70 text-sm mb-4 line-clamp-2\">\r\n                      {person.bio}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n\r\n                <div>\r\n                  <div className=\"flex gap-2 mt-4\">\r\n                    \r\n                    {!isPartner && (\r\n                      <>\r\n                        {/* BotÃ£o Tok - sÃ³ aparece se a pessoa aceita Toks */}\r\n                        {allowsPokes && (\r\n                          <button\r\n                            onClick={() => sendPoke(person.id, person.username || person.full_name)}\r\n                            className=\"px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg transition-colors flex items-center justify-center gap-1.5\"\r\n                            title=\"Enviar Tok\"\r\n                            disabled={isPoking}\r\n                          >\r\n                            {isPoking ? (\r\n                              <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                            ) : (\r\n                              'Tok ðŸ‘‡'\r\n                            )}\r\n                          </button>\r\n                        )}\r\n                        \r\n                        {/* BotÃ£o Crusher - SEMPRE aparece para todos */}\r\n                        <button\r\n                          onClick={() => createCrusher(person.id)}\r\n                          className=\"flex-1 px-4 py-2 bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2\"\r\n                          title=\"Criar Evento Crusher\"\r\n                        >\r\n                          <Heart className=\"w-4 h-4\" />\r\n                          Mesapra2\r\n                        </button>\r\n                      </>\r\n                    )}\r\n\r\n                    <button\r\n                      onClick={() => viewProfile(person.id)}\r\n                      className={`px-4 py-2 bg-white/5 hover:bg-white/10 text-white rounded-lg transition-colors ${isPartner ? 'flex-1 w-full' : ''}`}\r\n                      title=\"Ver Perfil\"\r\n                    >\r\n                      <Eye className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n\r\n                  {!isPartner && !allowsPokes && (\r\n                    <div className=\"mt-3 text-center\">\r\n                      <span className=\"text-xs text-pink-400/80\">\r\n                        ðŸ’˜ NÃ£o aceita Toks\r\n                      </span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal de Perfil */}\r\n      {selectedProfile && (\r\n        <div\r\n          className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\"\r\n          onClick={closeProfileModal}\r\n        >\r\n          <div\r\n            className=\"bg-gradient-to-br from-[#1a112e] to-[#2e112a] rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-white/20 shadow-2xl flex flex-col\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"sticky top-0 bg-black/50 backdrop-blur-sm border-b border-white/10 p-4 sm:p-6 flex items-center justify-between z-10\">\r\n              <h2 className=\"text-xl sm:text-2xl font-bold gradient-text truncate\">Perfil</h2>\r\n              <button\r\n                onClick={closeProfileModal}\r\n                className=\"text-white/60 hover:text-white transition-colors p-1 rounded-full -mr-2\"\r\n              >\r\n                <XCircle className=\"w-6 h-6\" />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-4 sm:p-6 overflow-y-auto\">\r\n              <div className=\"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 mb-6\">\r\n                 <div className=\"relative flex-shrink-0\">\r\n                  {getAvatarUrl(selectedProfile) ? ( // âœ… MUDANÃ‡A AQUI\r\n                    <img\r\n                      src={getAvatarUrl(selectedProfile)} // âœ… MUDANÃ‡A AQUI\r\n                      alt={selectedProfile.username}\r\n                      className=\"w-20 h-20 sm:w-24 sm:h-24 rounded-full object-cover border-4 border-purple-500/50\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"w-20 h-20 sm:w-24 sm:h-24 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white text-3xl font-bold\">\r\n                      {(selectedProfile.username || selectedProfile.full_name || 'U')[0].toUpperCase()}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex-1 text-center sm:text-left min-w-0\">\r\n                  <h3 className=\"text-xl sm:text-2xl font-bold mb-1 truncate\">\r\n                    {selectedProfile.full_name || selectedProfile.username}\r\n                  </h3>\r\n                  {selectedProfile.username && (\r\n                    <p className=\"text-white/60 truncate\">@{selectedProfile.username}</p>\r\n                  )}\r\n                  {/* EstatÃ­sticas: Ranking e Eventos */}\r\n                  <div className=\"flex gap-3 mt-3 justify-center sm:justify-start flex-wrap\">\r\n                    {/* Ranking de QualificaÃ§Ã£o */}\r\n                    {selectedProfile.reputation_stars !== null && selectedProfile.reputation_stars !== undefined && (\r\n                      <div className=\"flex items-center gap-1.5 bg-yellow-500/10 px-3 py-1.5 rounded-full border border-yellow-500/20\">\r\n                        <Star className=\"w-4 h-4 text-yellow-400 fill-yellow-400\"/>\r\n                        <span className=\"text-sm font-medium text-yellow-400\">{selectedProfile.reputation_stars.toFixed(1)}</span>\r\n                        <span className=\"text-xs text-yellow-400/70\">ranking</span>\r\n                      </div>\r\n                    )}\r\n                    {/* Eventos Participados */}\r\n                    <div className=\"flex items-center gap-1.5 bg-purple-500/10 px-3 py-1.5 rounded-full border border-purple-500/20\">\r\n                      <span className=\"text-sm font-medium text-purple-400\">\r\n                        {selectedProfile.events_participated || 0}\r\n                      </span>\r\n                      <span className=\"text-xs text-purple-400/70\">\r\n                        {selectedProfile.events_participated === 1 ? 'evento' : 'eventos'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {selectedProfile.bio && (\r\n                <div className=\"mb-6 p-4 bg-white/5 rounded-lg border border-white/10\">\r\n                  <h4 className=\"text-sm font-semibold text-white/60 mb-2\">Sobre</h4>\r\n                  <p className=\"text-white whitespace-pre-wrap\">{selectedProfile.bio}</p>\r\n                </div>\r\n              )}\r\n\r\n              {selectedProfile.hashtags_interesse && selectedProfile.hashtags_interesse.length > 0 && (\r\n                <div className=\"mb-6\">\r\n                  <h4 className=\"text-sm font-semibold text-white/60 mb-3\">Interesses</h4>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {selectedProfile.hashtags_interesse.map((tag, index) => (\r\n                      <span\r\n                        key={index}\r\n                        className=\"px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm border border-purple-500/30\"\r\n                      >\r\n                        #{tag}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* âœ… SEÃ‡ÃƒO DE FOTOS CORRIGIDA */}\r\n              {selectedProfile.photos && Array.isArray(selectedProfile.photos) && selectedProfile.photos.length > 0 && (\r\n                <div className=\"mb-6\">\r\n                  <h4 className=\"text-sm font-semibold text-white/60 mb-3\">Fotos</h4>\r\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\r\n                    {selectedProfile.photos.map((photoPath, index) => {\r\n                      // âœ… ConstrÃ³i URL das fotos corretamente\r\n                      const photoUrl = photoPath?.startsWith('http') \r\n                        ? photoPath \r\n                        : supabase.storage.from('photos').getPublicUrl(photoPath).data.publicUrl;\r\n                      \r\n                      return photoUrl ? (\r\n                        <a href={photoUrl} target=\"_blank\" rel=\"noopener noreferrer\" key={index}>\r\n                          <img\r\n                            src={photoUrl}\r\n                            alt={`Foto ${index + 1}`}\r\n                            className=\"w-full h-32 object-cover rounded-lg border border-white/10 hover:opacity-80 transition-opacity\"\r\n                          />\r\n                        </a>\r\n                      ) : null;\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {!isPartner && (\r\n                <div className=\"flex flex-col sm:flex-row gap-3 pt-6 border-t border-white/10\">\r\n                  <button\r\n                    onClick={() => {\r\n                      sendPoke(selectedProfile.id, selectedProfile.username || selectedProfile.full_name);\r\n                    }}\r\n                    className={`flex-1 px-4 py-3 rounded-lg transition-colors flex items-center justify-center gap-2 font-semibold ${\r\n                      selectedProfile.allow_pokes === false\r\n                        ? 'bg-gray-600 text-gray-400 cursor-not-allowed'\r\n                        : 'bg-purple-600 hover:bg-purple-700 text-white'\r\n                    }`}\r\n                    disabled={selectedProfile.allow_pokes === false || pokingStates[selectedProfile.id]}\r\n                  >\r\n                    {pokingStates[selectedProfile.id] ? <Loader2 className=\"w-5 h-5 animate-spin\"/> : 'ðŸ‘‡'}\r\n                    {selectedProfile.allow_pokes === false ? 'NÃ£o aceita Toks' : 'Enviar Tok'}\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      createCrusher(selectedProfile.id);\r\n                      closeProfileModal();\r\n                    }}\r\n                    className=\"flex-1 px-4 py-3 bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 font-semibold\"\r\n                  >\r\n                    <Heart className=\"w-4 h-4\" />\r\n                    Criar Mesapra2\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PeoplePage;"],"version":3}