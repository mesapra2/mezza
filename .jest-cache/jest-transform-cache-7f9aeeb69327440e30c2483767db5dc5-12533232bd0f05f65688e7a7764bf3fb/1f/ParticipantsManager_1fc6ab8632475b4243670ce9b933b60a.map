{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\components\\events\\ParticipantsManager.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\components\\events\\ParticipantsManager.jsx"],"sourcesContent":["// src/features/shared/components/events/ParticipantsManager.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Users, CheckCircle, XCircle, Clock, UserCheck } from 'lucide-react'; // Removido Star\r\nimport { Button } from '@/features/shared/components/ui/button';\r\nimport ParticipationService from '@/services/ParticipationService';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport { toast } from '@/features/shared/components/ui/use-toast';\r\nimport PropTypes from 'prop-types';\r\nimport { getAvatarUrl } from '@/utils/avatarHelper';\r\nimport { supabase } from '@/lib/supabaseClient';\r\n\r\n/**\r\n * Componente para gerenciar participantes de um evento (AnfitriÃ£o)\r\n */\r\nconst ParticipantsManagement = ({ eventId, eventType, onUpdate }) => {\r\n  const [participants, setParticipants] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filter, setFilter] = useState('todos'); // todos, pendente, aprovado, rejeitado\r\n  const [eventStartTime, setEventStartTime] = useState(null);\r\n\r\n  // ğŸ• Verifica se o evento comeÃ§a em menos de 1 minuto\r\n  const isEventTooClose = () => {\r\n    if (!eventStartTime) return false;\r\n    const now = new Date();\r\n    const startTime = new Date(eventStartTime);\r\n    const oneMinuteBefore = new Date(startTime.getTime() - 1 * 60 * 1000);\r\n    return now >= oneMinuteBefore;\r\n  };\r\n\r\n  const loadParticipants = async () => {\r\n    setLoading(true);\r\n    const result = await ParticipationService.getEventParticipations(eventId);\r\n    if (result.success) {\r\n      setParticipants(result.data);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // Buscar start_time do evento\r\n  const loadEventStartTime = async () => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('events')\r\n        .select('start_time')\r\n        .eq('id', eventId)\r\n        .single();\r\n\r\n      if (!error && data) {\r\n        setEventStartTime(data.start_time);\r\n      }\r\n    } catch (err) {\r\n      console.error('Erro ao buscar start_time do evento:', err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (eventId) {\r\n      loadParticipants();\r\n      loadEventStartTime();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [eventId]);\r\n\r\n  const handleApprove = async (participationId) => {\r\n    try {\r\n      // ğŸ”’ Verificar se o evento nÃ£o estÃ¡ muito perto\r\n      if (isEventTooClose()) {\r\n        toast({\r\n          variant: \"destructive\",\r\n          title: \"AprovaÃ§Ã£o bloqueada\",\r\n          description: \"NÃ£o Ã© possÃ­vel aprovar participantes a menos de 1 minuto do evento\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      console.log('Aprovando participaÃ§Ã£o:', participationId);\r\n      \r\n      const result = await ParticipationService.approveParticipation(participationId, eventId);\r\n      \r\n      if (result.success) {\r\n        console.log('ParticipaÃ§Ã£o aprovada com sucesso');\r\n        loadParticipants();\r\n        if (onUpdate) onUpdate();\r\n        \r\n        toast({\r\n          title: \"Participante aprovado!\",\r\n          description: \"O participante foi notificado da aprovaÃ§Ã£o.\",\r\n        });\r\n      } else {\r\n        console.error('Erro ao aprovar:', result.error);\r\n        toast({\r\n          variant: \"destructive\",\r\n          title: \"Erro ao aprovar\",\r\n          description: result.error,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro:', error);\r\n      toast({\r\n        variant: \"destructive\",\r\n        title: \"Erro\",\r\n        description: \"Erro ao aprovar participaÃ§Ã£o\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleReject = async (participationId) => {\r\n    const confirmed = confirm('Deseja realmente rejeitar esta candidatura?');\r\n    if (!confirmed) return;\r\n\r\n    try {\r\n      const result = await ParticipationService.rejectParticipation(participationId);\r\n      if (result.success) {\r\n        loadParticipants();\r\n        if (onUpdate) onUpdate();\r\n        \r\n        toast({\r\n          title: \"Rejeitado\",\r\n          description: \"A candidatura foi rejeitada.\",\r\n          variant: \"destructive\"\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao rejeitar:', error);\r\n      toast({\r\n        variant: \"destructive\",\r\n        title: \"Erro\",\r\n        description: \"Erro ao rejeitar participaÃ§Ã£o\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const filteredParticipants = participants.filter(p => {\r\n    if (filter === 'todos') return true;\r\n    if (filter === 'pendente') return p.status === 'pendente';\r\n    if (filter === 'aprovado') return p.status === 'aprovado';\r\n    if (filter === 'rejeitado') return p.status === 'rejeitado';\r\n    return true;\r\n  });\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Filtros */}\r\n      <div className=\"flex gap-2 flex-wrap\">\r\n        {['todos', 'pendente', 'aprovado', 'rejeitado'].map(f => (\r\n          <Button\r\n            key={f}\r\n            variant={filter === f ? \"default\" : \"outline\"}\r\n            size=\"sm\"\r\n            onClick={() => setFilter(f)}\r\n            className=\"capitalize\"\r\n          >\r\n            {f} ({participants.filter(p => p.status === f || f === 'todos').length})\r\n          </Button>\r\n        ))}\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"flex justify-center py-8\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary\"></div>\r\n        </div>\r\n      ) : filteredParticipants.length === 0 ? (\r\n        <div className=\"glass-effect rounded-lg p-6 border border-white/10 text-center\">\r\n          <Users className=\"w-8 h-8 mx-auto mb-2 text-white/40\" />\r\n          <p className=\"text-white/60\">Nenhum participante encontrado.</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-3\">\r\n          {filteredParticipants.map((participant) => (\r\n            <motion.div\r\n              key={participant.id}\r\n              initial={{ opacity: 0, x: -20 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ duration: 0.2 }}\r\n              className=\"glass-effect rounded-lg p-4 border border-white/10\"\r\n            >\r\n              <div className=\"flex items-start gap-4\">\r\n                <img\r\n                  src={getAvatarUrl(participant.user.avatar_url, participant.user.username, 48)}\r\n                  alt={participant.user.username}\r\n                  className=\"w-12 h-12 rounded-full object-cover border-2 border-purple-500/30\"\r\n                  onError={(e) => {\r\n                    e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n                      participant.user.username || 'U'\r\n                    )}&background=8b5cf6&color=fff&size=48`;\r\n                  }}\r\n                />\r\n                <div className=\"flex-1 space-y-1\">\r\n                  <div className=\"flex items-center gap-2 text-sm text-white/60\">\r\n                    <span className=\"font-medium text-white\">{participant.user.username}</span>\r\n                    <span className={`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${\r\n                      participant.status === 'aprovado' ? 'bg-green-500/20 text-green-300 border-green-500/30' :\r\n                      participant.status === 'pendente' ? 'bg-yellow-500/20 text-yellow-300 border-yellow-500/30' :\r\n                      'bg-red-500/20 text-red-300 border-red-500/30'\r\n                    }`}>\r\n                      {participant.status === 'aprovado' && <CheckCircle className=\"w-3 h-3\" />}\r\n                      {participant.status === 'pendente' && <Clock className=\"w-3 h-3\" />}\r\n                      {participant.status === 'rejeitado' && <XCircle className=\"w-3 h-3\" />}\r\n                      {participant.status}\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center gap-2 text-xs text-white/40\">\r\n                    <UserCheck className=\"w-3 h-3\" />\r\n                    {participant.user.reputation_stars || 0} estrelas\r\n                    <span>â€¢</span>\r\n                    <span>\r\n                      Candidatura: {format(new Date(participant.created_at), \"dd/MM 'Ã s' HH:mm\", { locale: ptBR })}\r\n                    </span>\r\n                  </div>\r\n\r\n                  {participant.mensagem_candidatura && (\r\n                    <p className=\"text-white/60 text-sm bg-white/5 rounded p-2 mb-2\">\r\n                      &quot;{participant.mensagem_candidatura}&quot;\r\n                    </p>\r\n                  )}\r\n\r\n                  {/* AÃ§Ãµes */}\r\n                  {participant.status === 'pendente' && eventType !== 'institucional' && (\r\n                    <div className=\"space-y-2 mt-2\">\r\n                      {/* ğŸ”’ Alerta se evento estÃ¡ muito prÃ³ximo */}\r\n                      {isEventTooClose() && (\r\n                        <div className=\"p-2 rounded bg-red-500/20 border border-red-500/30\">\r\n                          <p className=\"text-red-300 text-xs font-medium\">\r\n                            â° Evento comeÃ§a em menos de 1 minuto - aprovaÃ§Ãµes bloqueadas\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      <div className=\"flex gap-2\">\r\n                        <Button\r\n                          onClick={() => handleApprove(participant.id)}\r\n                          size=\"sm\"\r\n                          className=\"bg-green-500 hover:bg-green-600\"\r\n                          disabled={isEventTooClose()}\r\n                        >\r\n                          <CheckCircle className=\"w-4 h-4 mr-1\" />\r\n                          Aprovar\r\n                        </Button>\r\n                        <Button\r\n                          onClick={() => handleReject(participant.id)}\r\n                          size=\"sm\"\r\n                          variant=\"destructive\"\r\n                        >\r\n                          <XCircle className=\"w-4 h-4 mr-1\" />\r\n                          Rejeitar\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Nota sobre eventos institucionais */}\r\n      {eventType === 'institucional' && (\r\n        <div className=\"glass-effect rounded-lg p-4 border border-blue-500/30 bg-blue-500/10\">\r\n          <p className=\"text-blue-300 text-sm flex items-start gap-2\">\r\n            <Users className=\"w-4 h-4 mt-0.5 flex-shrink-0\" />\r\n            <span>\r\n              <strong>Evento Institucional:</strong> As inscriÃ§Ãµes sÃ£o aprovadas automaticamente.\r\n            </span>\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nParticipantsManagement.propTypes = {\r\n  eventId: PropTypes.string.isRequired,\r\n  eventType: PropTypes.string.isRequired,\r\n  onUpdate: PropTypes.func,\r\n};\r\n\r\nexport default ParticipantsManagement;"],"version":3}