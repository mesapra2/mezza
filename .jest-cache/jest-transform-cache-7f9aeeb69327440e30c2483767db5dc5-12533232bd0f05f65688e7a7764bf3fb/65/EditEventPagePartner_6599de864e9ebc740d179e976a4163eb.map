{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\partner\\pages\\EditEventPagePartner.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\partner\\pages\\EditEventPagePartner.jsx"],"sourcesContent":["// src/pages/EditEventPagePartner.jsx\r\nimport { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport { Button } from '@/features/shared/components/ui/button';\r\nimport { Input } from '@/features/shared/components/ui/input';\r\nimport { Textarea } from '@/features/shared/components/ui/textarea';\r\nimport { toast } from '@/features/shared/components/ui/use-toast';\r\nimport { Loader2, AlertTriangle, ArrowLeft } from 'lucide-react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\nconst EditEventPagePartner = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user, profile } = useAuth(); // Pegar usuário e perfil\r\n  const [eventData, setEventData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [partnerCapacity, setPartnerCapacity] = useState(10); // Capacidade\r\n\r\n  useEffect(() => {\r\n    const fetchEventAndCapacity = async () => {\r\n      if (!user || !profile?.partner_id) {\r\n        setError(\"Permissão negada ou perfil de parceiro não encontrado.\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n      \r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      try {\r\n        // 1. Buscar dados do evento\r\n        const { data: event, error: eventError } = await supabase\r\n          .from('events')\r\n          .select('*')\r\n          .eq('id', id)\r\n          .single();\r\n\r\n        if (eventError) throw eventError;\r\n        if (!event) throw new Error('Evento não encontrado');\r\n\r\n        // 2. Verificar permissão (criador E parceiro do evento)\r\n        if (event.creator_id !== user.id || event.partner_id !== profile.partner_id) {\r\n          throw new Error('Você não tem permissão para editar este evento.');\r\n        }\r\n\r\n        // 3. Buscar capacidade do restaurante\r\n        const { data: partner, error: partnerError } = await supabase\r\n          .from('partners')\r\n          .select('capacity')\r\n          .eq('id', profile.partner_id)\r\n          .single();\r\n\r\n        if (partnerError) throw partnerError;\r\n        if (partner && partner.capacity > 0) {\r\n          setPartnerCapacity(partner.capacity);\r\n        }\r\n\r\n        setEventData(event);\r\n      } catch (err) {\r\n        setError(err.message || 'Erro ao carregar dados.');\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchEventAndCapacity();\r\n  }, [id, user, profile]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type } = e.target;\r\n    setEventData(prev => ({\r\n      ...prev,\r\n      [name]: type === 'number' ? parseInt(value, 10) || 0 : value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n    setError(null);\r\n\r\n    // Validação de vagas\r\n    if (eventData.vagas < 1 || eventData.vagas > partnerCapacity) {\r\n      setError(`O número de vagas deve estar entre 1 e ${partnerCapacity}`);\r\n      setIsSubmitting(false);\r\n      return;\r\n    }\r\n\r\n    // eslint-disable-next-line no-unused-vars\r\n    const { id: eventId, created_at, creator_id, partner_id, event_type, ...updateData } = eventData;\r\n\r\n    try {\r\n      const { error: updateError } = await supabase\r\n        .from('events')\r\n        .update({\r\n          title: updateData.title,\r\n          description: updateData.description,\r\n          start_time: updateData.start_time,\r\n          end_time: updateData.end_time,\r\n          vagas: updateData.vagas,\r\n          max_vagas: updateData.vagas, // Garante que max_vagas seja igual\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', eventId)\r\n        .eq('creator_id', user.id); // Segurança\r\n\r\n      if (updateError) throw updateError;\r\n\r\n      toast({ title: \"✅ Evento atualizado com sucesso!\" });\r\n      navigate('/meus-eventos');\r\n\r\n    } catch (err) {\r\n      setError(err.message || 'Erro ao salvar alterações.');\r\n      console.error(err);\r\n      toast({ variant: \"destructive\", title: \"Erro ao salvar\", description: err.message });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-[calc(100vh-10rem)]\">\r\n        <Loader2 className=\"w-12 h-12 text-purple-500 animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center h-[calc(100vh-10rem)] text-center\">\r\n        <AlertTriangle className=\"w-12 h-12 text-red-500 mb-4\" />\r\n        <h2 className=\"text-xl font-semibold text-white mb-2\">{error}</h2>\r\n        <Button onClick={() => navigate('/meus-eventos')}>\r\n          <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n          Voltar para Meus Eventos\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!eventData) {\r\n     return <div>Evento não encontrado.</div>;\r\n  }\r\n  \r\n  // Converte datas para formato de input (se existirem)\r\n  const formatDateTimeLocal = (isoString) => {\r\n    if (!isoString) return '';\r\n    try {\r\n      return new Date(isoString).toISOString().slice(0, 16);\r\n    } catch (e) {\r\n      return '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Editar: {eventData.title} | Mesapra2</title>\r\n      </Helmet>\r\n      <div className=\"py-6 px-4 sm:px-6 lg:px-8 max-w-3xl mx-auto\">\r\n        <Button variant=\"ghost\" onClick={() => navigate('/meus-eventos')} className=\"mb-4\">\r\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n            Voltar para Meus Eventos\r\n        </Button>\r\n        <h1 className=\"text-3xl font-bold text-white mb-6\">Editar Evento Institucional</h1>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-6 glass-effect p-8 rounded-2xl border border-white/10\">\r\n          <div>\r\n            <label htmlFor=\"title\" className=\"block text-sm font-medium text-white/80 mb-1\">Título do Evento</label>\r\n            <Input \r\n              id=\"title\" \r\n              name=\"title\" \r\n              value={eventData.title || ''} \r\n              onChange={handleChange} \r\n              required \r\n              className=\"glass-effect border-white/10\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"description\" className=\"block text-sm font-medium text-white/80 mb-1\">Descrição</label>\r\n            <Textarea \r\n              id=\"description\" \r\n              name=\"description\" \r\n              value={eventData.description || ''} \r\n              onChange={handleChange} \r\n              rows={4}\r\n              className=\"glass-effect border-white/10\"\r\n            />\r\n          </div>\r\n          \r\n          {/* Datas */}\r\n           <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div>\r\n                <label htmlFor=\"start_time\" className=\"block text-sm font-medium text-white/80 mb-1\">Data e Hora de Início</label>\r\n                <Input\r\n                  id=\"start_time\"\r\n                  name=\"start_time\"\r\n                  type=\"datetime-local\"\r\n                  value={formatDateTimeLocal(eventData.start_time)}\r\n                  onChange={handleChange}\r\n                  className=\"glass-effect border-white/10\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label htmlFor=\"end_time\" className=\"block text-sm font-medium text-white/80 mb-1\">Data e Hora de Término</label>\r\n                <Input\r\n                  id=\"end_time\"\r\n                  name=\"end_time\"\r\n                  type=\"datetime-local\"\r\n                  value={formatDateTimeLocal(eventData.end_time)}\r\n                  onChange={handleChange}\r\n                  min={formatDateTimeLocal(eventData.start_time)}\r\n                  className=\"glass-effect border-white/10\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"vagas\" className=\"block text-sm font-medium text-white/80 mb-1\">Vagas Disponíveis (Lotação)</label>\r\n            <Input \r\n              id=\"vagas\" \r\n              name=\"vagas\" \r\n              type=\"number\" \r\n              value={eventData.vagas || 0} \r\n              onChange={handleChange} \r\n              min=\"0\"\r\n              max={partnerCapacity}\r\n              required \r\n              className=\"glass-effect border-white/10\"\r\n            />\r\n            <p className=\"text-xs text-white/50 mt-1\">\r\n              Capacidade máxima do seu restaurante: {partnerCapacity}.\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex gap-4 pt-4 border-t border-white/10\">\r\n            <Button type=\"submit\" disabled={isSubmitting} className=\"bg-gradient-to-r from-purple-500 to-pink-500\">\r\n              {isSubmitting ? <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" /> : null}\r\n              {isSubmitting ? 'Salvando...' : 'Salvar Alterações'}\r\n            </Button>\r\n            <Button type=\"button\" variant=\"outline\" onClick={() => navigate('/meus-eventos')} disabled={isSubmitting}>\r\n              Cancelar\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditEventPagePartner;"],"version":3}