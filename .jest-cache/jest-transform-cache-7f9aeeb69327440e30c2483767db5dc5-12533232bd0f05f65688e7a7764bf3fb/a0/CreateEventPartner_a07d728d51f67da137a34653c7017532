70a5e9facda802b28a2a96686b863315
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const jsx_runtime_1 = require("react/jsx-runtime");
// src/pages/CreateEventPartner.jsx
const react_1 = require("react");
const react_helmet_async_1 = require("react-helmet-async");
const react_router_dom_1 = require("react-router-dom");
const framer_motion_1 = require("framer-motion");
const lucide_react_1 = require("lucide-react"); // Importado Zap
const AuthContext_1 = require("@/contexts/AuthContext");
const button_1 = require("@/features/shared/components/ui/button");
const input_1 = require("@/features/shared/components/ui/input");
const label_1 = require("@/features/shared/components/ui/label");
const textarea_1 = require("@/features/shared/components/ui/textarea");
const use_toast_1 = require("@/features/shared/components/ui/use-toast");
const supabaseClient_1 = require("@/lib/supabaseClient");
const CreateEventPartner = () => {
    const { user, profile } = (0, AuthContext_1.useAuth)();
    const navigate = (0, react_router_dom_1.useNavigate)();
    // ‚úÖ VERIFICA O STATUS PREMIUM DO PARCEIRO
    const isPremiumPartner = profile?.isPremiumPartner === true;
    const [loading, setLoading] = (0, react_1.useState)(true);
    const [partnerCapacity, setPartnerCapacity] = (0, react_1.useState)(10);
    const [error, setError] = (0, react_1.useState)(null);
    const [formData, setFormData] = (0, react_1.useState)({
        title: '',
        description: '',
        start_time: '',
        end_time: '',
        vagas: 2,
        acceptedTerms: false,
    });
    // Busca a capacidade m√°xima (s√≥ se for premium)
    (0, react_1.useEffect)(() => {
        const fetchPartnerCapacity = async () => {
            // ‚úÖ BLOQUEIA SE N√ÉO FOR PREMIUM
            if (!isPremiumPartner) {
                setError("Apenas Parceiros Premium podem criar eventos institucionais.");
                setLoading(false);
                return;
            }
            if (!profile?.partner_id) {
                setError("Perfil de parceiro n√£o encontrado.");
                setLoading(false);
                return;
            }
            try {
                const { data, error } = await supabaseClient_1.supabase
                    .from('partners')
                    .select('capacity')
                    .eq('id', profile.partner_id)
                    .single();
                if (error)
                    throw error;
                if (data && data.capacity > 0) {
                    setPartnerCapacity(data.capacity);
                    setFormData(prev => ({ ...prev, vagas: data.capacity }));
                }
                else {
                    setPartnerCapacity(10);
                    setFormData(prev => ({ ...prev, vagas: 10 }));
                    (0, use_toast_1.toast)({
                        title: "Aviso",
                        description: "Capacidade n√£o definida no seu perfil. Usando 10 como m√°ximo.",
                        variant: "destructive",
                    });
                }
            }
            catch (err) {
                setError("Erro ao buscar capacidade do restaurante.");
                console.error(err);
            }
            finally {
                setLoading(false);
            }
        };
        fetchPartnerCapacity();
    }, [profile, user, isPremiumPartner]); // Adicionado isPremiumPartner
    const handleSubmit = async (e) => {
        e.preventDefault();
        setLoading(true);
        try {
            // ‚úÖ Checagem dupla no submit
            if (!isPremiumPartner) {
                throw new Error('Voc√™ n√£o tem permiss√£o para criar este evento.');
            }
            if (!formData.acceptedTerms) {
                throw new Error('Voc√™ precisa concordar com os Termos de Uso e Pol√≠ticas para criar um evento');
            }
            if (new Date(formData.start_time) >= new Date(formData.end_time)) {
                throw new Error('A data de t√©rmino deve ser depois da data de in√≠cio');
            }
            if (formData.vagas < 1 || formData.vagas > partnerCapacity) {
                throw new Error(`O n√∫mero de vagas deve estar entre 1 e ${partnerCapacity}`);
            }
            if (!profile?.partner_id) {
                throw new Error("N√£o foi poss√≠vel identificar seu restaurante.");
            }
            const eventData = {
                creator_id: user.id,
                event_type: 'institucional',
                title: formData.title,
                description: formData.description,
                start_time: formData.start_time,
                end_time: formData.end_time,
                vagas: parseInt(formData.vagas),
                max_vagas: parseInt(formData.vagas),
                partner_id: profile.partner_id,
                is_paid: false,
                price: 0,
                status: 'Aberto',
                hashtags: ['institucional'],
            };
            const { error } = await supabaseClient_1.supabase
                .from('events')
                .insert([eventData]);
            if (error)
                throw error;
            (0, use_toast_1.toast)({
                title: "üéâ Evento criado com sucesso!",
                description: "Seu evento foi publicado. As inscri√ß√µes s√£o autom√°ticas.",
            });
            navigate('/meus-eventos');
        }
        catch (error) {
            console.error('Erro ao criar evento:', error);
            (0, use_toast_1.toast)({
                title: "‚ùå Erro ao criar evento",
                description: error.message,
                variant: "destructive",
            });
        }
        finally {
            setLoading(false);
        }
    };
    const handleChange = (e) => {
        const { name, value, type, checked } = e.target;
        setFormData({
            ...formData,
            [name]: type === 'checkbox' ? checked : value,
        });
    };
    if (loading && !error) { // Mostra loading inicial
        return ((0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-center min-h-[60vh]", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Loader, { className: "w-8 h-8 animate-spin text-purple-500" }) }));
    }
    // ‚úÖ Tela de Erro ou Permiss√£o Negada
    if (error) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col items-center justify-center min-h-[60vh] text-center", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertTriangle, { className: "w-12 h-12 text-red-500 mb-4" }), (0, jsx_runtime_1.jsx)("h2", { className: "text-xl font-semibold text-white mb-2", children: error }), !isPremiumPartner ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-white/60 mb-6", children: "Fa\u00E7a o upgrade para criar eventos institucionais." }), (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "outline", className: "border-yellow-500 text-yellow-500 hover:bg-yellow-500/10 hover:text-yellow-400", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Zap, { className: "w-4 h-4 mr-2" }), "Conhecer Planos Premium"] })] })) : ((0, jsx_runtime_1.jsx)(button_1.Button, { onClick: () => navigate('/meus-eventos'), children: "Voltar" }))] }));
    }
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(react_helmet_async_1.Helmet, { children: (0, jsx_runtime_1.jsx)("title", { children: "Criar Evento - Mesapra2" }) }), (0, jsx_runtime_1.jsx)("div", { className: "max-w-3xl mx-auto py-6 px-4", children: (0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, className: "space-y-8", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-4xl font-bold gradient-text mb-2", children: "Criar Evento Institucional" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-lg", children: "Crie um evento no seu estabelecimento com inscri\u00E7\u00E3o autom\u00E1tica." })] }), (0, jsx_runtime_1.jsxs)("form", { onSubmit: handleSubmit, className: "glass-effect rounded-2xl p-8 border border-white/10 space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-lg p-4 border border-purple-500/30", children: [(0, jsx_runtime_1.jsx)("p", { className: "text-white font-semibold", children: "Local do Evento" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/70 text-sm", children: "Este evento ser\u00E1 automaticamente vinculado ao seu restaurante." })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "title", children: "T\u00EDtulo do Evento" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "title", name: "title", placeholder: "Ex: Noite de Jazz no Restaurante", value: formData.title, onChange: handleChange, className: "glass-effect border-white/10", maxLength: 100, required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "description", children: "Descri\u00E7\u00E3o" }), (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { id: "description", name: "description", placeholder: "Descreva seu evento, o que os participantes podem esperar...", value: formData.description, onChange: handleChange, className: "glass-effect border-white/10 min-h-[120px]", maxLength: 500, required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "start_time", children: "Data e Hora de In\u00EDcio" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "start_time", name: "start_time", type: "datetime-local", value: formData.start_time, onChange: handleChange, min: new Date().toISOString().slice(0, 16), className: "glass-effect border-white/10", required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "end_time", children: "Data e Hora de T\u00E9rmino" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "end_time", name: "end_time", type: "datetime-local", value: formData.end_time, onChange: handleChange, min: formData.start_time, className: "glass-effect border-white/10", required: true })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "vagas", children: "N\u00FAmero de Vagas (Lota\u00E7\u00E3o)" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "vagas", name: "vagas", type: "number", min: "1", max: partnerCapacity, value: formData.vagas, onChange: handleChange, className: "pl-10 glass-effect border-white/10", required: true })] }), (0, jsx_runtime_1.jsxs)("p", { className: "text-white/40 text-xs", children: ["Inscri\u00E7\u00E3o autom\u00E1tica. Limite m\u00E1ximo baseado na capacidade do seu restaurante: ", partnerCapacity] })] }), (0, jsx_runtime_1.jsx)("div", { className: "space-y-4 pt-4 border-t border-white/10", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-start space-x-3", children: [(0, jsx_runtime_1.jsx)("input", { type: "checkbox", id: "acceptedTerms", name: "acceptedTerms", checked: formData.acceptedTerms, onChange: handleChange, className: "w-5 h-5 mt-0.5 rounded border-white/10 bg-white/5 checked:bg-purple-500", required: true }), (0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "acceptedTerms", className: "cursor-pointer text-sm leading-relaxed", children: "Concordo com os Termos de Uso e Pol\u00EDticas de Cancelamento *" })] }) }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "submit", disabled: loading || !formData.acceptedTerms, className: "w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 h-12 text-base font-semibold disabled:opacity-50 disabled:cursor-not-allowed", children: loading ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Loader, { className: "w-5 h-5 mr-2 animate-spin" }), "Criando Evento..."] })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "w-5 h-5 mr-2" }), "Criar Evento"] })) })] })] }) })] }));
};
exports.default = CreateEventPartner;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xccGFydG5lclxccGFnZXNcXENyZWF0ZUV2ZW50UGFydG5lci5qc3giLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUNBQW1DO0FBQ25DLGlDQUE0QztBQUM1QywyREFBNEM7QUFDNUMsdURBQStDO0FBQy9DLGlEQUF1QztBQUN2QywrQ0FBMkUsQ0FBQyxnQkFBZ0I7QUFDNUYsd0RBQWlEO0FBQ2pELG1FQUFnRTtBQUNoRSxpRUFBOEQ7QUFDOUQsaUVBQThEO0FBQzlELHVFQUFvRTtBQUNwRSx5RUFBa0U7QUFDbEUseURBQWdEO0FBRWhELE1BQU0sa0JBQWtCLEdBQUcsR0FBRyxFQUFFO0lBQzlCLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsSUFBQSxxQkFBTyxHQUFFLENBQUM7SUFDcEMsTUFBTSxRQUFRLEdBQUcsSUFBQSw4QkFBVyxHQUFFLENBQUM7SUFFL0IsMENBQTBDO0lBQzVDLE1BQU0sZ0JBQWdCLEdBQUcsT0FBTyxFQUFFLGdCQUFnQixLQUFLLElBQUksQ0FBQztJQUUxRCxNQUFNLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUM3QyxNQUFNLENBQUMsZUFBZSxFQUFFLGtCQUFrQixDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzNELE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDO1FBQ3ZDLEtBQUssRUFBRSxFQUFFO1FBQ1QsV0FBVyxFQUFFLEVBQUU7UUFDZixVQUFVLEVBQUUsRUFBRTtRQUNkLFFBQVEsRUFBRSxFQUFFO1FBQ1osS0FBSyxFQUFFLENBQUM7UUFDUixhQUFhLEVBQUUsS0FBSztLQUNyQixDQUFD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SSxFQUFDLFFBQVEsRUFDYixRQUFRLEVBQUUsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLGFBQWEsRUFDNUMsU0FBUyxFQUFDLDBLQUEwSyxZQUVuTCxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQ1QsNkRBQ0UsdUJBQUMscUJBQU0sSUFBQyxTQUFTLEVBQUMsMkJBQTJCLEdBQUcseUJBRS9DLENBQ0osQ0FBQyxDQUFDLENBQUMsQ0FDRiw2REFDRSx1QkFBQyx1QkFBUSxJQUFDLFNBQVMsRUFBQyxjQUFjLEdBQUcsb0JBRXBDLENBQ0osR0FDTSxJQUNKLElBQ0ksR0FDVCxJQUNMLENBQ0osQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLGtCQUFlLGtCQUFrQixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIkM6XFxERVZNaXhcXEFwcC5NZXNhcHJhMi5jb21cXHNyY1xcZmVhdHVyZXNcXHBhcnRuZXJcXHBhZ2VzXFxDcmVhdGVFdmVudFBhcnRuZXIuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9wYWdlcy9DcmVhdGVFdmVudFBhcnRuZXIuanN4XHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEhlbG1ldCB9IGZyb20gJ3JlYWN0LWhlbG1ldC1hc3luYyc7XHJcbmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB7IG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xyXG5pbXBvcnQgeyBDYWxlbmRhciwgVXNlcnMsIExvYWRlciwgQWxlcnRUcmlhbmdsZSwgWmFwIH0gZnJvbSAnbHVjaWRlLXJlYWN0JzsgLy8gSW1wb3J0YWRvIFphcFxyXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9jb250ZXh0cy9BdXRoQ29udGV4dCc7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvZmVhdHVyZXMvc2hhcmVkL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcclxuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL2lucHV0JztcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL2xhYmVsJztcclxuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL3RleHRhcmVhJztcclxuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL3VzZS10b2FzdCc7XHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2VDbGllbnQnO1xyXG5cclxuY29uc3QgQ3JlYXRlRXZlbnRQYXJ0bmVyID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgdXNlciwgcHJvZmlsZSB9ID0gdXNlQXV0aCgpO1xyXG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcclxuXHJcbiAgLy8g4pyFIFZFUklGSUNBIE8gU1RBVFVTIFBSRU1JVU0gRE8gUEFSQ0VJUk9cclxuY29uc3QgaXNQcmVtaXVtUGFydG5lciA9IHByb2ZpbGU/LmlzUHJlbWl1bVBhcnRuZXIgPT09IHRydWU7XHJcblxyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG4gIGNvbnN0IFtwYXJ0bmVyQ2FwYWNpdHksIHNldFBhcnRuZXJDYXBhY2l0eV0gPSB1c2VTdGF0ZSgxMCk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlKHtcclxuICAgIHRpdGxlOiAnJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnJyxcclxuICAgIHN0YXJ0X3RpbWU6ICcnLFxyXG4gICAgZW5kX3RpbWU6ICcnLFxyXG4gICAgdmFnYXM6IDIsXHJcbiAgICBhY2NlcHRlZFRlcm1zOiBmYWxzZSxcclxuICB9KTtcclxuXHJcbiAgLy8gQnVzY2EgYSBjYXBhY2lkYWRlIG3DoXhpbWEgKHPDsyBzZSBmb3IgcHJlbWl1bSlcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgZmV0Y2hQYXJ0bmVyQ2FwYWNpdHkgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIC8vIOKchSBCTE9RVUVJQSBTRSBOw4NPIEZPUiBQUkVNSVVNXHJcbiAgICAgIGlmICghaXNQcmVtaXVtUGFydG5lcikge1xyXG4gICAgICAgIHNldEVycm9yKFwiQXBlbmFzIFBhcmNlaXJvcyBQcmVtaXVtIHBvZGVtIGNyaWFyIGV2ZW50b3MgaW5zdGl0dWNpb25haXMuXCIpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXByb2ZpbGU/LnBhcnRuZXJfaWQpIHtcclxuICAgICAgICBzZXRFcnJvcihcIlBlcmZpbCBkZSBwYXJjZWlybyBuw6NvIGVuY29udHJhZG8uXCIpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZSBcclxuICAgICAgICAgIC5mcm9tKCdwYXJ0bmVycycpXHJcbiAgICAgICAgICAuc2VsZWN0KCdjYXBhY2l0eScpXHJcbiAgICAgICAgICAuZXEoJ2lkJywgcHJvZmlsZS5wYXJ0bmVyX2lkKVxyXG4gICAgICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEuY2FwYWNpdHkgPiAwKSB7XHJcbiAgICAgICAgICBzZXRQYXJ0bmVyQ2FwYWNpdHkoZGF0YS5jYXBhY2l0eSk7XHJcbiAgICAgICAgICBzZXRGb3JtRGF0YShwcmV2ID0+ICh7IC4uLnByZXYsIHZhZ2FzOiBkYXRhLmNhcGFjaXR5IH0pKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2V0UGFydG5lckNhcGFjaXR5KDEwKTtcclxuICAgICAgICAgIHNldEZvcm1EYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgdmFnYXM6IDEwIH0pKTtcclxuICAgICAgICAgIHRvYXN0KHtcclxuICAgICAgICAgICAgdGl0bGU6IFwiQXZpc29cIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiQ2FwYWNpZGFkZSBuw6NvIGRlZmluaWRhIG5vIHNldSBwZXJmaWwuIFVzYW5kbyAxMCBjb21vIG3DoXhpbW8uXCIsXHJcbiAgICAgICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgc2V0RXJyb3IoXCJFcnJvIGFvIGJ1c2NhciBjYXBhY2lkYWRlIGRvIHJlc3RhdXJhbnRlLlwiKTtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZmV0Y2hQYXJ0bmVyQ2FwYWNpdHkoKTtcclxuICB9LCBbcHJvZmlsZSwgdXNlciwgaXNQcmVtaXVtUGFydG5lcl0pOyAvLyBBZGljaW9uYWRvIGlzUHJlbWl1bVBhcnRuZXJcclxuXHJcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8g4pyFIENoZWNhZ2VtIGR1cGxhIG5vIHN1Ym1pdFxyXG4gICAgICBpZiAoIWlzUHJlbWl1bVBhcnRuZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZvY8OqIG7Do28gdGVtIHBlcm1pc3PDo28gcGFyYSBjcmlhciBlc3RlIGV2ZW50by4nKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIWZvcm1EYXRhLmFjY2VwdGVkVGVybXMpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZvY8OqIHByZWNpc2EgY29uY29yZGFyIGNvbSBvcyBUZXJtb3MgZGUgVXNvIGUgUG9sw610aWNhcyBwYXJhIGNyaWFyIHVtIGV2ZW50bycpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChuZXcgRGF0ZShmb3JtRGF0YS5zdGFydF90aW1lKSA+PSBuZXcgRGF0ZShmb3JtRGF0YS5lbmRfdGltZSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgZGF0YSBkZSB0w6lybWlubyBkZXZlIHNlciBkZXBvaXMgZGEgZGF0YSBkZSBpbsOtY2lvJyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGZvcm1EYXRhLnZhZ2FzIDwgMSB8fCBmb3JtRGF0YS52YWdhcyA+IHBhcnRuZXJDYXBhY2l0eSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTyBuw7ptZXJvIGRlIHZhZ2FzIGRldmUgZXN0YXIgZW50cmUgMSBlICR7cGFydG5lckNhcGFjaXR5fWApO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICghcHJvZmlsZT8ucGFydG5lcl9pZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk7Do28gZm9pIHBvc3PDrXZlbCBpZGVudGlmaWNhciBzZXUgcmVzdGF1cmFudGUuXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBldmVudERhdGEgPSB7XHJcbiAgICAgICAgY3JlYXRvcl9pZDogdXNlci5pZCxcclxuICAgICAgICBldmVudF90eXBlOiAnaW5zdGl0dWNpb25hbCcsXHJcbiAgICAgICAgdGl0bGU6IGZvcm1EYXRhLnRpdGxlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBmb3JtRGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICBzdGFydF90aW1lOiBmb3JtRGF0YS5zdGFydF90aW1lLFxyXG4gICAgICAgIGVuZF90aW1lOiBmb3JtRGF0YS5lbmRfdGltZSxcclxuICAgICAgICB2YWdhczogcGFyc2VJbnQoZm9ybURhdGEudmFnYXMpLFxyXG4gICAgICAgIG1heF92YWdhczogcGFyc2VJbnQoZm9ybURhdGEudmFnYXMpLFxyXG4gICAgICAgIHBhcnRuZXJfaWQ6IHByb2ZpbGUucGFydG5lcl9pZCxcclxuICAgICAgICBpc19wYWlkOiBmYWxzZSxcclxuICAgICAgICBwcmljZTogMCxcclxuICAgICAgICBzdGF0dXM6ICdBYmVydG8nLFxyXG4gICAgICAgIGhhc2h0YWdzOiBbJ2luc3RpdHVjaW9uYWwnXSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2V2ZW50cycpXHJcbiAgICAgICAgLmluc2VydChbZXZlbnREYXRhXSk7XHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG5cclxuICAgICAgdG9hc3Qoe1xyXG4gICAgICAgIHRpdGxlOiBcIvCfjokgRXZlbnRvIGNyaWFkbyBjb20gc3VjZXNzbyFcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJTZXUgZXZlbnRvIGZvaSBwdWJsaWNhZG8uIEFzIGluc2NyacOnw7VlcyBzw6NvIGF1dG9tw6F0aWNhcy5cIixcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBuYXZpZ2F0ZSgnL21ldXMtZXZlbnRvcycpO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gY3JpYXIgZXZlbnRvOicsIGVycm9yKTtcclxuICAgICAgdG9hc3Qoe1xyXG4gICAgICAgIHRpdGxlOiBcIuKdjCBFcnJvIGFvIGNyaWFyIGV2ZW50b1wiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIixcclxuICAgICAgfSk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoZSkgPT4ge1xyXG4gICAgY29uc3QgeyBuYW1lLCB2YWx1ZSwgdHlwZSwgY2hlY2tlZCB9ID0gZS50YXJnZXQ7XHJcbiAgICBzZXRGb3JtRGF0YSh7XHJcbiAgICAgIC4uLmZvcm1EYXRhLFxyXG4gICAgICBbbmFtZV06IHR5cGUgPT09ICdjaGVja2JveCcgPyBjaGVja2VkIDogdmFsdWUsXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBpZiAobG9hZGluZyAmJiAhZXJyb3IpIHsgLy8gTW9zdHJhIGxvYWRpbmcgaW5pY2lhbFxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtaW4taC1bNjB2aF1cIj5cclxuICAgICAgICA8TG9hZGVyIGNsYXNzTmFtZT1cInctOCBoLTggYW5pbWF0ZS1zcGluIHRleHQtcHVycGxlLTUwMFwiIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vIOKchSBUZWxhIGRlIEVycm8gb3UgUGVybWlzc8OjbyBOZWdhZGFcclxuICBpZiAoZXJyb3IpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWluLWgtWzYwdmhdIHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgPEFsZXJ0VHJpYW5nbGUgY2xhc3NOYW1lPVwidy0xMiBoLTEyIHRleHQtcmVkLTUwMCBtYi00XCIgLz5cclxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgbWItMlwiPntlcnJvcn08L2gyPlxyXG4gICAgICAgIFxyXG4gICAgICAgIHsvKiBNb3N0cmEgYm90w6NvIGRlIHVwZ3JhZGUgc2UgZm9yIGVycm8gZGUgcGVybWlzc8OjbyAqL31cclxuICAgICAgICB7IWlzUHJlbWl1bVBhcnRuZXIgPyAoXHJcbiAgICAgICAgICA8PlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwIG1iLTZcIj5GYcOnYSBvIHVwZ3JhZGUgcGFyYSBjcmlhciBldmVudG9zIGluc3RpdHVjaW9uYWlzLjwvcD5cclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJib3JkZXIteWVsbG93LTUwMCB0ZXh0LXllbGxvdy01MDAgaG92ZXI6YmcteWVsbG93LTUwMC8xMCBob3Zlcjp0ZXh0LXllbGxvdy00MDBcIlxyXG4gICAgICAgICAgICAgIC8vIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlKCcvcGFydG5lci9wbGFub3MnKX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxaYXAgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICBDb25oZWNlciBQbGFub3MgUHJlbWl1bVxyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDwvPlxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IG5hdmlnYXRlKCcvbWV1cy1ldmVudG9zJyl9PlZvbHRhcjwvQnV0dG9uPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICA8SGVsbWV0PlxyXG4gICAgICAgIDx0aXRsZT5DcmlhciBFdmVudG8gLSBNZXNhcHJhMjwvdGl0bGU+XHJcbiAgICAgIDwvSGVsbWV0PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTN4bCBteC1hdXRvIHB5LTYgcHgtNFwiPlxyXG4gICAgICAgIDxtb3Rpb24uZGl2XHJcbiAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XHJcbiAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cInNwYWNlLXktOFwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtNHhsIGZvbnQtYm9sZCBncmFkaWVudC10ZXh0IG1iLTJcIj5cclxuICAgICAgICAgICAgICBDcmlhciBFdmVudG8gSW5zdGl0dWNpb25hbFxyXG4gICAgICAgICAgICA8L2gxPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwIHRleHQtbGdcIj5cclxuICAgICAgICAgICAgICBDcmllIHVtIGV2ZW50byBubyBzZXUgZXN0YWJlbGVjaW1lbnRvIGNvbSBpbnNjcmnDp8OjbyBhdXRvbcOhdGljYS5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IHJvdW5kZWQtMnhsIHAtOCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIHNwYWNlLXktNlwiPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3Qgcm91bmRlZC1sZyBwLTQgYm9yZGVyIGJvcmRlci1wdXJwbGUtNTAwLzMwXCI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LXNlbWlib2xkXCI+TG9jYWwgZG8gRXZlbnRvPC9wPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNzAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgRXN0ZSBldmVudG8gc2Vyw6EgYXV0b21hdGljYW1lbnRlIHZpbmN1bGFkbyBhbyBzZXUgcmVzdGF1cmFudGUuXHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBUw610dWxvICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwidGl0bGVcIj5Uw610dWxvIGRvIEV2ZW50bzwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICBpZD1cInRpdGxlXCJcclxuICAgICAgICAgICAgICAgIG5hbWU9XCJ0aXRsZVwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkV4OiBOb2l0ZSBkZSBKYXp6IG5vIFJlc3RhdXJhbnRlXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS50aXRsZX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3QgYm9yZGVyLXdoaXRlLzEwXCJcclxuICAgICAgICAgICAgICAgIG1heExlbmd0aD17MTAwfVxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBEZXNjcmnDp8OjbyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cImRlc2NyaXB0aW9uXCI+RGVzY3Jpw6fDo288L0xhYmVsPlxyXG4gICAgICAgICAgICAgIDxUZXh0YXJlYVxyXG4gICAgICAgICAgICAgICAgaWQ9XCJkZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEZXNjcmV2YSBzZXUgZXZlbnRvLCBvIHF1ZSBvcyBwYXJ0aWNpcGFudGVzIHBvZGVtIGVzcGVyYXIuLi5cIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCBib3JkZXItd2hpdGUvMTAgbWluLWgtWzEyMHB4XVwiXHJcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGg9ezUwMH1cclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogRGF0YSBlIEhvcmEgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNlwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cInN0YXJ0X3RpbWVcIj5EYXRhIGUgSG9yYSBkZSBJbsOtY2lvPC9MYWJlbD5cclxuICAgICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgICBpZD1cInN0YXJ0X3RpbWVcIlxyXG4gICAgICAgICAgICAgICAgICBuYW1lPVwic3RhcnRfdGltZVwiXHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRldGltZS1sb2NhbFwiXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5zdGFydF90aW1lfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICBtaW49e25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxNil9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCBib3JkZXItd2hpdGUvMTBcIlxyXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJlbmRfdGltZVwiPkRhdGEgZSBIb3JhIGRlIFTDqXJtaW5vPC9MYWJlbD5cclxuICAgICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgICBpZD1cImVuZF90aW1lXCJcclxuICAgICAgICAgICAgICAgICAgbmFtZT1cImVuZF90aW1lXCJcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCJcclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmVuZF90aW1lfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICBtaW49e2Zvcm1EYXRhLnN0YXJ0X3RpbWV9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCBib3JkZXItd2hpdGUvMTBcIlxyXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogVmFnYXMgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJ2YWdhc1wiPk7Dum1lcm8gZGUgVmFnYXMgKExvdGHDp8Ojbyk8L0xhYmVsPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgICAgIDxVc2VycyBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHctNSBoLTUgdGV4dC13aGl0ZS80MFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgaWQ9XCJ2YWdhc1wiXHJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJ2YWdhc1wiXHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICBtaW49XCIxXCJcclxuICAgICAgICAgICAgICAgICAgbWF4PXtwYXJ0bmVyQ2FwYWNpdHl9XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS52YWdhc31cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGwtMTAgZ2xhc3MtZWZmZWN0IGJvcmRlci13aGl0ZS8xMFwiXHJcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNDAgdGV4dC14c1wiPlxyXG4gICAgICAgICAgICAgICAgSW5zY3Jpw6fDo28gYXV0b23DoXRpY2EuIExpbWl0ZSBtw6F4aW1vIGJhc2VhZG8gbmEgY2FwYWNpZGFkZSBkbyBzZXUgcmVzdGF1cmFudGU6IHtwYXJ0bmVyQ2FwYWNpdHl9XHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBDb25jb3Jkw6JuY2lhIGNvbSBUZXJtb3MgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHB0LTQgYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzEwXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtM1wiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgIGlkPVwiYWNjZXB0ZWRUZXJtc1wiXHJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJhY2NlcHRlZFRlcm1zXCJcclxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17Zm9ybURhdGEuYWNjZXB0ZWRUZXJtc31cclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy01IGgtNSBtdC0wLjUgcm91bmRlZCBib3JkZXItd2hpdGUvMTAgYmctd2hpdGUvNSBjaGVja2VkOmJnLXB1cnBsZS01MDBcIlxyXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwiYWNjZXB0ZWRUZXJtc1wiIGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyIHRleHQtc20gbGVhZGluZy1yZWxheGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgIENvbmNvcmRvIGNvbSBvcyBUZXJtb3MgZGUgVXNvIGUgUG9sw610aWNhcyBkZSBDYW5jZWxhbWVudG8gKlxyXG4gICAgICAgICAgICAgICAgPC9MYWJlbD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogQm90w6NvIGRlIENyaWFyICovfVxyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmcgfHwgIWZvcm1EYXRhLmFjY2VwdGVkVGVybXN9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAwIHRvLXBpbmstNTAwIGhvdmVyOmZyb20tcHVycGxlLTYwMCBob3Zlcjp0by1waW5rLTYwMCBoLTEyIHRleHQtYmFzZSBmb250LXNlbWlib2xkIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtsb2FkaW5nID8gKFxyXG4gICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgPExvYWRlciBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTIgYW5pbWF0ZS1zcGluXCIgLz5cclxuICAgICAgICAgICAgICAgICAgQ3JpYW5kbyBFdmVudG8uLi5cclxuICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICA8Q2FsZW5kYXIgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgQ3JpYXIgRXZlbnRvXHJcbiAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8L21vdGlvbi5kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC8+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENyZWF0ZUV2ZW50UGFydG5lcjsiXSwidmVyc2lvbiI6M30=