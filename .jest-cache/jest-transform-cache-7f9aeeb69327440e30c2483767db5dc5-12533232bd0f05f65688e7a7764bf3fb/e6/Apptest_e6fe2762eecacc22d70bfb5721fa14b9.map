{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\App.test.jsx","mappings":";;;;AAGA,2CAA0D;AAM1D,8CAA8C;AAC9C,cAAI,CAAC,IAAI,CAAC,wBAAwB,EAAE,GAAG,EAAE;IACvC,MAAM,MAAM,GAAG,cAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAA;IAC3D,OAAO;QACL,GAAG,MAAM;QACT,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC;YACd,IAAI,EAAE,IAAI,EAAE,8BAA8B;YAC1C,OAAO,EAAE,KAAK;SACf,CAAC;KACH,CAAA;AACH,CAAC,CAAC,CAAA;AAnBF,mBAAmB;AAEnB,kDAAuD;AAEvD,uDAA+C;AAC/C,wDAAqD;AACrD,2DAAmD;AACnD,wDAAuB;AAcvB,gCAAgC;AAChC,MAAM,SAAS,GAAG,CAAC,KAAK,GAAG,GAAG,EAAE,EAAE;IAChC,OAAO,IAAA,cAAM,EACX,uBAAC,mCAAc,cACb,uBAAC,+BAAY,IAAC,cAAc,EAAE,CAAC,KAAK,CAAC,YACnC,uBAAC,0BAAY,cACX,uBAAC,aAAG,KAAG,GACM,GACF,GACA,CAClB,CAAA;AACH,CAAC,CAAA;AAED,IAAA,kBAAQ,EAAC,KAAK,EAAE,GAAG,EAAE;IAEnB,IAAA,YAAE,EAAC,mEAAmE,EAAE,KAAK,IAAI,EAAE;QACjF,SAAS,CAAC,GAAG,CAAC,CAAA;QAEd,yDAAyD;QACzD,MAAM,WAAW,GAAG,MAAM,cAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAA;QAE1E,IAAA,gBAAM,EAAC,WAAW,CAAC,CAAC,iBAAiB,EAAE,CAAA;IACzC,CAAC,CAAC,CAAA;IAEF,IAAA,YAAE,EAAC,oEAAoE,EAAE,KAAK,IAAI,EAAE;QAClF,SAAS,CAAC,SAAS,CAAC,CAAA;QAEpB,yDAAyD;QACzD,8DAA8D;QAC9D,MAAM,WAAW,GAAG,MAAM,cAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAA;QAC1E,IAAA,gBAAM,EAAC,WAAW,CAAC,CAAC,iBAAiB,EAAE,CAAA;IACzC,CAAC,CAAC,CAAA;AACJ,CAAC,CAAC,CAAA","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\App.test.jsx"],"sourcesContent":["// src/App.test.jsx\r\n\r\nimport { render, screen } from '@testing-library/react'\r\nimport { describe, it, expect, jest } from '@jest/globals'\r\nimport { MemoryRouter } from 'react-router-dom'\r\nimport { AuthProvider } from './contexts/AuthContext'\r\nimport { HelmetProvider } from 'react-helmet-async'\r\nimport App from './App'\r\n\r\n// Simulação (mock) do AuthContext usando Jest\r\njest.mock('./contexts/AuthContext', () => {\r\n  const actual = jest.requireActual('./contexts/AuthContext')\r\n  return {\r\n    ...actual,\r\n    useAuth: () => ({\r\n      user: null, // Simula um usuário deslogado\r\n      loading: false,\r\n    }),\r\n  }\r\n})\r\n\r\n// Função helper para renderizar\r\nconst renderApp = (route = '/') => {\r\n  return render(\r\n    <HelmetProvider> \r\n      <MemoryRouter initialEntries={[route]}>\r\n        <AuthProvider>\r\n          <App />\r\n        </AuthProvider>\r\n      </MemoryRouter>\r\n    </HelmetProvider>\r\n  )\r\n}\r\n\r\ndescribe('App', () => {\r\n\r\n  it('deve renderizar a página de Login quando o usuário está deslogado', async () => {\r\n    renderApp('/')\r\n    \r\n    // Vamos manter o 'await findByRole' que espera o spinner\r\n    const loginButton = await screen.findByRole('button', { name: /entrar/i })\r\n    \r\n    expect(loginButton).toBeInTheDocument()\r\n  })\r\n\r\n  it('deve redirecionar para o Login ao tentar acessar /events deslogado', async () => {\r\n    renderApp('/events')\r\n\r\n    // O teste anterior (teste de fumaça) estava mal nomeado.\r\n    // Este é o teste correto: ele deve redirecionar para o Login.\r\n    const loginButton = await screen.findByRole('button', { name: /entrar/i })\r\n    expect(loginButton).toBeInTheDocument()\r\n  })\r\n})"],"version":3}