ddabda09345c8e08aaf5842585f4a55f
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const react_helmet_async_1 = require("react-helmet-async");
const framer_motion_1 = require("framer-motion");
const react_router_dom_1 = require("react-router-dom");
const lucide_react_1 = require("lucide-react");
const input_1 = require("@/features/shared/components/ui/input");
const button_1 = require("@/features/shared/components/ui/button");
const supabaseClient_1 = require("@/lib/supabaseClient");
const date_fns_1 = require("date-fns");
const locale_1 = require("date-fns/locale");
const Avatar_1 = tslib_1.__importDefault(require("@/features/shared/components/profile/Avatar"));
const EventsPage = () => {
    const [events, setEvents] = (0, react_1.useState)([]);
    const [filteredEvents, setFilteredEvents] = (0, react_1.useState)([]);
    const [eventParticipantsMap, setEventParticipantsMap] = (0, react_1.useState)({});
    const [searchTerm, setSearchTerm] = (0, react_1.useState)('');
    const [selectedType, setSelectedType] = (0, react_1.useState)('todos');
    const [loading, setLoading] = (0, react_1.useState)(true);
    const [error, setError] = (0, react_1.useState)(null);
    (0, react_1.useEffect)(() => {
        loadEvents();
    }, []);
    // 笨 FUNﾃﾃグ CORRIGIDA: getAvatarUrl
    const getAvatarUrl = (profile, nameFallback = 'U') => {
        // Fallback se nﾃ｣o tem avatar
        if (!profile?.avatar_url) {
            return `https://ui-avatars.com/api/?name=${encodeURIComponent(profile?.username || profile?.full_name || nameFallback)}&background=8b5cf6&color=fff&size=40`;
        }
        // 笨 CORREﾃﾃグ 1: Limpar URL (remover espaﾃｧos/quebras de linha)
        const cleanUrl = profile.avatar_url.trim();
        // 笨 DEBUG: Log para verificar (remova depois que funcionar)
        console.log('沐 DEBUG Avatar:', {
            profileId: profile?.id,
            username: profile?.username,
            originalUrl: profile?.avatar_url,
            cleanUrl: cleanUrl,
            isHttp: cleanUrl.startsWith('http')
        });
        // 笨 CORREﾃﾃグ 2: Validar se URL estﾃ｡ completa e vﾃ｡lida
        if (cleanUrl.startsWith('http://') || cleanUrl.startsWith('https://')) {
            // Adicionar timestamp para forﾃｧar atualizaﾃｧﾃ｣o (quebrar cache)
            const separator = cleanUrl.includes('?') ? '&' : '?';
            return `${cleanUrl}${separator}t=${Date.now()}`;
        }
        // 笨 CORREﾃﾃグ 3: Se for path relativo, construir URL do Supabase
        // Detectar bucket correto
        let bucketName = 'avatars';
        if (cleanUrl.includes('photos/') || cleanUrl.startsWith('photos/')) {
            bucketName = 'photos';
        }
        else if (cleanUrl.includes('event-photos/')) {
            bucketName = 'event-photos';
        }
        try {
            const { data } = supabaseClient_1.supabase.storage
                .from(bucketName)
                .getPublicUrl(cleanUrl);
            return `${data.publicUrl}?t=${Date.now()}`;
        }
        catch (error) {
            console.error('Erro ao construir URL do avatar:', error);
            // Retornar fallback em caso de erro
            return `https://ui-avatars.com/api/?name=${encodeURIComponent(profile?.username || profile?.full_name || nameFallback)}&background=8b5cf6&color=fff&size=40`;
        }
    };
    const loadEvents = async () => {
        setLoading(true);
        setError(null);
        try {
            let { data, error: fetchError } = await supabaseClient_1.supabase
                .from('events')
                .select(`
          *,
          partner:partners(id, name, address),
          creator:profiles!events_creator_id_fkey(
            id,
            username,
            avatar_url,
            full_name,
            public_profile
          )
        `)
                .order('start_time', { ascending: true });
            // Fallbacks
            if (fetchError && !data) {
                console.warn('Erro com join completo, tentando sem creator:', fetchError);
                const fallback = await supabaseClient_1.supabase.from('events').select(`*, partner:partners(id, name, address)`).order('start_time', { ascending: true });
                data = fallback.data;
                fetchError = fallback.error;
            }
            if (fetchError && !data) {
                console.warn('Erro com joins, carregando apenas eventos:', fetchError);
                const simple = await supabaseClient_1.supabase.from('events').select('*').order('start_time', { ascending: true });
                data = simple.data;
                fetchError = simple.error;
            }
            if (fetchError)
                throw fetchError;
            if (!data)
                data = [];
            const now = new Date();
            const validEvents = data.filter(event => {
                try {
                    const eventDate = new Date(event.start_time);
                    if (isNaN(eventDate.getTime())) {
                        console.warn("Data invﾃ｡lida encontrada para evento ID:", event.id, "Data:", event.start_time);
                        return false;
                    }
                    const isFuture = eventDate >= now;
                    const statusLower = typeof event.status === 'string' ? event.status.toLowerCase() : '';
                    const hasValidStatus = ['aberto', 'confirmado'].includes(statusLower);
                    return isFuture && hasValidStatus;
                }
                catch (e) {
                    console.error("Erro ao processar data do evento:", event.id, event.start_time, e);
                    return false;
                }
            });
            setEvents(validEvents);
            // 笨 CORREﾃﾃグ: Busca participantes em lote com foreign key correta
            if (validEvents.length > 0) {
                const eventIds = validEvents.map(e => e.id);
                const { data: participationsData, error: participantsError } = await supabaseClient_1.supabase
                    .from('event_participants')
                    .select('event_id, user_id, profiles(id, username, avatar_url, full_name, public_profile)')
                    .in('event_id', eventIds)
                    .eq('status', 'aprovado');
                if (participantsError) {
                    console.error("Erro ao buscar participantes:", participantsError);
                }
                else if (participationsData) {
                    // 笨 CORREﾃﾃグ: profiles ao invﾃｩs de profile
                    const participantsMap = participationsData.reduce((acc, participation) => {
                        if (!participation.profiles)
                            return acc;
                        const eventId = participation.event_id;
                        if (!acc[eventId])
                            acc[eventId] = [];
                        acc[eventId].push(participation.profiles);
                        return acc;
                    }, {});
                    setEventParticipantsMap(participantsMap);
                }
            }
            else {
                setEventParticipantsMap({});
            }
        }
        catch (error) {
            console.error('Erro ao carregar eventos:', error);
            setError('Erro ao carregar eventos. Tente novamente.');
        }
        finally {
            setLoading(false);
        }
    };
    const filterEvents = (0, react_1.useCallback)(() => {
        let filtered = events;
        if (searchTerm) {
            const lowerSearch = searchTerm.toLowerCase();
            filtered = filtered.filter(e => e.title?.toLowerCase().includes(lowerSearch) ||
                e.description?.toLowerCase().includes(lowerSearch) ||
                e.hashtags?.some(tag => tag.toLowerCase().includes(lowerSearch)) ||
                e.creator?.username?.toLowerCase().includes(lowerSearch) ||
                e.partner?.name?.toLowerCase().includes(lowerSearch));
        }
        if (selectedType !== 'todos') {
            filtered = filtered.filter(e => e.event_type === selectedType || (selectedType === 'crusher' && e.event_type === 'Mesapra2'));
        }
        setFilteredEvents(filtered);
    }, [events, searchTerm, selectedType]);
    (0, react_1.useEffect)(() => {
        filterEvents();
    }, [filterEvents]);
    const eventTypes = [
        { value: 'todos', label: 'Todos' },
        { value: 'padrao', label: 'Padrﾃ｣o' },
        { value: 'particular', label: 'Particular' },
        { value: 'crusher', label: 'Mesapra2' },
        { value: 'institucional', label: 'Institucional' },
    ];
    const getPartnerAddress = (partner) => {
        if (!partner)
            return 'Local nﾃ｣o informado';
        if (!partner.address)
            return partner.name;
        if (typeof partner.address === 'string') {
            try {
                const parsed = JSON.parse(partner.address);
                if (parsed.city || parsed.cidade)
                    return `${partner.name} - ${parsed.city || parsed.cidade}`;
            }
            catch (e) {
                // Endereﾃｧo nﾃ｣o ﾃｩ JSON
            }
            return `${partner.name} - ${partner.address}`;
        }
        if (typeof partner.address === 'object') {
            const parts = [
                partner.address.street || partner.address.rua,
                partner.address.city || partner.address.cidade,
            ].filter(Boolean);
            return parts.length > 0 ? `${partner.name} - ${parts.join(', ')}` : partner.name;
        }
        return partner.name;
    };
    if (loading) {
        return ((0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-center min-h-[calc(100vh-200px)]", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "w-16 h-16 text-white/40 animate-spin" }) }));
    }
    if (error) {
        return ((0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col items-center justify-center min-h-[calc(100vh-200px)]", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "w-16 h-16 text-red-400 mb-4" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-lg mb-4", children: error }), (0, jsx_runtime_1.jsx)(button_1.Button, { onClick: loadEvents, className: "bg-purple-600 hover:bg-purple-700", children: "Tentar Novamente" })] }));
    }
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)(react_helmet_async_1.Helmet, { children: [(0, jsx_runtime_1.jsx)("title", { children: "Eventos - Mesapra2" }), (0, jsx_runtime_1.jsx)("meta", { name: "description", content: "Descubra eventos sociais incr\u00EDveis em restaurantes. Encontre pessoas com interesses similares." }), (0, jsx_runtime_1.jsx)("meta", { property: "og:type", content: "website" }), (0, jsx_runtime_1.jsx)("meta", { property: "og:title", content: "Mesapra2 - Descubra Eventos Incr\u00EDveis" }), (0, jsx_runtime_1.jsx)("meta", { property: "og:description", content: "Participe de experi\u00EAncias gastron\u00F4micas \u00FAnicas e conecte-se com pessoas de verdade." }), (0, jsx_runtime_1.jsx)("meta", { property: "og:image", content: "https://app.mesapra2.com/og-default.jpg" }), (0, jsx_runtime_1.jsx)("meta", { property: "og:url", content: "https://app.mesapra2.com/eventos" }), (0, jsx_runtime_1.jsx)("meta", { property: "og:site_name", content: "Mesapra2" }), (0, jsx_runtime_1.jsx)("meta", { property: "og:locale", content: "pt_BR" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-8 py-6 px-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col md:flex-row md:items-center md:justify-between gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h1", { className: "text-4xl font-bold gradient-text mb-2", children: "Descubra Eventos" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-lg", children: "Encontre experi\u00EAncias incr\u00EDveis e conecte-se com pessoas" }), filteredEvents.length > 0 && ((0, jsx_runtime_1.jsxs)("p", { className: "text-white/40 text-sm mt-2", children: [filteredEvents.length, " ", filteredEvents.length === 1 ? 'evento encontrado' : 'eventos encontrados'] }))] }), (0, jsx_runtime_1.jsx)(react_router_dom_1.Link, { to: "/criar-evento", children: (0, jsx_runtime_1.jsxs)(button_1.Button, { className: "bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 font-semibold whitespace-nowrap", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: "w-5 h-5 mr-2" }), "Criar Evento"] }) })] }), (0, jsx_runtime_1.jsx)("div", { className: "glass-effect rounded-2xl p-6 border border-white/10", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex flex-col md:flex-row gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex-1 relative", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: "absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40" }), (0, jsx_runtime_1.jsx)(input_1.Input, { placeholder: "Buscar eventos, hashtags, local, criador...", value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: "pl-10 glass-effect border-white/10" })] }), (0, jsx_runtime_1.jsx)("div", { className: "flex gap-2 overflow-x-auto pb-2", children: eventTypes.map((type) => ((0, jsx_runtime_1.jsx)(button_1.Button, { variant: selectedType === type.value ? 'default' : 'outline', onClick: () => setSelectedType(type.value), className: `whitespace-nowrap ${selectedType === type.value
                                            ? 'bg-gradient-to-r from-purple-500 to-pink-500'
                                            : 'glass-effect border-white/10'}`, children: type.label }, type.value))) })] }) }), (0, jsx_runtime_1.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: filteredEvents.map((event, index) => {
                            const participantsForEvent = eventParticipantsMap[event.id] || [];
                            return ((0, jsx_runtime_1.jsx)(framer_motion_1.motion.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, transition: { delay: index * 0.05 }, children: (0, jsx_runtime_1.jsx)(react_router_dom_1.Link, { to: `/event/${event.id}`, children: (0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl p-6 border border-white/10 hover:bg-white/5 transition-colors cursor-pointer h-full flex flex-col justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { children: [event.creator && ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-4", children: [(0, jsx_runtime_1.jsx)(Avatar_1.default, { url: getAvatarUrl(event.creator), name: event.creator.username || event.creator.full_name, size: "sm", isPublic: event.creator.public_profile }, `avatar-creator-${event.creator.id}-${event.creator.avatar_url || 'default'}`), (0, jsx_runtime_1.jsxs)("div", { className: 'min-w-0', children: [(0, jsx_runtime_1.jsx)("p", { className: "text-white/80 text-sm font-medium truncate", children: event.creator.username || event.creator.full_name || 'Anfitriﾃ｣o' }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/50 text-xs", children: "Organizador" })] })] })), (0, jsx_runtime_1.jsx)("div", { className: "flex items-start justify-between mb-4", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex-1", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-2 mb-2 flex-wrap", children: [(0, jsx_runtime_1.jsx)("span", { className: `px-2 py-1 rounded-full text-xs font-medium ${event.event_type === 'crusher' || event.event_type === 'Mesapra2'
                                                                                ? 'bg-pink-500/20 text-pink-300'
                                                                                : event.event_type === 'institucional'
                                                                                    ? 'bg-blue-500/20 text-blue-300'
                                                                                    : event.event_type === 'particular'
                                                                                        ? 'bg-purple-500/20 text-purple-300'
                                                                                        : 'bg-green-500/20 text-green-300'}`, children: event.event_type }), (0, jsx_runtime_1.jsx)("span", { className: "px-2 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-300", children: event.status })] }), (0, jsx_runtime_1.jsx)("h3", { className: "text-lg font-semibold text-white mb-2 line-clamp-2", children: event.title }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-sm line-clamp-2 mb-3", children: event.description })] }) }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-white/60 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "w-4 h-4 mr-2 flex-shrink-0" }), (0, jsx_runtime_1.jsx)("span", { className: "truncate", children: (0, date_fns_1.format)(new Date(event.start_time), "dd/MM 'ﾃs' HH:mm", { locale: locale_1.ptBR }) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-white/60 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { className: "w-4 h-4 mr-2 flex-shrink-0" }), (0, jsx_runtime_1.jsxs)("span", { className: "truncate", children: ["at\u00E9 ", (0, date_fns_1.format)(new Date(event.end_time), "HH:mm", { locale: locale_1.ptBR })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-white/60 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.MapPin, { className: "w-4 h-4 mr-2 flex-shrink-0" }), (0, jsx_runtime_1.jsx)("span", { className: "truncate", children: getPartnerAddress(event.partner) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center text-white/60 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Users, { className: "w-4 h-4 mr-2 flex-shrink-0" }), event.vagas, " ", event.vagas === 1 ? 'vaga disponﾃｭvel' : 'vagas disponﾃｭveis'] })] }), event.hashtags && event.hashtags.length > 0 && ((0, jsx_runtime_1.jsxs)("div", { className: "flex flex-wrap gap-2 mt-4", children: [event.hashtags.slice(0, 3).map((tag, i) => ((0, jsx_runtime_1.jsxs)("span", { className: "px-2 py-1 rounded-full bg-purple-500/20 text-purple-300 text-xs flex items-center", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Tag, { className: "w-3 h-3 mr-1" }), "#", tag] }, i))), event.hashtags.length > 3 && ((0, jsx_runtime_1.jsxs)("span", { className: "px-2 py-1 rounded-full bg-white/10 text-white/60 text-xs", children: ["+", event.hashtags.length - 3] }))] }))] }), (0, jsx_runtime_1.jsx)("div", { className: "mt-4 pt-4 border-t border-white/10", children: participantsForEvent.length > 0 ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)("h4", { className: "text-sm font-medium text-white/80 mb-2", children: ["Participantes Aprovados (", participantsForEvent.length, ")"] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex flex-wrap gap-2", children: [participantsForEvent.slice(0, 5).map(participant => ((0, jsx_runtime_1.jsx)(Avatar_1.default, { url: getAvatarUrl(participant), name: participant.username || participant.full_name, size: "xs", isPublic: participant.public_profile }, `avatar-participant-${participant.id}-${participant.avatar_url || 'default'}`))), participantsForEvent.length > 5 && ((0, jsx_runtime_1.jsxs)("div", { className: "w-6 h-6 rounded-full bg-gray-700 flex items-center justify-center text-xs text-white/70 border-2 border-background", children: ["+", participantsForEvent.length - 5] }))] })] })) : ((0, jsx_runtime_1.jsx)("p", { className: "text-xs text-white/50", children: "Seja o primeiro a participar!" })) })] }) }) }, event.id));
                        }) }), filteredEvents.length === 0 && !loading && ((0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-2xl p-12 border border-white/10 text-center mt-8", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Calendar, { className: "w-16 h-16 text-white/20 mx-auto mb-4" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-lg mb-4", children: events.length === 0
                                    ? 'Nenhum evento disponﾃｭvel no momento'
                                    : 'Nenhum evento encontrado com esses filtros' }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/40 text-sm mb-6", children: events.length === 0
                                    ? 'Seja o primeiro a criar um evento incrﾃｭvel!'
                                    : 'Tente ajustar seus filtros ou criar um novo evento' }), (0, jsx_runtime_1.jsx)(react_router_dom_1.Link, { to: "/criar-evento", children: (0, jsx_runtime_1.jsxs)(button_1.Button, { className: "bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Plus, { className: "w-5 h-5 mr-2" }), events.length === 0 ? 'Criar Primeiro Evento' : 'Criar Novo Evento'] }) })] }))] })] }));
};
exports.default = EventsPage;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xcc2hhcmVkXFxwYWdlc1xcRXZlbnRzUGFnZS5qc3giLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlDQUF5RDtBQUN6RCwyREFBNEM7QUFDNUMsaURBQXVDO0FBQ3ZDLHVEQUF3QztBQUN4QywrQ0FBaUY7QUFDakYsaUVBQThEO0FBQzlELG1FQUFnRTtBQUNoRSx5REFBZ0Q7QUFDaEQsdUNBQWtDO0FBQ2xDLDRDQUF1QztBQUN2QyxpR0FBaUU7QUFFakUsTUFBTSxVQUFVLEdBQUcsR0FBRyxFQUFFO0lBQ3RCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsaUJBQWlCLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsRUFBRSxDQUFDLENBQUM7SUFDekQsTUFBTSxDQUFDLG9CQUFvQixFQUFFLHVCQUF1QixDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3JFLE1BQU0sQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2pELE1BQU0sQ0FBQyxZQUFZLEVBQUUsZUFBZSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzFELE1BQU0sQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQzdDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLElBQUksQ0FBQyxDQUFDO0lBRXpDLElBQUEsaUJBQVMsRUFBQyxHQUFHLEVBQUU7UUFDYixVQUFVLEVBQUUsQ0FBQztJQUNmLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLG1DQUFtQztJQUNuQyxNQUFNLFlBQVksR0FBRyxD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QUFDLG9EQUFvRCxHQUN0RCxFQUNKLHVCQUFDLHVCQUFJLElBQUMsRUFBRSxFQUFDLGVBQWUsWUFDdEIsd0JBQUMsZUFBTSxJQUFDLFNBQVMsRUFBQyxzRkFBc0YsYUFDdEcsdUJBQUMsbUJBQUksSUFBQyxTQUFTLEVBQUMsY0FBYyxHQUFHLEVBQ2hDLE1BQU0sQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsbUJBQW1CLElBQzdELEdBQ0osSUFDSCxDQUNQLElBQ0csSUFDTCxDQUNKLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixrQkFBZSxVQUFVLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xcc2hhcmVkXFxwYWdlc1xcRXZlbnRzUGFnZS5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEhlbG1ldCB9IGZyb20gXCJyZWFjdC1oZWxtZXQtYXN5bmNcIjtcclxuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHsgU2VhcmNoLCBDYWxlbmRhciwgVXNlcnMsIE1hcFBpbiwgVGFnLCBDbG9jaywgUGx1cyB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy91aS9pbnB1dCc7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvZmVhdHVyZXMvc2hhcmVkL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcclxuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tICdAL2xpYi9zdXBhYmFzZUNsaWVudCc7XHJcbmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJztcclxuaW1wb3J0IHsgcHRCUiB9IGZyb20gJ2RhdGUtZm5zL2xvY2FsZSc7XHJcbmltcG9ydCBBdmF0YXIgZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy9wcm9maWxlL0F2YXRhcic7XHJcblxyXG5jb25zdCBFdmVudHNQYWdlID0gKCkgPT4ge1xyXG4gIGNvbnN0IFtldmVudHMsIHNldEV2ZW50c10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW2ZpbHRlcmVkRXZlbnRzLCBzZXRGaWx0ZXJlZEV2ZW50c10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW2V2ZW50UGFydGljaXBhbnRzTWFwLCBzZXRFdmVudFBhcnRpY2lwYW50c01hcF0gPSB1c2VTdGF0ZSh7fSk7XHJcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtzZWxlY3RlZFR5cGUsIHNldFNlbGVjdGVkVHlwZV0gPSB1c2VTdGF0ZSgndG9kb3MnKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbG9hZEV2ZW50cygpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8g4pyFIEZVTsOHw4NPIENPUlJJR0lEQTogZ2V0QXZhdGFyVXJsXHJcbiAgY29uc3QgZ2V0QXZhdGFyVXJsID0gKHByb2ZpbGUsIG5hbWVGYWxsYmFjayA9ICdVJykgPT4ge1xyXG4gICAgLy8gRmFsbGJhY2sgc2UgbsOjbyB0ZW0gYXZhdGFyXHJcbiAgICBpZiAoIXByb2ZpbGU/LmF2YXRhcl91cmwpIHtcclxuICAgICAgcmV0dXJuIGBodHRwczovL3VpLWF2YXRhcnMuY29tL2FwaS8/bmFtZT0ke2VuY29kZVVSSUNvbXBvbmVudChcclxuICAgICAgICBwcm9maWxlPy51c2VybmFtZSB8fCBwcm9maWxlPy5mdWxsX25hbWUgfHwgbmFtZUZhbGxiYWNrXHJcbiAgICAgICl9JmJhY2tncm91bmQ9OGI1Y2Y2JmNvbG9yPWZmZiZzaXplPTQwYDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDinIUgQ09SUkXDh8ODTyAxOiBMaW1wYXIgVVJMIChyZW1vdmVyIGVzcGHDp29zL3F1ZWJyYXMgZGUgbGluaGEpXHJcbiAgICBjb25zdCBjbGVhblVybCA9IHByb2ZpbGUuYXZhdGFyX3VybC50cmltKCk7XHJcbiAgICBcclxuICAgIC8vIOKchSBERUJVRzogTG9nIHBhcmEgdmVyaWZpY2FyIChyZW1vdmEgZGVwb2lzIHF1ZSBmdW5jaW9uYXIpXHJcbiAgICBjb25zb2xlLmxvZygn8J+UjSBERUJVRyBBdmF0YXI6Jywge1xyXG4gICAgICBwcm9maWxlSWQ6IHByb2ZpbGU/LmlkLFxyXG4gICAgICB1c2VybmFtZTogcHJvZmlsZT8udXNlcm5hbWUsXHJcbiAgICAgIG9yaWdpbmFsVXJsOiBwcm9maWxlPy5hdmF0YXJfdXJsLFxyXG4gICAgICBjbGVhblVybDogY2xlYW5VcmwsXHJcbiAgICAgIGlzSHR0cDogY2xlYW5Vcmwuc3RhcnRzV2l0aCgnaHR0cCcpXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8g4pyFIENPUlJFw4fDg08gMjogVmFsaWRhciBzZSBVUkwgZXN0w6EgY29tcGxldGEgZSB2w6FsaWRhXHJcbiAgICBpZiAoY2xlYW5Vcmwuc3RhcnRzV2l0aCgnaHR0cDovLycpIHx8IGNsZWFuVXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcclxuICAgICAgLy8gQWRpY2lvbmFyIHRpbWVzdGFtcCBwYXJhIGZvcsOnYXIgYXR1YWxpemHDp8OjbyAocXVlYnJhciBjYWNoZSlcclxuICAgICAgY29uc3Qgc2VwYXJhdG9yID0gY2xlYW5VcmwuaW5jbHVkZXMoJz8nKSA/ICcmJyA6ICc/JztcclxuICAgICAgcmV0dXJuIGAke2NsZWFuVXJsfSR7c2VwYXJhdG9yfXQ9JHtEYXRlLm5vdygpfWA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g4pyFIENPUlJFw4fDg08gMzogU2UgZm9yIHBhdGggcmVsYXRpdm8sIGNvbnN0cnVpciBVUkwgZG8gU3VwYWJhc2VcclxuICAgIC8vIERldGVjdGFyIGJ1Y2tldCBjb3JyZXRvXHJcbiAgICBsZXQgYnVja2V0TmFtZSA9ICdhdmF0YXJzJztcclxuICAgIGlmIChjbGVhblVybC5pbmNsdWRlcygncGhvdG9zLycpIHx8IGNsZWFuVXJsLnN0YXJ0c1dpdGgoJ3Bob3Rvcy8nKSkge1xyXG4gICAgICBidWNrZXROYW1lID0gJ3Bob3Rvcyc7XHJcbiAgICB9IGVsc2UgaWYgKGNsZWFuVXJsLmluY2x1ZGVzKCdldmVudC1waG90b3MvJykpIHtcclxuICAgICAgYnVja2V0TmFtZSA9ICdldmVudC1waG90b3MnO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gc3VwYWJhc2Uuc3RvcmFnZVxyXG4gICAgICAgIC5mcm9tKGJ1Y2tldE5hbWUpXHJcbiAgICAgICAgLmdldFB1YmxpY1VybChjbGVhblVybCk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gYCR7ZGF0YS5wdWJsaWNVcmx9P3Q9JHtEYXRlLm5vdygpfWA7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNvbnN0cnVpciBVUkwgZG8gYXZhdGFyOicsIGVycm9yKTtcclxuICAgICAgLy8gUmV0b3JuYXIgZmFsbGJhY2sgZW0gY2FzbyBkZSBlcnJvXHJcbiAgICAgIHJldHVybiBgaHR0cHM6Ly91aS1hdmF0YXJzLmNvbS9hcGkvP25hbWU9JHtlbmNvZGVVUklDb21wb25lbnQoXHJcbiAgICAgICAgcHJvZmlsZT8udXNlcm5hbWUgfHwgcHJvZmlsZT8uZnVsbF9uYW1lIHx8IG5hbWVGYWxsYmFja1xyXG4gICAgICApfSZiYWNrZ3JvdW5kPThiNWNmNiZjb2xvcj1mZmYmc2l6ZT00MGA7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgbG9hZEV2ZW50cyA9IGFzeW5jICgpID0+IHtcclxuICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICBzZXRFcnJvcihudWxsKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCB7IGRhdGEsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdldmVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICAgKixcclxuICAgICAgICAgIHBhcnRuZXI6cGFydG5lcnMoaWQsIG5hbWUsIGFkZHJlc3MpLFxyXG4gICAgICAgICAgY3JlYXRvcjpwcm9maWxlcyFldmVudHNfY3JlYXRvcl9pZF9ma2V5KFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgdXNlcm5hbWUsXHJcbiAgICAgICAgICAgIGF2YXRhcl91cmwsXHJcbiAgICAgICAgICAgIGZ1bGxfbmFtZSxcclxuICAgICAgICAgICAgcHVibGljX3Byb2ZpbGVcclxuICAgICAgICAgIClcclxuICAgICAgICBgKVxyXG4gICAgICAgIC5vcmRlcignc3RhcnRfdGltZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgICAgLy8gRmFsbGJhY2tzXHJcbiAgICAgIGlmIChmZXRjaEVycm9yICYmICFkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdFcnJvIGNvbSBqb2luIGNvbXBsZXRvLCB0ZW50YW5kbyBzZW0gY3JlYXRvcjonLCBmZXRjaEVycm9yKTtcclxuICAgICAgICBjb25zdCBmYWxsYmFjayA9IGF3YWl0IHN1cGFiYXNlLmZyb20oJ2V2ZW50cycpLnNlbGVjdChgKiwgcGFydG5lcjpwYXJ0bmVycyhpZCwgbmFtZSwgYWRkcmVzcylgKS5vcmRlcignc3RhcnRfdGltZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG4gICAgICAgIGRhdGEgPSBmYWxsYmFjay5kYXRhO1xyXG4gICAgICAgIGZldGNoRXJyb3IgPSBmYWxsYmFjay5lcnJvcjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZmV0Y2hFcnJvciAmJiAhZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRXJybyBjb20gam9pbnMsIGNhcnJlZ2FuZG8gYXBlbmFzIGV2ZW50b3M6JywgZmV0Y2hFcnJvcik7XHJcbiAgICAgICAgY29uc3Qgc2ltcGxlID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgnZXZlbnRzJykuc2VsZWN0KCcqJykub3JkZXIoJ3N0YXJ0X3RpbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcclxuICAgICAgICBkYXRhID0gc2ltcGxlLmRhdGE7XHJcbiAgICAgICAgZmV0Y2hFcnJvciA9IHNpbXBsZS5lcnJvcjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZmV0Y2hFcnJvcikgdGhyb3cgZmV0Y2hFcnJvcjtcclxuICAgICAgaWYgKCFkYXRhKSBkYXRhID0gW107XHJcblxyXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBjb25zdCB2YWxpZEV2ZW50cyA9IGRhdGEuZmlsdGVyKGV2ZW50ID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGUgPSBuZXcgRGF0ZShldmVudC5zdGFydF90aW1lKTtcclxuICAgICAgICAgICAgaWYgKGlzTmFOKGV2ZW50RGF0ZS5nZXRUaW1lKCkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJEYXRhIGludsOhbGlkYSBlbmNvbnRyYWRhIHBhcmEgZXZlbnRvIElEOlwiLCBldmVudC5pZCwgXCJEYXRhOlwiLCBldmVudC5zdGFydF90aW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBpc0Z1dHVyZSA9IGV2ZW50RGF0ZSA+PSBub3c7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1c0xvd2VyID0gdHlwZW9mIGV2ZW50LnN0YXR1cyA9PT0gJ3N0cmluZycgPyBldmVudC5zdGF0dXMudG9Mb3dlckNhc2UoKSA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBoYXNWYWxpZFN0YXR1cyA9IFsnYWJlcnRvJywgJ2NvbmZpcm1hZG8nXS5pbmNsdWRlcyhzdGF0dXNMb3dlcik7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0Z1dHVyZSAmJiBoYXNWYWxpZFN0YXR1cztcclxuICAgICAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm8gYW8gcHJvY2Vzc2FyIGRhdGEgZG8gZXZlbnRvOlwiLCBldmVudC5pZCwgZXZlbnQuc3RhcnRfdGltZSwgZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2V0RXZlbnRzKHZhbGlkRXZlbnRzKTtcclxuXHJcbiAgICAgIC8vIOKchSBDT1JSRcOHw4NPOiBCdXNjYSBwYXJ0aWNpcGFudGVzIGVtIGxvdGUgY29tIGZvcmVpZ24ga2V5IGNvcnJldGFcclxuICAgICAgaWYgKHZhbGlkRXZlbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCBldmVudElkcyA9IHZhbGlkRXZlbnRzLm1hcChlID0+IGUuaWQpO1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogcGFydGljaXBhdGlvbnNEYXRhLCBlcnJvcjogcGFydGljaXBhbnRzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnZXZlbnRfcGFydGljaXBhbnRzJylcclxuICAgICAgICAgIC5zZWxlY3QoJ2V2ZW50X2lkLCB1c2VyX2lkLCBwcm9maWxlcyhpZCwgdXNlcm5hbWUsIGF2YXRhcl91cmwsIGZ1bGxfbmFtZSwgcHVibGljX3Byb2ZpbGUpJylcclxuXHJcbiAgICAgICAgICAuaW4oJ2V2ZW50X2lkJywgZXZlbnRJZHMpXHJcbiAgICAgICAgICAuZXEoJ3N0YXR1cycsICdhcHJvdmFkbycpO1xyXG5cclxuICAgICAgICBpZiAocGFydGljaXBhbnRzRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvIGFvIGJ1c2NhciBwYXJ0aWNpcGFudGVzOlwiLCBwYXJ0aWNpcGFudHNFcnJvcik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwYXJ0aWNpcGF0aW9uc0RhdGEpIHtcclxuICAgICAgICAgIC8vIOKchSBDT1JSRcOHw4NPOiBwcm9maWxlcyBhbyBpbnbDqXMgZGUgcHJvZmlsZVxyXG4gICAgICAgICAgY29uc3QgcGFydGljaXBhbnRzTWFwID0gcGFydGljaXBhdGlvbnNEYXRhLnJlZHVjZSgoYWNjLCBwYXJ0aWNpcGF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcGFydGljaXBhdGlvbi5wcm9maWxlcykgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRJZCA9IHBhcnRpY2lwYXRpb24uZXZlbnRfaWQ7XHJcbiAgICAgICAgICAgIGlmICghYWNjW2V2ZW50SWRdKSBhY2NbZXZlbnRJZF0gPSBbXTtcclxuICAgICAgICAgICAgYWNjW2V2ZW50SWRdLnB1c2gocGFydGljaXBhdGlvbi5wcm9maWxlcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgICBzZXRFdmVudFBhcnRpY2lwYW50c01hcChwYXJ0aWNpcGFudHNNYXApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRFdmVudFBhcnRpY2lwYW50c01hcCh7fSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNhcnJlZ2FyIGV2ZW50b3M6JywgZXJyb3IpO1xyXG4gICAgICBzZXRFcnJvcignRXJybyBhbyBjYXJyZWdhciBldmVudG9zLiBUZW50ZSBub3ZhbWVudGUuJyk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBmaWx0ZXJFdmVudHMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBsZXQgZmlsdGVyZWQgPSBldmVudHM7XHJcblxyXG4gICAgaWYgKHNlYXJjaFRlcm0pIHtcclxuICAgICAgY29uc3QgbG93ZXJTZWFyY2ggPSBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGUgPT5cclxuICAgICAgICBlLnRpdGxlPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGxvd2VyU2VhcmNoKSB8fFxyXG4gICAgICAgIGUuZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJTZWFyY2gpIHx8XHJcbiAgICAgICAgZS5oYXNodGFncz8uc29tZSh0YWcgPT4gdGFnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJTZWFyY2gpKSB8fFxyXG4gICAgICAgIGUuY3JlYXRvcj8udXNlcm5hbWU/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJTZWFyY2gpIHx8XHJcbiAgICAgICAgZS5wYXJ0bmVyPy5uYW1lPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGxvd2VyU2VhcmNoKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZWxlY3RlZFR5cGUgIT09ICd0b2RvcycpIHtcclxuICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihlID0+IGUuZXZlbnRfdHlwZSA9PT0gc2VsZWN0ZWRUeXBlIHx8IChzZWxlY3RlZFR5cGUgPT09ICdjcnVzaGVyJyAmJiBlLmV2ZW50X3R5cGUgPT09ICdNZXNhcHJhMicpKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRGaWx0ZXJlZEV2ZW50cyhmaWx0ZXJlZCk7XHJcbiAgfSwgW2V2ZW50cywgc2VhcmNoVGVybSwgc2VsZWN0ZWRUeXBlXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBmaWx0ZXJFdmVudHMoKTtcclxuICB9LCBbZmlsdGVyRXZlbnRzXSk7XHJcblxyXG4gIGNvbnN0IGV2ZW50VHlwZXMgPSBbXHJcbiAgICB7IHZhbHVlOiAndG9kb3MnLCBsYWJlbDogJ1RvZG9zJyB9LFxyXG4gICAgeyB2YWx1ZTogJ3BhZHJhbycsIGxhYmVsOiAnUGFkcsOjbycgfSxcclxuICAgIHsgdmFsdWU6ICdwYXJ0aWN1bGFyJywgbGFiZWw6ICdQYXJ0aWN1bGFyJyB9LFxyXG4gICAgeyB2YWx1ZTogJ2NydXNoZXInLCBsYWJlbDogJ01lc2FwcmEyJyB9LFxyXG4gICAgeyB2YWx1ZTogJ2luc3RpdHVjaW9uYWwnLCBsYWJlbDogJ0luc3RpdHVjaW9uYWwnIH0sXHJcbiAgXTtcclxuXHJcbiAgY29uc3QgZ2V0UGFydG5lckFkZHJlc3MgPSAocGFydG5lcikgPT4ge1xyXG4gICAgaWYgKCFwYXJ0bmVyKSByZXR1cm4gJ0xvY2FsIG7Do28gaW5mb3JtYWRvJztcclxuICAgIGlmICghcGFydG5lci5hZGRyZXNzKSByZXR1cm4gcGFydG5lci5uYW1lO1xyXG5cclxuICAgIGlmICh0eXBlb2YgcGFydG5lci5hZGRyZXNzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UocGFydG5lci5hZGRyZXNzKTtcclxuICAgICAgICAgICAgaWYgKHBhcnNlZC5jaXR5IHx8IHBhcnNlZC5jaWRhZGUpIHJldHVybiBgJHtwYXJ0bmVyLm5hbWV9IC0gJHtwYXJzZWQuY2l0eSB8fCBwYXJzZWQuY2lkYWRlfWA7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBFbmRlcmXDp28gbsOjbyDDqSBKU09OXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgJHtwYXJ0bmVyLm5hbWV9IC0gJHtwYXJ0bmVyLmFkZHJlc3N9YDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHBhcnRuZXIuYWRkcmVzcyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgY29uc3QgcGFydHMgPSBbXHJcbiAgICAgICAgcGFydG5lci5hZGRyZXNzLnN0cmVldCB8fCBwYXJ0bmVyLmFkZHJlc3MucnVhLFxyXG4gICAgICAgIHBhcnRuZXIuYWRkcmVzcy5jaXR5IHx8IHBhcnRuZXIuYWRkcmVzcy5jaWRhZGUsXHJcbiAgICAgIF0uZmlsdGVyKEJvb2xlYW4pO1xyXG4gICAgICByZXR1cm4gcGFydHMubGVuZ3RoID4gMCA/IGAke3BhcnRuZXIubmFtZX0gLSAke3BhcnRzLmpvaW4oJywgJyl9YCA6IHBhcnRuZXIubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGFydG5lci5uYW1lO1xyXG4gIH07XHJcblxyXG4gIGlmIChsb2FkaW5nKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLVtjYWxjKDEwMHZoLTIwMHB4KV1cIj5cclxuICAgICAgICA8Q2FsZW5kYXIgY2xhc3NOYW1lPVwidy0xNiBoLTE2IHRleHQtd2hpdGUvNDAgYW5pbWF0ZS1zcGluXCIgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaWYgKGVycm9yKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLVtjYWxjKDEwMHZoLTIwMHB4KV1cIj5cclxuICAgICAgICA8Q2FsZW5kYXIgY2xhc3NOYW1lPVwidy0xNiBoLTE2IHRleHQtcmVkLTQwMCBtYi00XCIgLz5cclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzYwIHRleHQtbGcgbWItNFwiPntlcnJvcn08L3A+XHJcbiAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtsb2FkRXZlbnRzfSBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDBcIj5cclxuICAgICAgICAgIFRlbnRhciBOb3ZhbWVudGVcclxuICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIDxIZWxtZXQ+XHJcbiAgICAgICAgPHRpdGxlPkV2ZW50b3MgLSBNZXNhcHJhMjwvdGl0bGU+XHJcbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cIkRlc2N1YnJhIGV2ZW50b3Mgc29jaWFpcyBpbmNyw612ZWlzIGVtIHJlc3RhdXJhbnRlcy4gRW5jb250cmUgcGVzc29hcyBjb20gaW50ZXJlc3NlcyBzaW1pbGFyZXMuXCIgLz5cclxuICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cIm9nOnR5cGVcIiBjb250ZW50PVwid2Vic2l0ZVwiIC8+XHJcbiAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzp0aXRsZVwiIGNvbnRlbnQ9XCJNZXNhcHJhMiAtIERlc2N1YnJhIEV2ZW50b3MgSW5jcsOtdmVpc1wiIC8+XHJcbiAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzpkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJQYXJ0aWNpcGUgZGUgZXhwZXJpw6puY2lhcyBnYXN0cm9uw7RtaWNhcyDDum5pY2FzIGUgY29uZWN0ZS1zZSBjb20gcGVzc29hcyBkZSB2ZXJkYWRlLlwiIC8+XHJcbiAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzppbWFnZVwiIGNvbnRlbnQ9XCJodHRwczovL2FwcC5tZXNhcHJhMi5jb20vb2ctZGVmYXVsdC5qcGdcIiAvPlxyXG4gICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6dXJsXCIgY29udGVudD1cImh0dHBzOi8vYXBwLm1lc2FwcmEyLmNvbS9ldmVudG9zXCIgLz5cclxuICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cIm9nOnNpdGVfbmFtZVwiIGNvbnRlbnQ9XCJNZXNhcHJhMlwiIC8+XHJcbiAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzpsb2NhbGVcIiBjb250ZW50PVwicHRfQlJcIiAvPlxyXG4gICAgICA8L0hlbG1ldD5cclxuXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS04IHB5LTYgcHgtNFwiPlxyXG4gICAgICAgIHsvKiBIRUFERVIgQ09NIEJPVMODTyBDUklBUiAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgbWQ6ZmxleC1yb3cgbWQ6aXRlbXMtY2VudGVyIG1kOmp1c3RpZnktYmV0d2VlbiBnYXAtNFwiPlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtNHhsIGZvbnQtYm9sZCBncmFkaWVudC10ZXh0IG1iLTJcIj5cclxuICAgICAgICAgICAgICBEZXNjdWJyYSBFdmVudG9zXHJcbiAgICAgICAgICAgIDwvaDE+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNjAgdGV4dC1sZ1wiPlxyXG4gICAgICAgICAgICAgIEVuY29udHJlIGV4cGVyacOqbmNpYXMgaW5jcsOtdmVpcyBlIGNvbmVjdGUtc2UgY29tIHBlc3NvYXNcclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICB7ZmlsdGVyZWRFdmVudHMubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS80MCB0ZXh0LXNtIG10LTJcIj5cclxuICAgICAgICAgICAgICAgIHtmaWx0ZXJlZEV2ZW50cy5sZW5ndGh9IHtmaWx0ZXJlZEV2ZW50cy5sZW5ndGggPT09IDEgPyAnZXZlbnRvIGVuY29udHJhZG8nIDogJ2V2ZW50b3MgZW5jb250cmFkb3MnfVxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxMaW5rIHRvPVwiL2NyaWFyLWV2ZW50b1wiPlxyXG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAwIHRvLXBpbmstNTAwIGhvdmVyOmZyb20tcHVycGxlLTYwMCBob3Zlcjp0by1waW5rLTYwMCBmb250LXNlbWlib2xkIHdoaXRlc3BhY2Utbm93cmFwXCI+XHJcbiAgICAgICAgICAgICAgPFBsdXMgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yXCIgLz5cclxuICAgICAgICAgICAgICBDcmlhciBFdmVudG9cclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIHsvKiBTZWFyY2ggYW5kIEZpbHRlcnMgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3Qgcm91bmRlZC0yeGwgcC02IGJvcmRlciBib3JkZXItd2hpdGUvMTBcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtZDpmbGV4LXJvdyBnYXAtNFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiB3LTUgaC01IHRleHQtd2hpdGUvNDBcIiAvPlxyXG4gICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJCdXNjYXIgZXZlbnRvcywgaGFzaHRhZ3MsIGxvY2FsLCBjcmlhZG9yLi4uXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBsLTEwIGdsYXNzLWVmZmVjdCBib3JkZXItd2hpdGUvMTBcIlxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgb3ZlcmZsb3cteC1hdXRvIHBiLTJcIj5cclxuICAgICAgICAgICAgICB7ZXZlbnRUeXBlcy5tYXAoKHR5cGUpID0+IChcclxuICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAga2V5PXt0eXBlLnZhbHVlfVxyXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PXtzZWxlY3RlZFR5cGUgPT09IHR5cGUudmFsdWUgPyAnZGVmYXVsdCcgOiAnb3V0bGluZSd9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkVHlwZSh0eXBlLnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgd2hpdGVzcGFjZS1ub3dyYXAgJHtzZWxlY3RlZFR5cGUgPT09IHR5cGUudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTUwMCB0by1waW5rLTUwMCdcclxuICAgICAgICAgICAgICAgICAgICA6ICdnbGFzcy1lZmZlY3QgYm9yZGVyLXdoaXRlLzEwJ1xyXG4gICAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge3R5cGUubGFiZWx9XHJcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIEV2ZW50cyBHcmlkICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyBnYXAtNlwiPlxyXG4gICAgICAgICAge2ZpbHRlcmVkRXZlbnRzLm1hcCgoZXZlbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50c0ZvckV2ZW50ID0gZXZlbnRQYXJ0aWNpcGFudHNNYXBbZXZlbnQuaWRdIHx8IFtdO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgICAgICAga2V5PXtldmVudC5pZH1cclxuICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogMjAgfX1cclxuICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkZWxheTogaW5kZXggKiAwLjA1IH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPExpbmsgdG89e2AvZXZlbnQvJHtldmVudC5pZH1gfT5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3Qgcm91bmRlZC0yeGwgcC02IGJvcmRlciBib3JkZXItd2hpdGUvMTAgaG92ZXI6Ymctd2hpdGUvNSB0cmFuc2l0aW9uLWNvbG9ycyBjdXJzb3ItcG9pbnRlciBoLWZ1bGwgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWJldHdlZW5cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAge2V2ZW50LmNyZWF0b3IgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2BhdmF0YXItY3JlYXRvci0ke2V2ZW50LmNyZWF0b3IuaWR9LSR7ZXZlbnQuY3JlYXRvci5hdmF0YXJfdXJsIHx8ICdkZWZhdWx0J31gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw9e2dldEF2YXRhclVybChldmVudC5jcmVhdG9yKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT17ZXZlbnQuY3JlYXRvci51c2VybmFtZSB8fCBldmVudC5jcmVhdG9yLmZ1bGxfbmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQdWJsaWM9e2V2ZW50LmNyZWF0b3IucHVibGljX3Byb2ZpbGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J21pbi13LTAnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS84MCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRydW5jYXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtldmVudC5jcmVhdG9yLnVzZXJuYW1lIHx8IGV2ZW50LmNyZWF0b3IuZnVsbF9uYW1lIHx8ICdBbmZpdHJpw6NvJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNTAgdGV4dC14c1wiPk9yZ2FuaXphZG9yPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yIGZsZXgtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHB4LTIgcHktMSByb3VuZGVkLWZ1bGwgdGV4dC14cyBmb250LW1lZGl1bSAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmV2ZW50X3R5cGUgPT09ICdjcnVzaGVyJyB8fCBldmVudC5ldmVudF90eXBlID09PSAnTWVzYXByYTInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1waW5rLTUwMC8yMCB0ZXh0LXBpbmstMzAwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBldmVudC5ldmVudF90eXBlID09PSAnaW5zdGl0dWNpb25hbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtNTAwLzIwIHRleHQtYmx1ZS0zMDAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGV2ZW50LmV2ZW50X3R5cGUgPT09ICdwYXJ0aWN1bGFyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctcHVycGxlLTUwMC8yMCB0ZXh0LXB1cnBsZS0zMDAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmVlbi01MDAvMjAgdGV4dC1ncmVlbi0zMDAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2V2ZW50LmV2ZW50X3R5cGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHgtMiBweS0xIHJvdW5kZWQtZnVsbCB0ZXh0LXhzIGZvbnQtbWVkaXVtIGJnLWdyZWVuLTUwMC8yMCB0ZXh0LWdyZWVuLTMwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXZlbnQuc3RhdHVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBtYi0yIGxpbmUtY2xhbXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2V2ZW50LnRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MCB0ZXh0LXNtIGxpbmUtY2xhbXAtMiBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXZlbnQuZGVzY3JpcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC13aGl0ZS82MCB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENhbGVuZGFyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMiBmbGV4LXNocmluay0wXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cnVuY2F0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdChuZXcgRGF0ZShldmVudC5zdGFydF90aW1lKSwgXCJkZC9NTSAnw6BzJyBISDptbVwiLCB7IGxvY2FsZTogcHRCUiB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXdoaXRlLzYwIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yIGZsZXgtc2hyaW5rLTBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRydW5jYXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdMOpIHtmb3JtYXQobmV3IERhdGUoZXZlbnQuZW5kX3RpbWUpLCBcIkhIOm1tXCIsIHsgbG9jYWxlOiBwdEJSIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQtd2hpdGUvNjAgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxNYXBQaW4gY2xhc3NOYW1lPVwidy00IGgtNCBtci0yIGZsZXgtc2hyaW5rLTBcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRydW5jYXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0UGFydG5lckFkZHJlc3MoZXZlbnQucGFydG5lcil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdGV4dC13aGl0ZS82MCB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMiBmbGV4LXNocmluay0wXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXZlbnQudmFnYXN9IHtldmVudC52YWdhcyA9PT0gMSA/ICd2YWdhIGRpc3BvbsOtdmVsJyA6ICd2YWdhcyBkaXNwb27DrXZlaXMnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIHtldmVudC5oYXNodGFncyAmJiBldmVudC5oYXNodGFncy5sZW5ndGggPiAwICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yIG10LTRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtldmVudC5oYXNodGFncy5zbGljZSgwLCAzKS5tYXAoKHRhZywgaSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAvMjAgdGV4dC1wdXJwbGUtMzAwIHRleHQteHMgZmxleCBpdGVtcy1jZW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhZyBjbGFzc05hbWU9XCJ3LTMgaC0zIG1yLTFcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICN7dGFnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtldmVudC5oYXNodGFncy5sZW5ndGggPiAzICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicHgtMiBweS0xIHJvdW5kZWQtZnVsbCBiZy13aGl0ZS8xMCB0ZXh0LXdoaXRlLzYwIHRleHQteHNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAre2V2ZW50Lmhhc2h0YWdzLmxlbmd0aCAtIDN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwdC00IGJvcmRlci10IGJvcmRlci13aGl0ZS8xMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge3BhcnRpY2lwYW50c0ZvckV2ZW50Lmxlbmd0aCA+IDAgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC13aGl0ZS84MCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcnRpY2lwYW50ZXMgQXByb3ZhZG9zICh7cGFydGljaXBhbnRzRm9yRXZlbnQubGVuZ3RofSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhcnRpY2lwYW50c0ZvckV2ZW50LnNsaWNlKDAsIDUpLm1hcChwYXJ0aWNpcGFudCA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2BhdmF0YXItcGFydGljaXBhbnQtJHtwYXJ0aWNpcGFudC5pZH0tJHtwYXJ0aWNpcGFudC5hdmF0YXJfdXJsIHx8ICdkZWZhdWx0J31gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw9e2dldEF2YXRhclVybChwYXJ0aWNpcGFudCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e3BhcnRpY2lwYW50LnVzZXJuYW1lIHx8IHBhcnRpY2lwYW50LmZ1bGxfbmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInhzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQdWJsaWM9e3BhcnRpY2lwYW50LnB1YmxpY19wcm9maWxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFydGljaXBhbnRzRm9yRXZlbnQubGVuZ3RoID4gNSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgcm91bmRlZC1mdWxsIGJnLWdyYXktNzAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHMgdGV4dC13aGl0ZS83MCBib3JkZXItMiBib3JkZXItYmFja2dyb3VuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAre3BhcnRpY2lwYW50c0ZvckV2ZW50Lmxlbmd0aCAtIDV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtd2hpdGUvNTBcIj5TZWphIG8gcHJpbWVpcm8gYSBwYXJ0aWNpcGFyITwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSl9XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIHtmaWx0ZXJlZEV2ZW50cy5sZW5ndGggPT09IDAgJiYgIWxvYWRpbmcgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3Qgcm91bmRlZC0yeGwgcC0xMiBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIHRleHQtY2VudGVyIG10LThcIj5cclxuICAgICAgICAgICAgPENhbGVuZGFyIGNsYXNzTmFtZT1cInctMTYgaC0xNiB0ZXh0LXdoaXRlLzIwIG14LWF1dG8gbWItNFwiIC8+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNjAgdGV4dC1sZyBtYi00XCI+XHJcbiAgICAgICAgICAgICAge2V2ZW50cy5sZW5ndGggPT09IDBcclxuICAgICAgICAgICAgICAgID8gJ05lbmh1bSBldmVudG8gZGlzcG9uw612ZWwgbm8gbW9tZW50bydcclxuICAgICAgICAgICAgICAgIDogJ05lbmh1bSBldmVudG8gZW5jb250cmFkbyBjb20gZXNzZXMgZmlsdHJvcyd9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS80MCB0ZXh0LXNtIG1iLTZcIj5cclxuICAgICAgICAgICAgICB7ZXZlbnRzLmxlbmd0aCA9PT0gMFxyXG4gICAgICAgICAgICAgICAgPyAnU2VqYSBvIHByaW1laXJvIGEgY3JpYXIgdW0gZXZlbnRvIGluY3LDrXZlbCEnXHJcbiAgICAgICAgICAgICAgICA6ICdUZW50ZSBhanVzdGFyIHNldXMgZmlsdHJvcyBvdSBjcmlhciB1bSBub3ZvIGV2ZW50byd9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPExpbmsgdG89XCIvY3JpYXItZXZlbnRvXCI+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTUwMCB0by1waW5rLTUwMCBob3Zlcjpmcm9tLXB1cnBsZS02MDAgaG92ZXI6dG8tcGluay02MDBcIj5cclxuICAgICAgICAgICAgICAgIDxQbHVzIGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICB7ZXZlbnRzLmxlbmd0aCA9PT0gMCA/ICdDcmlhciBQcmltZWlybyBFdmVudG8nIDogJ0NyaWFyIE5vdm8gRXZlbnRvJ31cclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICA8Lz5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRXZlbnRzUGFnZTsiXSwidmVyc2lvbiI6M30=