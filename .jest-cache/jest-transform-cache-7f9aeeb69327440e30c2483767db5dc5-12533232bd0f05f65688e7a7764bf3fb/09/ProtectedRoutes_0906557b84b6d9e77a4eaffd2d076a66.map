{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\ProtectedRoutes.jsx","mappings":";;;;;AAAA,0BAA0B;AAC1B,oEAAmC,CAAC,oBAAoB;AACxD,uDAAoD;AACpD,wDAAiD;AAE1C,MAAM,cAAc,GAAG,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE;IAC7C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,qBAAO,GAAE,CAAC;IAC7C,MAAM,SAAS,GAAG,OAAO,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC;IAEhD,IAAI,SAAS,EAAE,CAAC;QACd,OAAO,CACL,gCAAK,SAAS,EAAC,kEAAkE,YAC/E,gCAAK,SAAS,EAAC,0EAA0E,GAAO,GAC5F,CACP,CAAC;IACJ,CAAC;IAED,IAAI,CAAC,IAAI,EAAE,CAAC;QACV,OAAO,uBAAC,2BAAQ,IAAC,EAAE,EAAC,QAAQ,EAAC,OAAO,SAAG,CAAC;IAC1C,CAAC;IAED,OAAO,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,uBAAC,yBAAM,KAAG,CAAC;AAC1C,CAAC,CAAC;AAjBW,QAAA,cAAc,kBAiBzB;AAEF,sBAAc,CAAC,SAAS,GAAG;IACzB,QAAQ,EAAE,oBAAS,CAAC,IAAI;CACzB,CAAC;AAEK,MAAM,kBAAkB,GAAG,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE;IACjD,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,qBAAO,GAAE,CAAC;IAC9B,MAAM,SAAS,GAAG,OAAO,EAAE,YAAY,KAAK,SAAS,IAAI,OAAO,EAAE,UAAU,IAAI,IAAI,CAAC;IAErF,IAAI,SAAS,EAAE,CAAC;QACd,OAAO,uBAAC,2BAAQ,IAAC,EAAE,EAAC,oBAAoB,EAAC,OAAO,SAAG,CAAC;IACtD,CAAC;IAED,OAAO,uBAAC,sBAAc,cAAE,QAAQ,GAAkB,CAAC;AACrD,CAAC,CAAC;AATW,QAAA,kBAAkB,sBAS7B;AAEF,0BAAkB,CAAC,SAAS,GAAG;IAC7B,QAAQ,EAAE,oBAAS,CAAC,IAAI,CAAC,UAAU;CACpC,CAAC;AAEK,MAAM,qBAAqB,GAAG,CAAC,EAAE,QAAQ,EAAE,EAAE,EAAE;IACpD,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,qBAAO,GAAE,CAAC;IAC9B,MAAM,SAAS,GAAG,OAAO,EAAE,YAAY,KAAK,SAAS,IAAI,OAAO,EAAE,UAAU,IAAI,IAAI,CAAC;IAErF,IAAI,CAAC,SAAS,EAAE,CAAC;QACf,OAAO,uBAAC,2BAAQ,IAAC,EAAE,EAAC,YAAY,EAAC,OAAO,SAAG,CAAC;IAC9C,CAAC;IAED,OAAO,uBAAC,sBAAc,cAAE,QAAQ,GAAkB,CAAC;AACrD,CAAC,CAAC;AATW,QAAA,qBAAqB,yBAShC;AAEF,6BAAqB,CAAC,SAAS,GAAG;IAChC,QAAQ,EAAE,oBAAS,CAAC,IAAI,CAAC,UAAU;CACpC,CAAC","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\ProtectedRoutes.jsx"],"sourcesContent":["// src/ProtectedRoutes.jsx\r\nimport PropTypes from 'prop-types'; // Importe PropTypes\r\nimport { Navigate, Outlet } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\nexport const ProtectedRoute = ({ children }) => {\r\n  const { user, loading, profile } = useAuth();\r\n  const isLoading = loading || (user && !profile);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"w-screen h-screen flex items-center justify-center bg-background\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n\r\n  return children ? children : <Outlet />;\r\n};\r\n\r\nProtectedRoute.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport const ProtectedUserRoute = ({ children }) => {\r\n  const { profile } = useAuth();\r\n  const isPartner = profile?.profile_type === 'partner' || profile?.partner_id != null;\r\n\r\n  if (isPartner) {\r\n    return <Navigate to=\"/partner/dashboard\" replace />;\r\n  }\r\n\r\n  return <ProtectedRoute>{children}</ProtectedRoute>;\r\n};\r\n\r\nProtectedUserRoute.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport const ProtectedPartnerRoute = ({ children }) => {\r\n  const { profile } = useAuth();\r\n  const isPartner = profile?.profile_type === 'partner' || profile?.partner_id != null;\r\n\r\n  if (!isPartner) {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n\r\n  return <ProtectedRoute>{children}</ProtectedRoute>;\r\n};\r\n\r\nProtectedPartnerRoute.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};"],"version":3}