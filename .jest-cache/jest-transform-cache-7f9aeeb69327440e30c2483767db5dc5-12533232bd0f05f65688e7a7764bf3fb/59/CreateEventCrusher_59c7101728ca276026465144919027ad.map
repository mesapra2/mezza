{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\user\\pages\\CreateEventCrusher.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\user\\pages\\CreateEventCrusher.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { motion } from 'framer-motion';\r\nimport { Heart, Loader, ArrowLeft, AlertCircle } from 'lucide-react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Button } from '@/features/shared/components/ui/button';\r\nimport { Input } from '@/features/shared/components/ui/input';\r\nimport { Label } from '@/features/shared/components/ui/label';\r\nimport { Textarea } from '@/features/shared/components/ui/textarea';\r\nimport { toast } from '@/features/shared/components/ui/use-toast';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport EventHashtagSelector from '@/features/shared/components/events/EventHashtagSelector';\r\nimport NotificationService from '@/services/NotificationService';\r\n\r\nconst CreateEventCrusher = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const invitedUserId = searchParams.get('invite'); // ID da pessoa convidada\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingUser, setLoadingUser] = useState(true);\r\n  const [invitedUser, setInvitedUser] = useState(null);\r\n  const [showHashtagError, setShowHashtagError] = useState(false);\r\n  \r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    hashtags: [],\r\n    cep: '',\r\n    endereco_completo: '',\r\n    start_time: '',\r\n    end_time: '',\r\n    acceptedTerms: false,\r\n  });\r\n\r\n  // Carregar dados do usu√°rio convidado\r\n  useEffect(() => {\r\n    if (!invitedUserId) {\r\n      toast({\r\n        variant: \"destructive\",\r\n        title: \"Erro\",\r\n        description: \"Nenhuma pessoa foi selecionada para o convite.\",\r\n      });\r\n      navigate('/people');\r\n      return;\r\n    }\r\n\r\n    const fetchInvitedUser = async () => {\r\n      try {\r\n        const { data, error } = await supabase\r\n          .from('profiles')\r\n          .select('id, username, full_name, avatar_url, allow_pokes')\r\n          .eq('id', invitedUserId)\r\n          .single();\r\n\r\n        if (error) throw error;\r\n\r\n        if (data.allow_pokes === true) {\r\n          toast({\r\n            variant: \"destructive\",\r\n            title: \"Ops!\",\r\n            description: \"Esta pessoa aceita cutucadas. Use o bot√£o Cutucar!\",\r\n          });\r\n          navigate('/people');\r\n          return;\r\n        }\r\n\r\n        setInvitedUser(data);\r\n      } catch (error) {\r\n        console.error('Erro ao carregar usu√°rio:', error);\r\n        toast({\r\n          variant: \"destructive\",\r\n          title: \"Erro\",\r\n          description: \"N√£o foi poss√≠vel carregar os dados da pessoa.\",\r\n        });\r\n        navigate('/people');\r\n      } finally {\r\n        setLoadingUser(false);\r\n      }\r\n    };\r\n\r\n    fetchInvitedUser();\r\n  }, [invitedUserId, navigate]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: type === 'checkbox' ? checked : value,\r\n    });\r\n  };\r\n\r\n  const handleHashtagsChange = (newHashtags) => {\r\n    setFormData({ ...formData, hashtags: newHashtags });\r\n    setShowHashtagError(false);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      if (!formData.acceptedTerms) {\r\n        throw new Error('Voc√™ precisa concordar com os Termos de Uso e Pol√≠ticas');\r\n      }\r\n\r\n      if (new Date(formData.start_time) >= new Date(formData.end_time)) {\r\n        throw new Error('A data de t√©rmino deve ser depois da data de in√≠cio');\r\n      }\r\n\r\n      if (!formData.cep || formData.cep.length < 8) {\r\n        throw new Error('Informe um CEP v√°lido');\r\n      }\r\n\r\n      if (!formData.endereco_completo || formData.endereco_completo.trim().length < 10) {\r\n        throw new Error('Informe o endere√ßo completo');\r\n      }\r\n\r\n      // Valida hashtag premium\r\n      const hasPremium = formData.hashtags.some(tag => \r\n        ['anivers√°rio', 'confraterniza√ß√£o', 'churrascompiscina', 'passeiodelancha', 'cinema'].includes(tag.toLowerCase())\r\n      );\r\n\r\n      if (!hasPremium) {\r\n        setShowHashtagError(true);\r\n        throw new Error('Selecione 1 hashtag premium');\r\n      }\r\n\r\n      // Cria evento Crusher\r\n      const eventData = {\r\n        creator_id: user.id,\r\n        event_type: 'crusher',\r\n        title: formData.title,\r\n        description: formData.description,\r\n        start_time: formData.start_time,\r\n        end_time: formData.end_time,\r\n        vagas: 1, // Sempre 1 vaga\r\n        max_vagas: 1,\r\n        partner_id: null,\r\n        is_paid: false,\r\n        status: 'Aberto',\r\n        hashtags: formData.hashtags,\r\n        cep: formData.cep.replace(/\\D/g, ''),\r\n        endereco_completo: formData.endereco_completo,\r\n        crusher_invited_user_id: invitedUserId, // Pessoa convidada\r\n        created_at: new Date().toISOString(),\r\n        updated_at: new Date().toISOString()\r\n      };\r\n\r\n      const { data: event, error: eventError } = await supabase\r\n        .from('events')\r\n        .insert([eventData])\r\n        .select()\r\n        .single();\r\n\r\n      if (eventError) throw eventError;\r\n\r\n      // Cria participa√ß√£o autom√°tica com status \"pendente\" (aguardando aceite)\r\n      const { error: participationError } = await supabase\r\n        .from('event_participants')\r\n        .insert({\r\n          event_id: event.id,\r\n          user_id: invitedUserId,\r\n          status: 'pendente',\r\n          mensagem_candidatura: 'Convite Crusher direto',\r\n          created_at: new Date().toISOString(),\r\n          updated_at: new Date().toISOString()\r\n        });\r\n\r\n      if (participationError) throw participationError;\r\n\r\n      // Notifica a pessoa convidada\r\n      await NotificationService.notifyCrusherInvite(\r\n        invitedUserId,\r\n        event.id,\r\n        invitedUser.username || invitedUser.full_name || 'Usu√°rio',\r\n        formData.title\r\n      );\r\n\r\n      toast({\r\n        title: \"üíò Convite Crusher Enviado!\",\r\n        description: `${invitedUser.username || invitedUser.full_name} receber√° seu convite especial.`,\r\n      });\r\n\r\n      navigate(`/meus-eventos`);\r\n    } catch (error) {\r\n      console.error('Erro ao criar evento Crusher:', error);\r\n      toast({\r\n        variant: \"destructive\",\r\n        title: \"Erro ao criar evento\",\r\n        description: error.message,\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loadingUser) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[60vh]\">\r\n        <Loader className=\"w-8 h-8 animate-spin text-purple-500\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Criar Evento Crusher - Mesapra2</title>\r\n        <meta name=\"description\" content=\"Envie um convite especial para algu√©m\" />\r\n      </Helmet>\r\n\r\n      <div className=\"max-w-3xl mx-auto py-6 px-4\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"space-y-8\"\r\n        >\r\n          {/* Header */}\r\n          <div>\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"ghost\"\r\n              onClick={() => navigate('/people')}\r\n              className=\"mb-4 text-white/60 hover:text-white\"\r\n            >\r\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n              Voltar\r\n            </Button>\r\n            \r\n            <h1 className=\"text-4xl font-bold gradient-text mb-2\">\r\n              Evento Crusher üíò\r\n            </h1>\r\n            <p className=\"text-white/60 text-lg\">\r\n              Convite especial para uma pessoa\r\n            </p>\r\n          </div>\r\n\r\n          {/* Card da Pessoa Convidada */}\r\n          <div className=\"glass-effect rounded-lg p-6 border border-pink-500/30 bg-pink-500/10\">\r\n            <div className=\"flex items-center gap-4 mb-3\">\r\n              <Heart className=\"w-6 h-6 text-pink-400\" />\r\n              <h3 className=\"text-white font-semibold text-lg\">Convidando:</h3>\r\n            </div>\r\n            <div className=\"flex items-center gap-4\">\r\n              {invitedUser.avatar_url ? (\r\n                <img\r\n                  src={invitedUser.avatar_url}\r\n                  alt={invitedUser.username}\r\n                  className=\"w-16 h-16 rounded-full object-cover border-2 border-pink-500/50\"\r\n                />\r\n              ) : (\r\n                <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold\">\r\n                  {(invitedUser.username || invitedUser.full_name || 'U')[0].toUpperCase()}\r\n                </div>\r\n              )}\r\n              <div>\r\n                <h4 className=\"text-white font-semibold\">\r\n                  {invitedUser.full_name || invitedUser.username}\r\n                </h4>\r\n                {invitedUser.username && (\r\n                  <p className=\"text-white/60 text-sm\">@{invitedUser.username}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4 p-3 bg-white/5 rounded-lg\">\r\n              <p className=\"text-white/70 text-sm\">\r\n                <AlertCircle className=\"w-4 h-4 inline mr-2\" />\r\n                Esta pessoa n√£o aceita cutucadas, ent√£o voc√™ est√° enviando um convite Crusher direto para um evento exclusivo.\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"glass-effect rounded-2xl p-8 border border-white/10 space-y-6\">\r\n            {/* T√≠tulo */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"title\">T√≠tulo do Evento</Label>\r\n              <Input\r\n                id=\"title\"\r\n                name=\"title\"\r\n                placeholder=\"Ex: Jantar Especial a Dois\"\r\n                value={formData.title}\r\n                onChange={handleChange}\r\n                className=\"glass-effect border-white/10\"\r\n                maxLength={100}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Descri√ß√£o */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"description\">Mensagem para o Convite</Label>\r\n              <Textarea\r\n                id=\"description\"\r\n                name=\"description\"\r\n                placeholder=\"Escreva uma mensagem especial explicando seu convite...\"\r\n                value={formData.description}\r\n                onChange={handleChange}\r\n                className=\"glass-effect border-white/10 min-h-[120px]\"\r\n                maxLength={500}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Hashtags */}\r\n            <div className=\"space-y-2\">\r\n              <Label>Tipo de Evento (Hashtag Premium)</Label>\r\n              <EventHashtagSelector\r\n                eventType=\"particular\"\r\n                selectedHashtags={formData.hashtags}\r\n                onChange={handleHashtagsChange}\r\n                showError={showHashtagError}\r\n              />\r\n            </div>\r\n\r\n            {/* CEP */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"cep\">CEP</Label>\r\n              <Input\r\n                id=\"cep\"\r\n                name=\"cep\"\r\n                placeholder=\"00000-000\"\r\n                value={formData.cep}\r\n                onChange={handleChange}\r\n                className=\"glass-effect border-white/10\"\r\n                maxLength={9}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Endere√ßo */}\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"endereco_completo\">Endere√ßo Completo</Label>\r\n              <Textarea\r\n                id=\"endereco_completo\"\r\n                name=\"endereco_completo\"\r\n                placeholder=\"Rua, n√∫mero, complemento, bairro, cidade...\"\r\n                value={formData.endereco_completo}\r\n                onChange={handleChange}\r\n                className=\"glass-effect border-white/10 min-h-[80px]\"\r\n                maxLength={300}\r\n                required\r\n              />\r\n            </div>\r\n\r\n            {/* Datas */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"start_time\">Data e Hora de In√≠cio</Label>\r\n                <Input\r\n                  id=\"start_time\"\r\n                  name=\"start_time\"\r\n                  type=\"datetime-local\"\r\n                  value={formData.start_time}\r\n                  onChange={handleChange}\r\n                  className=\"glass-effect border-white/10\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"end_time\">Data e Hora de T√©rmino</Label>\r\n                <Input\r\n                  id=\"end_time\"\r\n                  name=\"end_time\"\r\n                  type=\"datetime-local\"\r\n                  value={formData.end_time}\r\n                  onChange={handleChange}\r\n                  className=\"glass-effect border-white/10\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Info de 1 vaga */}\r\n            <div className=\"glass-effect rounded-lg p-4 border border-purple-500/30 bg-purple-500/10\">\r\n              <p className=\"text-white/80 text-sm\">\r\n                <Heart className=\"w-4 h-4 inline mr-2 text-pink-400\" />\r\n                Eventos Crusher t√™m apenas 1 vaga - exclusivo para a pessoa convidada.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Termos */}\r\n            <div className=\"flex items-start gap-3 glass-effect rounded-lg p-4 border border-white/10\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"acceptedTerms\"\r\n                name=\"acceptedTerms\"\r\n                checked={formData.acceptedTerms}\r\n                onChange={handleChange}\r\n                className=\"mt-1\"\r\n                required\r\n              />\r\n              <label htmlFor=\"acceptedTerms\" className=\"text-sm text-white/80\">\r\n                Concordo com os{' '}\r\n                <a href=\"#\" className=\"text-purple-400 hover:underline\">\r\n                  Termos de Uso\r\n                </a>\r\n              </label>\r\n            </div>\r\n\r\n            {/* Bot√£o Submit */}\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 h-12 text-base font-semibold\"\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <Loader className=\"w-5 h-5 mr-2 animate-spin\" />\r\n                  Enviando Convite...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Heart className=\"w-5 h-5 mr-2\" />\r\n                  Enviar Convite Crusher\r\n                </>\r\n              )}\r\n            </Button>\r\n          </form>\r\n        </motion.div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateEventCrusher;"],"version":3}