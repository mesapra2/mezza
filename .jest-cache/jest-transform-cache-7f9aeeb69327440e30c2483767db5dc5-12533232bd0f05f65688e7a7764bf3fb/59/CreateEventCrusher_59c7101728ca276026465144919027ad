1a26184b574cd15c8cbf4e1ffc4d3b48
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = tslib_1.__importStar(require("react"));
const react_helmet_async_1 = require("react-helmet-async");
const react_router_dom_1 = require("react-router-dom");
const framer_motion_1 = require("framer-motion");
const lucide_react_1 = require("lucide-react");
const AuthContext_1 = require("@/contexts/AuthContext");
const button_1 = require("@/features/shared/components/ui/button");
const input_1 = require("@/features/shared/components/ui/input");
const label_1 = require("@/features/shared/components/ui/label");
const textarea_1 = require("@/features/shared/components/ui/textarea");
const use_toast_1 = require("@/features/shared/components/ui/use-toast");
const supabaseClient_1 = require("@/lib/supabaseClient");
const EventHashtagSelector_1 = tslib_1.__importDefault(require("@/features/shared/components/events/EventHashtagSelector"));
const NotificationService_1 = tslib_1.__importDefault(require("@/services/NotificationService"));
const CreateEventCrusher = () => {
    const { user } = (0, AuthContext_1.useAuth)();
    const navigate = (0, react_router_dom_1.useNavigate)();
    const [searchParams] = (0, react_router_dom_1.useSearchParams)();
    const invitedUserId = searchParams.get('invite'); // ID da pessoa convidada
    const [loading, setLoading] = (0, react_1.useState)(false);
    const [loadingUser, setLoadingUser] = (0, react_1.useState)(true);
    const [invitedUser, setInvitedUser] = (0, react_1.useState)(null);
    const [showHashtagError, setShowHashtagError] = (0, react_1.useState)(false);
    const [formData, setFormData] = (0, react_1.useState)({
        title: '',
        description: '',
        hashtags: [],
        cep: '',
        endereco_completo: '',
        start_time: '',
        end_time: '',
        acceptedTerms: false,
    });
    // Carregar dados do usu√°rio convidado
    (0, react_1.useEffect)(() => {
        if (!invitedUserId) {
            (0, use_toast_1.toast)({
                variant: "destructive",
                title: "Erro",
                description: "Nenhuma pessoa foi selecionada para o convite.",
            });
            navigate('/people');
            return;
        }
        const fetchInvitedUser = async () => {
            try {
                const { data, error } = await supabaseClient_1.supabase
                    .from('profiles')
                    .select('id, username, full_name, avatar_url, allow_pokes')
                    .eq('id', invitedUserId)
                    .single();
                if (error)
                    throw error;
                if (data.allow_pokes === true) {
                    (0, use_toast_1.toast)({
                        variant: "destructive",
                        title: "Ops!",
                        description: "Esta pessoa aceita cutucadas. Use o bot√£o Cutucar!",
                    });
                    navigate('/people');
                    return;
                }
                setInvitedUser(data);
            }
            catch (error) {
                console.error('Erro ao carregar usu√°rio:', error);
                (0, use_toast_1.toast)({
                    variant: "destructive",
                    title: "Erro",
                    description: "N√£o foi poss√≠vel carregar os dados da pessoa.",
                });
                navigate('/people');
            }
            finally {
                setLoadingUser(false);
            }
        };
        fetchInvitedUser();
    }, [invitedUserId, navigate]);
    const handleChange = (e) => {
        const { name, value, type, checked } = e.target;
        setFormData({
            ...formData,
            [name]: type === 'checkbox' ? checked : value,
        });
    };
    const handleHashtagsChange = (newHashtags) => {
        setFormData({ ...formData, hashtags: newHashtags });
        setShowHashtagError(false);
    };
    const handleSubmit = async (e) => {
        e.preventDefault();
        setLoading(true);
        try {
            if (!formData.acceptedTerms) {
                throw new Error('Voc√™ precisa concordar com os Termos de Uso e Pol√≠ticas');
            }
            if (new Date(formData.start_time) >= new Date(formData.end_time)) {
                throw new Error('A data de t√©rmino deve ser depois da data de in√≠cio');
            }
            if (!formData.cep || formData.cep.length < 8) {
                throw new Error('Informe um CEP v√°lido');
            }
            if (!formData.endereco_completo || formData.endereco_completo.trim().length < 10) {
                throw new Error('Informe o endere√ßo completo');
            }
            // Valida hashtag premium
            const hasPremium = formData.hashtags.some(tag => ['anivers√°rio', 'confraterniza√ß√£o', 'churrascompiscina', 'passeiodelancha', 'cinema'].includes(tag.toLowerCase()));
            if (!hasPremium) {
                setShowHashtagError(true);
                throw new Error('Selecione 1 hashtag premium');
            }
            // Cria evento Crusher
            const eventData = {
                creator_id: user.id,
                event_type: 'crusher',
                title: formData.title,
                description: formData.description,
                start_time: formData.start_time,
                end_time: formData.end_time,
                vagas: 1, // Sempre 1 vaga
                max_vagas: 1,
                partner_id: null,
                is_paid: false,
                status: 'Aberto',
                hashtags: formData.hashtags,
                cep: formData.cep.replace(/\D/g, ''),
                endereco_completo: formData.endereco_completo,
                crusher_invited_user_id: invitedUserId, // Pessoa convidada
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            };
            const { data: event, error: eventError } = await supabaseClient_1.supabase
                .from('events')
                .insert([eventData])
                .select()
                .single();
            if (eventError)
                throw eventError;
            // Cria participa√ß√£o autom√°tica com status "pendente" (aguardando aceite)
            const { error: participationError } = await supabaseClient_1.supabase
                .from('event_participants')
                .insert({
                event_id: event.id,
                user_id: invitedUserId,
                status: 'pendente',
                mensagem_candidatura: 'Convite Crusher direto',
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString()
            });
            if (participationError)
                throw participationError;
            // Notifica a pessoa convidada
            await NotificationService_1.default.notifyCrusherInvite(invitedUserId, event.id, invitedUser.username || invitedUser.full_name || 'Usu√°rio', formData.title);
            (0, use_toast_1.toast)({
                title: "üíò Convite Crusher Enviado!",
                description: `${invitedUser.username || invitedUser.full_name} receber√° seu convite especial.`,
            });
            navigate(`/meus-eventos`);
        }
        catch (error) {
            console.error('Erro ao criar evento Crusher:', error);
            (0, use_toast_1.toast)({
                variant: "destructive",
                title: "Erro ao criar evento",
                description: error.message,
            });
        }
        finally {
            setLoading(false);
        }
    };
    if (loadingUser) {
        return ((0, jsx_runtime_1.jsx)("div", { className: "flex items-center justify-center min-h-[60vh]", children: (0, jsx_runtime_1.jsx)(lucide_react_1.Loader, { className: "w-8 h-8 animate-spin text-purple-500" }) }));
    }
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)(react_helmet_async_1.Helmet, { children: [(0, jsx_runtime_1.jsx)("title", { children: "Criar Evento Crusher - Mesapra2" }), (0, jsx_runtime_1.jsx)("meta", { name: "description", content: "Envie um convite especial para algu\u00E9m" })] }), (0, jsx_runtime_1.jsx)("div", { className: "max-w-3xl mx-auto py-6 px-4", children: (0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0, y: 20 }, animate: { opacity: 1, y: 0 }, className: "space-y-8", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)(button_1.Button, { type: "button", variant: "ghost", onClick: () => navigate('/people'), className: "mb-4 text-white/60 hover:text-white", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ArrowLeft, { className: "w-4 h-4 mr-2" }), "Voltar"] }), (0, jsx_runtime_1.jsx)("h1", { className: "text-4xl font-bold gradient-text mb-2", children: "Evento Crusher \uD83D\uDC98" }), (0, jsx_runtime_1.jsx)("p", { className: "text-white/60 text-lg", children: "Convite especial para uma pessoa" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "glass-effect rounded-lg p-6 border border-pink-500/30 bg-pink-500/10", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4 mb-3", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Heart, { className: "w-6 h-6 text-pink-400" }), (0, jsx_runtime_1.jsx)("h3", { className: "text-white font-semibold text-lg", children: "Convidando:" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center gap-4", children: [invitedUser.avatar_url ? ((0, jsx_runtime_1.jsx)("img", { src: invitedUser.avatar_url, alt: invitedUser.username, className: "w-16 h-16 rounded-full object-cover border-2 border-pink-500/50" })) : ((0, jsx_runtime_1.jsx)("div", { className: "w-16 h-16 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold", children: (invitedUser.username || invitedUser.full_name || 'U')[0].toUpperCase() })), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h4", { className: "text-white font-semibold", children: invitedUser.full_name || invitedUser.username }), invitedUser.username && ((0, jsx_runtime_1.jsxs)("p", { className: "text-white/60 text-sm", children: ["@", invitedUser.username] }))] })] }), (0, jsx_runtime_1.jsx)("div", { className: "mt-4 p-3 bg-white/5 rounded-lg", children: (0, jsx_runtime_1.jsxs)("p", { className: "text-white/70 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.AlertCircle, { className: "w-4 h-4 inline mr-2" }), "Esta pessoa n\u00E3o aceita cutucadas, ent\u00E3o voc\u00EA est\u00E1 enviando um convite Crusher direto para um evento exclusivo."] }) })] }), (0, jsx_runtime_1.jsxs)("form", { onSubmit: handleSubmit, className: "glass-effect rounded-2xl p-8 border border-white/10 space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "title", children: "T\u00EDtulo do Evento" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "title", name: "title", placeholder: "Ex: Jantar Especial a Dois", value: formData.title, onChange: handleChange, className: "glass-effect border-white/10", maxLength: 100, required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "description", children: "Mensagem para o Convite" }), (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { id: "description", name: "description", placeholder: "Escreva uma mensagem especial explicando seu convite...", value: formData.description, onChange: handleChange, className: "glass-effect border-white/10 min-h-[120px]", maxLength: 500, required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { children: "Tipo de Evento (Hashtag Premium)" }), (0, jsx_runtime_1.jsx)(EventHashtagSelector_1.default, { eventType: "particular", selectedHashtags: formData.hashtags, onChange: handleHashtagsChange, showError: showHashtagError })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "cep", children: "CEP" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "cep", name: "cep", placeholder: "00000-000", value: formData.cep, onChange: handleChange, className: "glass-effect border-white/10", maxLength: 9, required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "endereco_completo", children: "Endere\u00E7o Completo" }), (0, jsx_runtime_1.jsx)(textarea_1.Textarea, { id: "endereco_completo", name: "endereco_completo", placeholder: "Rua, n\u00FAmero, complemento, bairro, cidade...", value: formData.endereco_completo, onChange: handleChange, className: "glass-effect border-white/10 min-h-[80px]", maxLength: 300, required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "start_time", children: "Data e Hora de In\u00EDcio" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "start_time", name: "start_time", type: "datetime-local", value: formData.start_time, onChange: handleChange, className: "glass-effect border-white/10", required: true })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "end_time", children: "Data e Hora de T\u00E9rmino" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "end_time", name: "end_time", type: "datetime-local", value: formData.end_time, onChange: handleChange, className: "glass-effect border-white/10", required: true })] })] }), (0, jsx_runtime_1.jsx)("div", { className: "glass-effect rounded-lg p-4 border border-purple-500/30 bg-purple-500/10", children: (0, jsx_runtime_1.jsxs)("p", { className: "text-white/80 text-sm", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Heart, { className: "w-4 h-4 inline mr-2 text-pink-400" }), "Eventos Crusher t\u00EAm apenas 1 vaga - exclusivo para a pessoa convidada."] }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-start gap-3 glass-effect rounded-lg p-4 border border-white/10", children: [(0, jsx_runtime_1.jsx)("input", { type: "checkbox", id: "acceptedTerms", name: "acceptedTerms", checked: formData.acceptedTerms, onChange: handleChange, className: "mt-1", required: true }), (0, jsx_runtime_1.jsxs)("label", { htmlFor: "acceptedTerms", className: "text-sm text-white/80", children: ["Concordo com os", ' ', (0, jsx_runtime_1.jsx)("a", { href: "#", className: "text-purple-400 hover:underline", children: "Termos de Uso" })] })] }), (0, jsx_runtime_1.jsx)(button_1.Button, { type: "submit", disabled: loading, className: "w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 h-12 text-base font-semibold", children: loading ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Loader, { className: "w-5 h-5 mr-2 animate-spin" }), "Enviando Convite..."] })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Heart, { className: "w-5 h-5 mr-2" }), "Enviar Convite Crusher"] })) })] })] }) })] }));
};
exports.default = CreateEventCrusher;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xcdXNlclxccGFnZXNcXENyZWF0ZUV2ZW50Q3J1c2hlci5qc3giLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHVEQUFtRDtBQUNuRCwyREFBNEM7QUFDNUMsdURBQWdFO0FBQ2hFLGlEQUF1QztBQUN2QywrQ0FBcUU7QUFDckUsd0RBQWlEO0FBQ2pELG1FQUFnRTtBQUNoRSxpRUFBOEQ7QUFDOUQsaUVBQThEO0FBQzlELHVFQUFvRTtBQUNwRSx5RUFBa0U7QUFDbEUseURBQWdEO0FBQ2hELDRIQUE0RjtBQUM1RixpR0FBaUU7QUFFakUsTUFBTSxrQkFBa0IsR0FBRyxHQUFHLEVBQUU7SUFDOUIsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLElBQUEscUJBQU8sR0FBRSxDQUFDO0lBQzNCLE1BQU0sUUFBUSxHQUFHLElBQUEsOEJBQVcsR0FBRSxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxZQUFZLENBQUMsR0FBRyxJQUFBLGtDQUFlLEdBQUUsQ0FBQztJQUN6QyxNQUFNLGFBQWEsR0FBRyxZQUFZLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMseUJBQXlCO0lBRTNFLE1BQU0sQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JELE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JELE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQyxLQUFLLENBQUMsQ0FBQztJQUVoRSxNQUFNLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxHQUFHLElBQUEsZ0JBQVEsRUFBQztRQUN2QyxLQUFLLEVBQUUs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LEVBQUMsaUNBQWlDLDhCQUVuRCxJQUNFLElBQ0osRUFHTix1QkFBQyxlQUFNLElBQ0wsSUFBSSxFQUFDLFFBQVEsRUFDYixRQUFRLEVBQUUsT0FBTyxFQUNqQixTQUFTLEVBQUMsMEhBQTBILFlBRW5JLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FDVCw2REFDRSx1QkFBQyxxQkFBTSxJQUFDLFNBQVMsRUFBQywyQkFBMkIsR0FBRywyQkFFL0MsQ0FDSixDQUFDLENBQUMsQ0FBQyxDQUNGLDZEQUNFLHVCQUFDLG9CQUFLLElBQUMsU0FBUyxFQUFDLGNBQWMsR0FBRyw4QkFFakMsQ0FDSixHQUNNLElBQ0osSUFDSSxHQUNULElBQ0wsQ0FDSixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsa0JBQWUsa0JBQWtCLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXERFVk1peFxcQXBwLk1lc2FwcmEyLmNvbVxcc3JjXFxmZWF0dXJlc1xcdXNlclxccGFnZXNcXENyZWF0ZUV2ZW50Q3J1c2hlci5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEhlbG1ldCB9IGZyb20gJ3JlYWN0LWhlbG1ldC1hc3luYyc7XHJcbmltcG9ydCB7IHVzZU5hdmlnYXRlLCB1c2VTZWFyY2hQYXJhbXMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XHJcbmltcG9ydCB7IEhlYXJ0LCBMb2FkZXIsIEFycm93TGVmdCwgQWxlcnRDaXJjbGUgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQC9jb250ZXh0cy9BdXRoQ29udGV4dCc7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvZmVhdHVyZXMvc2hhcmVkL2NvbXBvbmVudHMvdWkvYnV0dG9uJztcclxuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL2lucHV0JztcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL2xhYmVsJztcclxuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL3RleHRhcmVhJztcclxuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdAL2ZlYXR1cmVzL3NoYXJlZC9jb21wb25lbnRzL3VpL3VzZS10b2FzdCc7XHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2VDbGllbnQnO1xyXG5pbXBvcnQgRXZlbnRIYXNodGFnU2VsZWN0b3IgZnJvbSAnQC9mZWF0dXJlcy9zaGFyZWQvY29tcG9uZW50cy9ldmVudHMvRXZlbnRIYXNodGFnU2VsZWN0b3InO1xyXG5pbXBvcnQgTm90aWZpY2F0aW9uU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL05vdGlmaWNhdGlvblNlcnZpY2UnO1xyXG5cclxuY29uc3QgQ3JlYXRlRXZlbnRDcnVzaGVyID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgdXNlciB9ID0gdXNlQXV0aCgpO1xyXG4gIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcclxuICBjb25zdCBbc2VhcmNoUGFyYW1zXSA9IHVzZVNlYXJjaFBhcmFtcygpO1xyXG4gIGNvbnN0IGludml0ZWRVc2VySWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdpbnZpdGUnKTsgLy8gSUQgZGEgcGVzc29hIGNvbnZpZGFkYVxyXG5cclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2xvYWRpbmdVc2VyLCBzZXRMb2FkaW5nVXNlcl0gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbaW52aXRlZFVzZXIsIHNldEludml0ZWRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IFtzaG93SGFzaHRhZ0Vycm9yLCBzZXRTaG93SGFzaHRhZ0Vycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBcclxuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlKHtcclxuICAgIHRpdGxlOiAnJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnJyxcclxuICAgIGhhc2h0YWdzOiBbXSxcclxuICAgIGNlcDogJycsXHJcbiAgICBlbmRlcmVjb19jb21wbGV0bzogJycsXHJcbiAgICBzdGFydF90aW1lOiAnJyxcclxuICAgIGVuZF90aW1lOiAnJyxcclxuICAgIGFjY2VwdGVkVGVybXM6IGZhbHNlLFxyXG4gIH0pO1xyXG5cclxuICAvLyBDYXJyZWdhciBkYWRvcyBkbyB1c3XDoXJpbyBjb252aWRhZG9cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFpbnZpdGVkVXNlcklkKSB7XHJcbiAgICAgIHRvYXN0KHtcclxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXHJcbiAgICAgICAgdGl0bGU6IFwiRXJyb1wiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIk5lbmh1bWEgcGVzc29hIGZvaSBzZWxlY2lvbmFkYSBwYXJhIG8gY29udml0ZS5cIixcclxuICAgICAgfSk7XHJcbiAgICAgIG5hdmlnYXRlKCcvcGVvcGxlJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmZXRjaEludml0ZWRVc2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgICAgICAgLnNlbGVjdCgnaWQsIHVzZXJuYW1lLCBmdWxsX25hbWUsIGF2YXRhcl91cmwsIGFsbG93X3Bva2VzJylcclxuICAgICAgICAgIC5lcSgnaWQnLCBpbnZpdGVkVXNlcklkKVxyXG4gICAgICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG5cclxuICAgICAgICBpZiAoZGF0YS5hbGxvd19wb2tlcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgdG9hc3Qoe1xyXG4gICAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXHJcbiAgICAgICAgICAgIHRpdGxlOiBcIk9wcyFcIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiRXN0YSBwZXNzb2EgYWNlaXRhIGN1dHVjYWRhcy4gVXNlIG8gYm90w6NvIEN1dHVjYXIhXCIsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIG5hdmlnYXRlKCcvcGVvcGxlJyk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRJbnZpdGVkVXNlcihkYXRhKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNhcnJlZ2FyIHVzdcOhcmlvOicsIGVycm9yKTtcclxuICAgICAgICB0b2FzdCh7XHJcbiAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCIsXHJcbiAgICAgICAgICB0aXRsZTogXCJFcnJvXCIsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJOw6NvIGZvaSBwb3Nzw612ZWwgY2FycmVnYXIgb3MgZGFkb3MgZGEgcGVzc29hLlwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5hdmlnYXRlKCcvcGVvcGxlJyk7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgc2V0TG9hZGluZ1VzZXIoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZldGNoSW52aXRlZFVzZXIoKTtcclxuICB9LCBbaW52aXRlZFVzZXJJZCwgbmF2aWdhdGVdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ2hhbmdlID0gKGUpID0+IHtcclxuICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUsIHR5cGUsIGNoZWNrZWQgfSA9IGUudGFyZ2V0O1xyXG4gICAgc2V0Rm9ybURhdGEoe1xyXG4gICAgICAuLi5mb3JtRGF0YSxcclxuICAgICAgW25hbWVdOiB0eXBlID09PSAnY2hlY2tib3gnID8gY2hlY2tlZCA6IHZhbHVlLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlSGFzaHRhZ3NDaGFuZ2UgPSAobmV3SGFzaHRhZ3MpID0+IHtcclxuICAgIHNldEZvcm1EYXRhKHsgLi4uZm9ybURhdGEsIGhhc2h0YWdzOiBuZXdIYXNodGFncyB9KTtcclxuICAgIHNldFNob3dIYXNodGFnRXJyb3IoZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghZm9ybURhdGEuYWNjZXB0ZWRUZXJtcykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVm9jw6ogcHJlY2lzYSBjb25jb3JkYXIgY29tIG9zIFRlcm1vcyBkZSBVc28gZSBQb2zDrXRpY2FzJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuZXcgRGF0ZShmb3JtRGF0YS5zdGFydF90aW1lKSA+PSBuZXcgRGF0ZShmb3JtRGF0YS5lbmRfdGltZSkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgZGF0YSBkZSB0w6lybWlubyBkZXZlIHNlciBkZXBvaXMgZGEgZGF0YSBkZSBpbsOtY2lvJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZm9ybURhdGEuY2VwIHx8IGZvcm1EYXRhLmNlcC5sZW5ndGggPCA4KSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZvcm1lIHVtIENFUCB2w6FsaWRvJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZm9ybURhdGEuZW5kZXJlY29fY29tcGxldG8gfHwgZm9ybURhdGEuZW5kZXJlY29fY29tcGxldG8udHJpbSgpLmxlbmd0aCA8IDEwKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZvcm1lIG8gZW5kZXJlw6dvIGNvbXBsZXRvJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFZhbGlkYSBoYXNodGFnIHByZW1pdW1cclxuICAgICAgY29uc3QgaGFzUHJlbWl1bSA9IGZvcm1EYXRhLmhhc2h0YWdzLnNvbWUodGFnID0+IFxyXG4gICAgICAgIFsnYW5pdmVyc8OhcmlvJywgJ2NvbmZyYXRlcm5pemHDp8OjbycsICdjaHVycmFzY29tcGlzY2luYScsICdwYXNzZWlvZGVsYW5jaGEnLCAnY2luZW1hJ10uaW5jbHVkZXModGFnLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpZiAoIWhhc1ByZW1pdW0pIHtcclxuICAgICAgICBzZXRTaG93SGFzaHRhZ0Vycm9yKHRydWUpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2VsZWNpb25lIDEgaGFzaHRhZyBwcmVtaXVtJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENyaWEgZXZlbnRvIENydXNoZXJcclxuICAgICAgY29uc3QgZXZlbnREYXRhID0ge1xyXG4gICAgICAgIGNyZWF0b3JfaWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgZXZlbnRfdHlwZTogJ2NydXNoZXInLFxyXG4gICAgICAgIHRpdGxlOiBmb3JtRGF0YS50aXRsZSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogZm9ybURhdGEuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgc3RhcnRfdGltZTogZm9ybURhdGEuc3RhcnRfdGltZSxcclxuICAgICAgICBlbmRfdGltZTogZm9ybURhdGEuZW5kX3RpbWUsXHJcbiAgICAgICAgdmFnYXM6IDEsIC8vIFNlbXByZSAxIHZhZ2FcclxuICAgICAgICBtYXhfdmFnYXM6IDEsXHJcbiAgICAgICAgcGFydG5lcl9pZDogbnVsbCxcclxuICAgICAgICBpc19wYWlkOiBmYWxzZSxcclxuICAgICAgICBzdGF0dXM6ICdBYmVydG8nLFxyXG4gICAgICAgIGhhc2h0YWdzOiBmb3JtRGF0YS5oYXNodGFncyxcclxuICAgICAgICBjZXA6IGZvcm1EYXRhLmNlcC5yZXBsYWNlKC9cXEQvZywgJycpLFxyXG4gICAgICAgIGVuZGVyZWNvX2NvbXBsZXRvOiBmb3JtRGF0YS5lbmRlcmVjb19jb21wbGV0byxcclxuICAgICAgICBjcnVzaGVyX2ludml0ZWRfdXNlcl9pZDogaW52aXRlZFVzZXJJZCwgLy8gUGVzc29hIGNvbnZpZGFkYVxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogZXZlbnQsIGVycm9yOiBldmVudEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdldmVudHMnKVxyXG4gICAgICAgIC5pbnNlcnQoW2V2ZW50RGF0YV0pXHJcbiAgICAgICAgLnNlbGVjdCgpXHJcbiAgICAgICAgLnNpbmdsZSgpO1xyXG5cclxuICAgICAgaWYgKGV2ZW50RXJyb3IpIHRocm93IGV2ZW50RXJyb3I7XHJcblxyXG4gICAgICAvLyBDcmlhIHBhcnRpY2lwYcOnw6NvIGF1dG9tw6F0aWNhIGNvbSBzdGF0dXMgXCJwZW5kZW50ZVwiIChhZ3VhcmRhbmRvIGFjZWl0ZSlcclxuICAgICAgY29uc3QgeyBlcnJvcjogcGFydGljaXBhdGlvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdldmVudF9wYXJ0aWNpcGFudHMnKVxyXG4gICAgICAgIC5pbnNlcnQoe1xyXG4gICAgICAgICAgZXZlbnRfaWQ6IGV2ZW50LmlkLFxyXG4gICAgICAgICAgdXNlcl9pZDogaW52aXRlZFVzZXJJZCxcclxuICAgICAgICAgIHN0YXR1czogJ3BlbmRlbnRlJyxcclxuICAgICAgICAgIG1lbnNhZ2VtX2NhbmRpZGF0dXJhOiAnQ29udml0ZSBDcnVzaGVyIGRpcmV0bycsXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChwYXJ0aWNpcGF0aW9uRXJyb3IpIHRocm93IHBhcnRpY2lwYXRpb25FcnJvcjtcclxuXHJcbiAgICAgIC8vIE5vdGlmaWNhIGEgcGVzc29hIGNvbnZpZGFkYVxyXG4gICAgICBhd2FpdCBOb3RpZmljYXRpb25TZXJ2aWNlLm5vdGlmeUNydXNoZXJJbnZpdGUoXHJcbiAgICAgICAgaW52aXRlZFVzZXJJZCxcclxuICAgICAgICBldmVudC5pZCxcclxuICAgICAgICBpbnZpdGVkVXNlci51c2VybmFtZSB8fCBpbnZpdGVkVXNlci5mdWxsX25hbWUgfHwgJ1VzdcOhcmlvJyxcclxuICAgICAgICBmb3JtRGF0YS50aXRsZVxyXG4gICAgICApO1xyXG5cclxuICAgICAgdG9hc3Qoe1xyXG4gICAgICAgIHRpdGxlOiBcIvCfkpggQ29udml0ZSBDcnVzaGVyIEVudmlhZG8hXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGAke2ludml0ZWRVc2VyLnVzZXJuYW1lIHx8IGludml0ZWRVc2VyLmZ1bGxfbmFtZX0gcmVjZWJlcsOhIHNldSBjb252aXRlIGVzcGVjaWFsLmAsXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgbmF2aWdhdGUoYC9tZXVzLWV2ZW50b3NgKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gY3JpYXIgZXZlbnRvIENydXNoZXI6JywgZXJyb3IpO1xyXG4gICAgICB0b2FzdCh7XHJcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiLFxyXG4gICAgICAgIHRpdGxlOiBcIkVycm8gYW8gY3JpYXIgZXZlbnRvXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgIH0pO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgaWYgKGxvYWRpbmdVc2VyKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLVs2MHZoXVwiPlxyXG4gICAgICAgIDxMb2FkZXIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gdGV4dC1wdXJwbGUtNTAwXCIgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDw+XHJcbiAgICAgIDxIZWxtZXQ+XHJcbiAgICAgICAgPHRpdGxlPkNyaWFyIEV2ZW50byBDcnVzaGVyIC0gTWVzYXByYTI8L3RpdGxlPlxyXG4gICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJFbnZpZSB1bSBjb252aXRlIGVzcGVjaWFsIHBhcmEgYWxndcOpbVwiIC8+XHJcbiAgICAgIDwvSGVsbWV0PlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy0zeGwgbXgtYXV0byBweS02IHB4LTRcIj5cclxuICAgICAgICA8bW90aW9uLmRpdlxyXG4gICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAyMCB9fVxyXG4gICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJzcGFjZS15LThcIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIHsvKiBIZWFkZXIgKi99XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBuYXZpZ2F0ZSgnL3Blb3BsZScpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTQgdGV4dC13aGl0ZS82MCBob3Zlcjp0ZXh0LXdoaXRlXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICBWb2x0YXJcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1ib2xkIGdyYWRpZW50LXRleHQgbWItMlwiPlxyXG4gICAgICAgICAgICAgIEV2ZW50byBDcnVzaGVyIPCfkphcclxuICAgICAgICAgICAgPC9oMT5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS82MCB0ZXh0LWxnXCI+XHJcbiAgICAgICAgICAgICAgQ29udml0ZSBlc3BlY2lhbCBwYXJhIHVtYSBwZXNzb2FcclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIENhcmQgZGEgUGVzc29hIENvbnZpZGFkYSAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IHJvdW5kZWQtbGcgcC02IGJvcmRlciBib3JkZXItcGluay01MDAvMzAgYmctcGluay01MDAvMTBcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgPEhlYXJ0IGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1waW5rLTQwMFwiIC8+XHJcbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCB0ZXh0LWxnXCI+Q29udmlkYW5kbzo8L2gzPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxyXG4gICAgICAgICAgICAgIHtpbnZpdGVkVXNlci5hdmF0YXJfdXJsID8gKFxyXG4gICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICBzcmM9e2ludml0ZWRVc2VyLmF2YXRhcl91cmx9XHJcbiAgICAgICAgICAgICAgICAgIGFsdD17aW52aXRlZFVzZXIudXNlcm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTYgaC0xNiByb3VuZGVkLWZ1bGwgb2JqZWN0LWNvdmVyIGJvcmRlci0yIGJvcmRlci1waW5rLTUwMC81MFwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiByb3VuZGVkLWZ1bGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1waW5rLTUwMCB0by1wdXJwbGUtNTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGUgdGV4dC14bCBmb250LWJvbGRcIj5cclxuICAgICAgICAgICAgICAgICAgeyhpbnZpdGVkVXNlci51c2VybmFtZSB8fCBpbnZpdGVkVXNlci5mdWxsX25hbWUgfHwgJ1UnKVswXS50b1VwcGVyQ2FzZSgpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1zZW1pYm9sZFwiPlxyXG4gICAgICAgICAgICAgICAgICB7aW52aXRlZFVzZXIuZnVsbF9uYW1lIHx8IGludml0ZWRVc2VyLnVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgIHtpbnZpdGVkVXNlci51c2VybmFtZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvNjAgdGV4dC1zbVwiPkB7aW52aXRlZFVzZXIudXNlcm5hbWV9PC9wPlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwLTMgYmctd2hpdGUvNSByb3VuZGVkLWxnXCI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS83MCB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICA8QWxlcnRDaXJjbGUgY2xhc3NOYW1lPVwidy00IGgtNCBpbmxpbmUgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICBFc3RhIHBlc3NvYSBuw6NvIGFjZWl0YSBjdXR1Y2FkYXMsIGVudMOjbyB2b2PDqiBlc3TDoSBlbnZpYW5kbyB1bSBjb252aXRlIENydXNoZXIgZGlyZXRvIHBhcmEgdW0gZXZlbnRvIGV4Y2x1c2l2by5cclxuICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IHJvdW5kZWQtMnhsIHAtOCBib3JkZXIgYm9yZGVyLXdoaXRlLzEwIHNwYWNlLXktNlwiPlxyXG4gICAgICAgICAgICB7LyogVMOtdHVsbyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cInRpdGxlXCI+VMOtdHVsbyBkbyBFdmVudG88L0xhYmVsPlxyXG4gICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJ0aXRsZVwiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwidGl0bGVcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFeDogSmFudGFyIEVzcGVjaWFsIGEgRG9pc1wiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEudGl0bGV9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IGJvcmRlci13aGl0ZS8xMFwiXHJcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGg9ezEwMH1cclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogRGVzY3Jpw6fDo28gKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJkZXNjcmlwdGlvblwiPk1lbnNhZ2VtIHBhcmEgbyBDb252aXRlPC9MYWJlbD5cclxuICAgICAgICAgICAgICA8VGV4dGFyZWFcclxuICAgICAgICAgICAgICAgIGlkPVwiZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRXNjcmV2YSB1bWEgbWVuc2FnZW0gZXNwZWNpYWwgZXhwbGljYW5kbyBzZXUgY29udml0ZS4uLlwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuZGVzY3JpcHRpb259XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IGJvcmRlci13aGl0ZS8xMCBtaW4taC1bMTIwcHhdXCJcclxuICAgICAgICAgICAgICAgIG1heExlbmd0aD17NTAwfVxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBIYXNodGFncyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cclxuICAgICAgICAgICAgICA8TGFiZWw+VGlwbyBkZSBFdmVudG8gKEhhc2h0YWcgUHJlbWl1bSk8L0xhYmVsPlxyXG4gICAgICAgICAgICAgIDxFdmVudEhhc2h0YWdTZWxlY3RvclxyXG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlPVwicGFydGljdWxhclwiXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEhhc2h0YWdzPXtmb3JtRGF0YS5oYXNodGFnc31cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVIYXNodGFnc0NoYW5nZX1cclxuICAgICAgICAgICAgICAgIHNob3dFcnJvcj17c2hvd0hhc2h0YWdFcnJvcn1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBDRVAgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJjZXBcIj5DRVA8L0xhYmVsPlxyXG4gICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJjZXBcIlxyXG4gICAgICAgICAgICAgICAgbmFtZT1cImNlcFwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIjAwMDAwLTAwMFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuY2VwfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCBib3JkZXItd2hpdGUvMTBcIlxyXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoPXs5fVxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBFbmRlcmXDp28gKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJlbmRlcmVjb19jb21wbGV0b1wiPkVuZGVyZcOnbyBDb21wbGV0bzwvTGFiZWw+XHJcbiAgICAgICAgICAgICAgPFRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICBpZD1cImVuZGVyZWNvX2NvbXBsZXRvXCJcclxuICAgICAgICAgICAgICAgIG5hbWU9XCJlbmRlcmVjb19jb21wbGV0b1wiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlJ1YSwgbsO6bWVybywgY29tcGxlbWVudG8sIGJhaXJybywgY2lkYWRlLi4uXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5lbmRlcmVjb19jb21wbGV0b31cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3QgYm9yZGVyLXdoaXRlLzEwIG1pbi1oLVs4MHB4XVwiXHJcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGg9ezMwMH1cclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogRGF0YXMgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cInN0YXJ0X3RpbWVcIj5EYXRhIGUgSG9yYSBkZSBJbsOtY2lvPC9MYWJlbD5cclxuICAgICAgICAgICAgICAgIDxJbnB1dFxyXG4gICAgICAgICAgICAgICAgICBpZD1cInN0YXJ0X3RpbWVcIlxyXG4gICAgICAgICAgICAgICAgICBuYW1lPVwic3RhcnRfdGltZVwiXHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRldGltZS1sb2NhbFwiXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5zdGFydF90aW1lfVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnbGFzcy1lZmZlY3QgYm9yZGVyLXdoaXRlLzEwXCJcclxuICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cImVuZF90aW1lXCI+RGF0YSBlIEhvcmEgZGUgVMOpcm1pbm88L0xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICAgIGlkPVwiZW5kX3RpbWVcIlxyXG4gICAgICAgICAgICAgICAgICBuYW1lPVwiZW5kX3RpbWVcIlxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIlxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuZW5kX3RpbWV9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdsYXNzLWVmZmVjdCBib3JkZXItd2hpdGUvMTBcIlxyXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogSW5mbyBkZSAxIHZhZ2EgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2xhc3MtZWZmZWN0IHJvdW5kZWQtbGcgcC00IGJvcmRlciBib3JkZXItcHVycGxlLTUwMC8zMCBiZy1wdXJwbGUtNTAwLzEwXCI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZS84MCB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPVwidy00IGgtNCBpbmxpbmUgbXItMiB0ZXh0LXBpbmstNDAwXCIgLz5cclxuICAgICAgICAgICAgICAgIEV2ZW50b3MgQ3J1c2hlciB0w6ptIGFwZW5hcyAxIHZhZ2EgLSBleGNsdXNpdm8gcGFyYSBhIHBlc3NvYSBjb252aWRhZGEuXHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBUZXJtb3MgKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMyBnbGFzcy1lZmZlY3Qgcm91bmRlZC1sZyBwLTQgYm9yZGVyIGJvcmRlci13aGl0ZS8xMFwiPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgIGlkPVwiYWNjZXB0ZWRUZXJtc1wiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwiYWNjZXB0ZWRUZXJtc1wiXHJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtmb3JtRGF0YS5hY2NlcHRlZFRlcm1zfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTFcIlxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiYWNjZXB0ZWRUZXJtc1wiIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC13aGl0ZS84MFwiPlxyXG4gICAgICAgICAgICAgICAgQ29uY29yZG8gY29tIG9zeycgJ31cclxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwidGV4dC1wdXJwbGUtNDAwIGhvdmVyOnVuZGVybGluZVwiPlxyXG4gICAgICAgICAgICAgICAgICBUZXJtb3MgZGUgVXNvXHJcbiAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogQm90w6NvIFN1Ym1pdCAqL31cclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmFkaWVudC10by1yIGZyb20tcGluay01MDAgdG8tcHVycGxlLTUwMCBob3Zlcjpmcm9tLXBpbmstNjAwIGhvdmVyOnRvLXB1cnBsZS02MDAgaC0xMiB0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZFwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7bG9hZGluZyA/IChcclxuICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgIDxMb2FkZXIgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yIGFuaW1hdGUtc3BpblwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIEVudmlhbmRvIENvbnZpdGUuLi5cclxuICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICA8SGVhcnQgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgRW52aWFyIENvbnZpdGUgQ3J1c2hlclxyXG4gICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgPC9tb3Rpb24uZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDcmVhdGVFdmVudENydXNoZXI7Il0sInZlcnNpb24iOjN9