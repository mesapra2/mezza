{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\user\\pages\\Dashboard.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\user\\pages\\Dashboard.jsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport { motion } from 'framer-motion';\r\nimport { Link } from 'react-router-dom';\r\nimport { Calendar, Users, Star, MapPin, Clock, Settings as SettingsIcon, UserPlus, XCircle, CheckCircle, MessageSquare, Heart, Loader } from 'lucide-react'; // <-- 1. LOADER ADICIONADO\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Button } from '@/features/shared/components/ui/button';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport Settings from '@/features/user/components/common/Settings';\r\nimport EventApply from '@/features/shared/components/events/EventApply';\r\nimport ParticipationService from '@/services/ParticipationService';\r\nimport { toast } from '@/features/shared/components/ui/use-toast';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogDescription,\r\n} from '@/features/shared/components/ui/dialog';\r\n\r\nconst Dashboard = () => {\r\n  const { user } = useAuth();\r\n  const [stats, setStats] = useState({\r\n    eventosParticipados: 0,\r\n    proximosEventos: 0,\r\n    avaliacaoMedia: 0,\r\n  });\r\n  const [recentEvents, setRecentEvents] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [userAvatar, setUserAvatar] = useState(null);\r\n  const [settingsOpen, setSettingsOpen] = useState(false);\r\n  const [selectedEvent, setSelectedEvent] = useState(null);\r\n  const [applyModalOpen, setApplyModalOpen] = useState(false);\r\n  const [cancelModalOpen, setCancelModalOpen] = useState(false);\r\n  const [eventToCancel, setEventToCancel] = useState(null);\r\n  const [cancelError, setCancelError] = useState(null);\r\n  const [eventParticipants, setEventParticipants] = useState({});\r\n  const [userParticipations, setUserParticipations] = useState({});\r\n  const [crusherInvites, setCrusherInvites] = useState({});\r\n  const [pendingParticipations, setPendingParticipations] = useState({});\r\n  const [isRegistering, setIsRegistering] = useState(false); // <-- 2. ESTADO ADICIONADO\r\n\r\n  const loadUserAvatar = useCallback(async () => {\r\n    if (!user) return;\r\n    try {\r\n      const { data: profileData, error } = await supabase\r\n        .from('profiles')\r\n        .select('avatar_url')\r\n        .eq('id', user.id)\r\n        .single();\r\n\r\n      if (!error && profileData?.avatar_url) {\r\n        setUserAvatar(profileData.avatar_url);\r\n      } else {\r\n        setUserAvatar(user?.user_metadata?.avatar_url || null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Erro ao carregar avatar:', err);\r\n      setUserAvatar(user?.user_metadata?.avatar_url || null);\r\n    }\r\n  }, [user]); \r\n\r\n  const loadParticipantsForUserEvents = useCallback(async (events) => {\r\n    if (!user) return;\r\n    try {\r\n      const participantsMap = {};\r\n\r\n      for (const event of events) {\r\n       const { data: participants, error } = await supabase\r\n  .from('event_participants')\r\n  .select('id, status, user:profiles(id, username, avatar_url)')\r\n  .eq('event_id', event.id)\r\n  .eq('status', 'aprovado');\r\n\r\n\r\n        if (!error && participants) {\r\n          participantsMap[event.id] = participants;\r\n        }\r\n      }\r\n\r\n      setEventParticipants(participantsMap);\r\n    } catch (error) {\r\n      console.error('Erro ao carregar participantes:', error);\r\n    }\r\n  }, [user]);\r\n\r\n  const loadPendingParticipations = useCallback(async (events) => {\r\n    if (!user) return;\r\n    try {\r\n      const pendingMap = {};\r\n\r\n      for (const event of events) {\r\n        if (event.creator_id === user.id) {\r\n          const { data: pendingParticipants, error } = await supabase\r\n            .from('event_participants')\r\n            .select('id')\r\n            .eq('event_id', event.id)\r\n            .eq('status', 'pendente');\r\n\r\n          if (!error && pendingParticipants) {\r\n            pendingMap[event.id] = pendingParticipants.length;\r\n          }\r\n        }\r\n      }\r\n\r\n      setPendingParticipations(pendingMap);\r\n    } catch (error) {\r\n      console.error('Erro ao carregar candidaturas pendentes:', error);\r\n    }\r\n  }, [user]); \r\n\r\n  const loadUserParticipations = useCallback(async (events) => {\r\n    if (!user) return;\r\n    try {\r\n      const eventIds = events.map(e => e.id);\r\n      \r\n      const { data: participations, error } = await supabase\r\n        .from('event_participants')\r\n        .select('event_id, status')\r\n        .eq('user_id', user.id)\r\n        .in('event_id', eventIds);\r\n\r\n      if (!error && participations) {\r\n        const participationsMap = {};\r\n        participations.forEach(p => {\r\n          participationsMap[p.event_id] = p.status;\r\n        });\r\n        setUserParticipations(participationsMap);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar participa√ß√µes do usu√°rio:', error);\r\n    }\r\n  }, [user]);\r\n\r\n  const checkCrusherInvites = useCallback(async (events) => {\r\n    if (!user) return {};\r\n    try {\r\n      const crusherInvitesMap = {};\r\n      \r\n      for (const event of events) {\r\n        if (event.event_type === 'crusher' && event.crusher_invited_user_id === user.id) {\r\n          const { data: participation } = await supabase\r\n            .from('event_participants')\r\n            .select('id, status')\r\n            .eq('event_id', event.id)\r\n            .eq('user_id', user.id)\r\n            .single();\r\n          \r\n          if (participation && participation.status === 'pendente') {\r\n            crusherInvitesMap[event.id] = participation.id;\r\n          }\r\n        }\r\n      }\r\n      \r\n      return crusherInvitesMap;\r\n    } catch (error) {\r\n      console.error('Erro ao verificar convites Crusher:', error);\r\n      return {};\r\n    }\r\n  }, [user]);\r\n  \r\n  const loadDashboardData = useCallback(async () => {\r\n    if (!user) return;\r\n    setLoading(true);\r\n    try {\r\n      const { data: profileData } = await supabase\r\n        .from('profiles')\r\n        .select('reputation_stars')\r\n        .eq('id', user.id)\r\n        .single();\r\n\r\n      const { data: participations, error: participationsError } = await supabase\r\n        .from('event_participants')\r\n        .select('*')\r\n        .eq('user_id', user.id);\r\n\r\n      if (participationsError) throw participationsError;\r\n\r\n      const userParticipations = participations.filter(p => p.status === 'aprovado');\r\n      const eventIds = userParticipations.map(p => p.event_id);\r\n      \r\n      const { data: userEvents, error: eventsError } = await supabase\r\n        .from('events')\r\n        .select('*')\r\n        .in('id', eventIds);\r\n\r\n      if (eventsError) throw eventsError;\r\n\r\n      const upcoming = userEvents.filter(e =>\r\n        new Date(e.start_time) > new Date() && e.status !== 'Cancelado'\r\n      );\r\n\r\n      const { data: allEvents, error: allEventsError } = await supabase\r\n        .from('events')\r\n        .select(`\r\n          *,\r\n          creator:profiles!events_creator_id_fkey(id, username, avatar_url),\r\n          partner:partners(id, name, logo_url, photos, address)\r\n        `)\r\n        .in('status', ['Aberto', 'Confirmado'])\r\n        .order('start_time', { ascending: true })\r\n        .limit(6);\r\n\r\n      if (allEventsError) throw allEventsError;\r\n\r\n      setStats({\r\n        eventosParticipados: userParticipations.length,\r\n        proximosEventos: upcoming.length,\r\n        avaliacaoMedia: profileData?.reputation_stars || 0,\r\n      });\r\n\r\n      setRecentEvents(allEvents);\r\n      await loadParticipantsForUserEvents(allEvents);\r\n      await loadPendingParticipations(allEvents);\r\n      await loadUserParticipations(allEvents);\r\n      \r\n      const invites = await checkCrusherInvites(allEvents);\r\n      setCrusherInvites(invites || {});\r\n    } catch (error) {\r\n      console.error('Erro ao carregar dados do dashboard:', error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, loadParticipantsForUserEvents, loadPendingParticipations, loadUserParticipations, checkCrusherInvites]); \r\n  \r\n  useEffect(() => {\r\n    if (user) {\r\n      loadDashboardData();\r\n      loadUserAvatar();\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, [user, loadDashboardData, loadUserAvatar]); \r\n\r\n  // ‚úÖ FUN√á√ÉO CORRIGIDA: Avatar do usu√°rio logado\r\n  const getAvatarUrl = () => {\r\n    if (!userAvatar) {\r\n      return `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n        user?.email || 'Usu√°rio'\r\n      )}&background=8b5cf6&color=fff&size=40`;\r\n    }\r\n\r\n    // Se j√° √© URL completa (http/https), retorna direto\r\n    if (userAvatar.startsWith('http')) {\r\n      return userAvatar;\r\n    }\r\n\r\n    // ‚úÖ Constr√≥i a URL p√∫blica do Supabase\r\n    const { data } = supabase.storage.from('avatars').getPublicUrl(userAvatar);\r\n    return `${data.publicUrl}?t=${new Date().getTime()}`;\r\n  };\r\n\r\n  // ‚úÖ FUN√á√ÉO CORRIGIDA: Avatar do criador do evento\r\n  const getCreatorAvatar = (creator) => {\r\n    if (!creator?.avatar_url) {\r\n      return `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n        creator?.username || 'Anfitri√£o'\r\n      )}&background=8b5cf6&color=fff&size=48`;\r\n    }\r\n\r\n    // Se j√° √© URL completa (http/https), retorna direto\r\n    if (creator.avatar_url.startsWith('http')) {\r\n      return creator.avatar_url;\r\n    }\r\n\r\n    // ‚úÖ Constr√≥i a URL p√∫blica do Supabase\r\n    const { data } = supabase.storage.from('avatars').getPublicUrl(creator.avatar_url);\r\n    return `${data.publicUrl}?t=${new Date().getTime()}`;\r\n  };\r\n\r\n  const getPartnerBackground = (partner) => {\r\n    if (!partner) return null;\r\n\r\n    if (partner.photos && Array.isArray(partner.photos) && partner.photos.length > 0) {\r\n      const firstPhoto = partner.photos[0];\r\n      \r\n      if (firstPhoto.startsWith('http')) {\r\n        return firstPhoto;\r\n      }\r\n      \r\n      const { data } = supabase.storage\r\n        .from('partner-photos')\r\n        .getPublicUrl(firstPhoto);\r\n      \r\n      return data.publicUrl;\r\n    }\r\n    \r\n    if (partner.logo_url) {\r\n      if (partner.logo_url.startsWith('http')) {\r\n        return partner.logo_url;\r\n      }\r\n      \r\n      const { data } = supabase.storage\r\n        .from('partner-photos')\r\n        .getPublicUrl(partner.logo_url);\r\n      \r\n      return data.publicUrl;\r\n    }\r\n    \r\n    return null;\r\n  };\r\n\r\n  const getPartnerAddress = (partner) => {\r\n    if (!partner) return 'Local n√£o informado';\r\n    if (!partner.address) return partner.name;\r\n    \r\n    if (typeof partner.address === 'string') {\r\n      return partner.address;\r\n    }\r\n    \r\n    if (typeof partner.address === 'object') {\r\n      const parts = [\r\n        partner.address.street || partner.address.rua,\r\n        partner.address.city || partner.address.cidade,\r\n      ].filter(Boolean);\r\n      return parts.length > 0 ? parts.join(', ') : partner.name;\r\n    }\r\n    \r\n    return partner.name;\r\n  };\r\n\r\n  const handleOpenApplyModal = (event) => {\r\n    setSelectedEvent(event);\r\n    setApplyModalOpen(true);\r\n  };\r\n\r\n  const handleApplySuccess = () => {\r\n    setApplyModalOpen(false);\r\n    loadDashboardData();\r\n  };\r\n\r\n  const handleAcceptCrusherInvite = async (event) => {\r\n    try {\r\n      const participationId = crusherInvites[event.id];\r\n      const result = await ParticipationService.acceptCrusherInvite(\r\n        participationId,\r\n        event.id,\r\n        user.id\r\n      );\r\n      \r\n      if (result.success) {\r\n        toast({ \r\n          title: \"üíò Convite aceito!\",\r\n          description: \"Voc√™ confirmou sua participa√ß√£o no evento Crusher.\"\r\n        });\r\n        loadDashboardData();\r\n      } else {\r\n        toast({ \r\n          variant: \"destructive\", \r\n          title: \"Erro\", \r\n          description: result.error \r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao aceitar convite:', error);\r\n      toast({ \r\n        variant: \"destructive\", \r\n        title: \"Erro\", \r\n        description: \"N√£o foi poss√≠vel aceitar o convite.\" \r\n      });\r\n    }\r\n  };\r\n\r\n  const handleRejectCrusherInvite = async (event) => {\r\n    const reason = prompt('Motivo da recusa (opcional):');\r\n    if (reason === null) return;\r\n    \r\n    try {\r\n      const participationId = crusherInvites[event.id];\r\n      const result = await ParticipationService.rejectCrusherInvite(\r\n        participationId,\r\n        event.id,\r\n        user.id,\r\n        reason\r\n      );\r\n      \r\n      if (result.success) {\r\n        toast({ \r\n          title: \"Convite recusado\",\r\n          description: \"O anfitri√£o ser√° notificado.\"\r\n        });\r\n        loadDashboardData();\r\n      } else {\r\n        toast({ \r\n          variant: \"destructive\", \r\n          title: \"Erro\", \r\n          description: result.error \r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao recusar convite:', error);\r\n      toast({ \r\n        variant: \"destructive\", \r\n        title: \"Erro\", \r\n        description: \"N√£o foi poss√≠vel recusar o convite.\" \r\n      });\r\n    }\r\n  };\r\n\r\n  // =================================================================\r\n  // üÜï 3. FUN√á√ÉO PARA INSCRI√á√ÉO DIRETA (INSTITUCIONAL) ADICIONADA\r\n  // =================================================================\r\n  const handleInstitutionalApply = async (event) => {\r\n    if (!user || !event) return;\r\n    \r\n    setIsRegistering(true);\r\n    try {\r\n      // Inscri√ß√£o direta, status 'aprovado', sem mensagem_candidatura\r\n      const { error } = await supabase\r\n        .from('event_participants')\r\n        .insert({\r\n          event_id: event.id,\r\n          user_id: user.id,\r\n          status: 'aprovado' \r\n        });\r\n      \r\n      if (error) throw error;\r\n\r\n      toast({\r\n        title: '‚úÖ Inscri√ß√£o Confirmada!',\r\n        description: 'Voc√™ foi inscrito automaticamente neste evento.',\r\n      });\r\n      \r\n      // Recarrega os dados do dashboard\r\n      await loadDashboardData();\r\n      // Fecha o modal\r\n      setApplyModalOpen(false);\r\n\r\n    } catch (error) {\r\n      console.error('Erro ao inscrever-se (institucional):', error);\r\n      toast({\r\n        variant: 'destructive',\r\n        title: 'Erro na inscri√ß√£o',\r\n        description: error.message || 'N√£o foi poss√≠vel se inscrever.',\r\n      });\r\n    } finally {\r\n      setIsRegistering(false);\r\n    }\r\n  };\r\n\r\n  // ‚úÖ FUN√á√ÉO CORRIGIDA: Avatar dos participantes\r\n  const renderParticipantAvatars = (event) => {\r\n    const maxVagas = event.max_vagas || event.vagas;\r\n    const approvedParticipants = eventParticipants[event.id] || [];\r\n    const avatars = [];\r\n\r\n    approvedParticipants.forEach((participant) => {\r\n      // ‚úÖ Constr√≥i URL do avatar corretamente\r\n      const getParticipantAvatar = () => {\r\n        const avatarUrl = participant.user?.avatar_url;\r\n        if (!avatarUrl) {\r\n          return `https://ui-avatars.com/api/?name=${encodeURIComponent(participant.user?.username || 'User')}&background=8b5cf6&color=fff&size=40`;\r\n        }\r\n        // Se j√° √© URL completa (http/https), retorna direto\r\n        if (avatarUrl.startsWith('http')) {\r\n          return avatarUrl;\r\n        }\r\n        // ‚úÖ Constr√≥i a URL p√∫blica do Supabase com timestamp para evitar cache\r\n        const { data } = supabase.storage.from('avatars').getPublicUrl(avatarUrl);\r\n        return `${data.publicUrl}?t=${new Date().getTime()}`;\r\n      };\r\n\r\n      avatars.push(\r\n        <img\r\n          key={`participant-${participant.id}`}\r\n          src={getParticipantAvatar()}\r\n          alt={participant.user?.username || 'Participante'}\r\n          className=\"w-10 h-10 rounded-full border-2 border-green-500/70 object-cover\"\r\n          title={participant.user?.username || 'Participante'}\r\n          onError={(e) => {\r\n            e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n              participant.user?.username || 'User'\r\n            )}&background=8b5cf6&color=fff&size=40`;\r\n          }}\r\n        />\r\n      );\r\n    });\r\n\r\n    const remainingSlots = maxVagas - approvedParticipants.length;\r\n    for (let i = 0; i < remainingSlots; i++) {\r\n      avatars.push(\r\n        <div\r\n          key={`empty-${i}`}\r\n          className=\"w-10 h-10 rounded-full border-2 border-white/20 bg-white/5 flex items-center justify-center\"\r\n          title=\"Vaga dispon√≠vel\"\r\n        >\r\n          <Users className=\"w-5 h-5 text-white/40\" />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"flex items-center gap-2 flex-wrap\">\r\n        {avatars}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getUserParticipationBadge = (eventId) => {\r\n    const status = userParticipations[eventId];\r\n    \r\n    if (!status) return null;\r\n\r\n    const badges = {\r\n      aprovado: {\r\n        label: '‚úì Inscrito',\r\n        className: 'bg-green-500/20 text-green-300 border-green-500/50',\r\n        icon: CheckCircle\r\n      },\r\n      pendente: {\r\n        label: '‚è≥ Pendente',\r\n        className: 'bg-yellow-500/20 text-yellow-300 border-yellow-500/50',\r\n        icon: Clock\r\n      },\r\n      rejeitado: {\r\n        label: '‚úó Rejeitado',\r\n        className: 'bg-red-500/20 text-red-300 border-red-500/50',\r\n        icon: XCircle\r\n      },\r\n      cancelado: {\r\n        label: 'Cancelado',\r\n        className: 'bg-gray-500/20 text-gray-300 border-gray-500/50',\r\n        icon: XCircle\r\n      }\r\n    };\r\n\r\n    const badge = badges[status];\r\n    if (!badge) return null;\r\n\r\n    const Icon = badge.icon;\r\n\r\n    if (status === 'aprovado') {\r\n      return (\r\n        <div className=\"space-y-2\">\r\n          <div className={`w-full px-4 py-3 rounded-lg border-2 ${badge.className} flex items-center justify-center gap-2 font-semibold`}>\r\n            <Icon className=\"w-5 h-5\" />\r\n            {badge.label}\r\n          </div>\r\n          <Link to={`/event/${eventId}/chat`}>\r\n            <Button className=\"w-full\" variant=\"outline\" size=\"sm\">\r\n              <MessageSquare className=\"w-4 h-4 mr-2\" />\r\n              Acessar Chat\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className={`w-full px-4 py-3 rounded-lg border-2 ${badge.className} flex items-center justify-center gap-2 font-semibold`}>\r\n        <Icon className=\"w-5 h-5\" />\r\n        {badge.label}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleCancelEvent = async (event) => {\r\n    setEventToCancel(event);\r\n    setCancelError(null);\r\n\r\n    try {\r\n      const { data: participants, error: participantsError } = await supabase\r\n        .from('event_participants')\r\n        .select('id, status')\r\n        .eq('event_id', event.id)\r\n        .eq('status', 'aprovado');\r\n\r\n      if (participantsError) throw participantsError;\r\n\r\n      const hasConfirmedParticipants = participants && participants.length > 0;\r\n      const eventStart = new Date(event.start_time);\r\n      const now = new Date();\r\n      const hoursUntilEvent = (eventStart - now) / (1000 * 60 * 60);\r\n\r\n      if (hasConfirmedParticipants && hoursUntilEvent < 24) {\r\n        setCancelError(\r\n          `N√£o √© poss√≠vel cancelar este evento com menos de 24 horas de anteced√™ncia quando h√° participantes confirmados. ${participants.length} ${participants.length === 1 ? 'participante confirmado' : 'participantes confirmados'}.`\r\n        );\r\n        setCancelModalOpen(true);\r\n        return;\r\n      }\r\n\r\n      setCancelModalOpen(true);\r\n    } catch (error) {\r\n      console.error('Erro ao verificar participantes:', error);\r\n      alert('Erro ao verificar participantes do evento');\r\n    }\r\n  };\r\n\r\n  const confirmCancelEvent = async () => {\r\n    if (!eventToCancel) return;\r\n\r\n    const reason = prompt('Motivo do cancelamento (opcional):');\r\n    \r\n    try {\r\n      const { error } = await supabase\r\n        .from('events')\r\n        .update({ \r\n          status: 'Cancelado',\r\n          cancelamento_motivo: reason,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', eventToCancel.id);\r\n\r\n      if (error) throw error;\r\n\r\n      setCancelModalOpen(false);\r\n      setEventToCancel(null);\r\n      loadDashboardData();\r\n      \r\n      toast({ title: 'Evento cancelado com sucesso!' });\r\n    } catch (error) {\r\n      console.error('Erro ao cancelar evento:', error);\r\n      toast({ \r\n        variant: \"destructive\",\r\n        title: 'Erro ao cancelar evento',\r\n        description: error.message\r\n      });\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <Calendar className=\"w-16 h-16 text-white/40 animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Dashboard | Mesapra2</title>\r\n      </Helmet>\r\n\r\n      <div className=\"flex justify-between items-center px-6 py-4 bg-gray-900/80 backdrop-blur-lg border-b border-white/10 sticky top-0 z-40 rounded-b-2xl\">\r\n        <h1 className=\"text-2xl font-bold text-white\">Dashboard</h1>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            onClick={() => setSettingsOpen(true)}\r\n            className=\"p-2 rounded-full hover:bg-white/10 transition-colors group relative\"\r\n            title=\"Configura√ß√µes\"\r\n          >\r\n            <SettingsIcon className=\"w-6 h-6 text-white/80 group-hover:text-white group-hover:rotate-45 transition-all duration-300\" />\r\n          </button>\r\n\r\n          <div className=\"relative\">\r\n            <button\r\n              className=\"focus:outline-none\"\r\n              onClick={() => setShowMenu(!showMenu)}\r\n            >\r\n              <img\r\n                src={getAvatarUrl()}\r\n                alt=\"Avatar do usu√°rio\"\r\n                className=\"w-10 h-10 rounded-full border-2 border-purple-500/50 object-cover hover:border-purple-500 transition-colors\"\r\n                onError={(e) => {\r\n                  e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n                    user?.email || 'Usu√°rio'\r\n                  )}&background=8b5cf6&color=fff&size=40`;\r\n                }}\r\n              />\r\n            </button>\r\n\r\n            {showMenu && (\r\n              <div className=\"absolute right-0 mt-2 w-56 origin-top-right rounded-xl bg-gray-800/90 backdrop-blur-md border border-white/10 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50\">\r\n                <div className=\"py-1\">\r\n                  <div className=\"px-4 py-3\">\r\n                    <p className=\"text-sm font-semibold text-white truncate\">\r\n                      {user?.user_metadata?.name || 'Usu√°rio'}\r\n                    </p>\r\n                    <p className=\"text-xs text-white/60 truncate\">{user?.email}</p>\r\n                  </div>\r\n\r\n                  <div className=\"border-t border-white/10\"></div>\r\n\r\n                  <Link\r\n                    to=\"/profile\"\r\n                    className=\"flex items-center w-full px-4 py-2 text-sm text-white/80 hover:bg-white/10\"\r\n                    onClick={() => setShowMenu(false)}\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"24\"\r\n                      height=\"24\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      strokeWidth=\"2\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      className=\"mr-3 h-5 w-5\"\r\n                    >\r\n                      <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n                      <circle cx=\"12\" cy=\"10\" r=\"3\" />\r\n                      <path d=\"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662\" />\r\n                    </svg>\r\n                    Meu Perfil\r\n                  </Link>\r\n\r\n                  <button\r\n                    onClick={() => {\r\n                      setShowMenu(false);\r\n                      setSettingsOpen(true);\r\n                    }}\r\n                    className=\"flex items-center w-full px-4 py-2 text-sm text-white/80 hover:bg-white/10\"\r\n                  >\r\n                    <SettingsIcon className=\"mr-3 h-5 w-5\" />\r\n                    Configura√ß√µes\r\n                  </button>\r\n\r\n                  <div className=\"border-t border-white/10\"></div>\r\n\r\n                  <button\r\n                    className=\"flex items-center w-full px-4 py-2 text-sm text-red-400 hover:bg-white/10\"\r\n                    onClick={() => supabase.auth.signOut()}\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      width=\"24\"\r\n                      height=\"24\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      strokeWidth=\"2\"\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      className=\"mr-3 h-5 w-5\"\r\n                    >\r\n                      <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\" />\r\n                      <polyline points=\"16 17 21 12 16 7\" />\r\n                      <line x1=\"21\" x2=\"9\" y1=\"12\" y2=\"12\" />\r\n                    </svg>\r\n                    Sair\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"py-6 px-4 sm:px-6 lg:px-8\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          className=\"space-y-6\"\r\n        >\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div className=\"glass-effect rounded-2xl p-6 border border-white/10 flex items-center\">\r\n              <Calendar className=\"w-8 h-8 text-purple-500 mr-4\" />\r\n              <div>\r\n                <p className=\"text-white/60 text-sm\">Eventos Participados</p>\r\n                <p className=\"text-white text-xl font-semibold\">{stats.eventosParticipados}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"glass-effect rounded-2xl p-6 border border-white/10 flex items-center\">\r\n              <Clock className=\"w-8 h-8 text-green-500 mr-4\" />\r\n              <div>\r\n                <p className=\"text-white/60 text-sm\">Pr√≥ximos Eventos</p>\r\n                <p className=\"text-white text-xl font-semibold\">{stats.proximosEventos}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"glass-effect rounded-2xl p-6 border border-white/10 flex items-center\">\r\n              <Star className=\"w-8 h-8 text-yellow-500 mr-4\" />\r\n              <div>\r\n                <p className=\"text-white/60 text-sm\">Avalia√ß√£o M√©dia</p>\r\n                <p className=\"text-white text-xl font-semibold\">{stats.avaliacaoMedia.toFixed(1)}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <h2 className=\"text-2xl font-semibold text-white mb-4\">Eventos Recentes</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n              {recentEvents.map((event) => {\r\n                const backgroundImage = getPartnerBackground(event.partner);\r\n                \r\n                return (\r\n                  <motion.div\r\n                    key={event.id}\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    transition={{ delay: 0.1 * recentEvents.indexOf(event) }}\r\n                    className=\"group\"\r\n                  >\r\n                    <div className=\"relative rounded-2xl overflow-hidden border border-white/10 hover:border-white/20 transition-all cursor-pointer h-full\">\r\n                      {/* üîî Badge de candidaturas pendentes */}\r\n                      {event.creator_id === user.id && pendingParticipations[event.id] > 0 && (\r\n                        <div className=\"absolute top-3 right-3 z-20\">\r\n                          <motion.div\r\n                            initial={{ scale: 0 }}\r\n                            animate={{ scale: 1 }}\r\n                            className=\"relative\"\r\n                          >\r\n                            <div className=\"w-6 h-6 rounded-full bg-red-500 flex items-center justify-center text-white text-xs font-bold border-2 border-white/80 shadow-lg\">\r\n                              {pendingParticipations[event.id] > 9 ? '9+' : pendingParticipations[event.id]}\r\n                            </div>\r\n                          </motion.div>\r\n                        </div>\r\n                      )}\r\n\r\n                      <div \r\n                        className=\"absolute inset-0 z-0\"\r\n                        style={{\r\n                          background: backgroundImage\r\n                            ? `linear-gradient(to bottom, rgba(0,0,0,0.7), rgba(0,0,0,0.9)), url(${backgroundImage})`\r\n                            : 'linear-gradient(135deg, rgba(139, 92, 246, 0.3) 0%, rgba(236, 72, 153, 0.3) 100%)',\r\n                          backgroundSize: 'cover',\r\n                          backgroundPosition: 'center',\r\n                        }}\r\n                      />\r\n                      \r\n                      <div className=\"absolute inset-0 z-0 bg-black/40 backdrop-blur-sm\" />\r\n\r\n                      <div className=\"relative z-10 p-6\">\r\n                        <div className=\"flex items-center gap-2 mb-4\">\r\n                          <img\r\n                            src={getCreatorAvatar(event.creator)}\r\n                            alt={event.creator?.username || 'Anfitri√£o'}\r\n                            className=\"w-10 h-10 rounded-full border-2 border-purple-500/70 object-cover\"\r\n                            onError={(e) => {\r\n                              e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n                                event.creator?.username || 'Anfitri√£o'\r\n                              )}&background=8b5cf6&color=fff&size=48`;\r\n                            }}\r\n                          />\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-white/90 text-sm font-medium truncate\">\r\n                              {event.creator?.username || 'Anfitri√£o'}\r\n                            </p>\r\n                            <p className=\"text-white/50 text-xs\">organizador</p>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <Link to={`/event/${event.id}`}>\r\n                          <h3 className=\"text-lg font-semibold text-white mb-2 line-clamp-2 hover:text-purple-300 transition-colors\">\r\n                            {event.title}\r\n                          </h3>\r\n                        </Link>\r\n\r\n                        <div className=\"space-y-2 mb-4\">\r\n                          <div className=\"flex items-center text-white/70 text-sm\">\r\n                            <MapPin className=\"w-4 h-4 mr-2 flex-shrink-0\" />\r\n                            <span className=\"truncate\">\r\n                              {getPartnerAddress(event.partner)}\r\n                            </span>\r\n                          </div>\r\n\r\n                          <div className=\"flex items-center text-white/70 text-sm\">\r\n                            <Clock className=\"w-4 h-4 mr-2 flex-shrink-0\" />\r\n                            <span className=\"truncate\">\r\n                              {format(new Date(event.start_time), \"dd 'de' MMMM '√†s' HH:mm\", { locale: ptBR })}\r\n                            </span>\r\n                          </div>\r\n\r\n                          <div className=\"flex items-center text-white/70 text-sm\">\r\n                            <Users className=\"w-4 h-4 mr-2 flex-shrink-0\" />\r\n                            {event.vagas} {event.vagas === 1 ? 'vaga' : 'vagas'}\r\n                          </div>\r\n                        </div>\r\n\r\n                        {event.hashtags && event.hashtags.length > 0 && (\r\n                          <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                            {event.hashtags.slice(0, 2).map((tag, i) => (\r\n                              <span\r\n                                key={i}\r\n                                className=\"px-2 py-1 rounded-full bg-purple-500/30 backdrop-blur-sm text-purple-200 text-xs border border-purple-400/30\"\r\n                              >\r\n                                #{tag}\r\n                              </span>\r\n                            ))}\r\n                            {event.hashtags.length > 2 && (\r\n                              <span className=\"px-2 py-1 rounded-full bg-white/10 backdrop-blur-sm text-white/60 text-xs\">\r\n                                +{event.hashtags.length - 2}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                        \r\n                        {/* Mostrar participantes se houver e o usu√°rio N√ÉO √© o criador */}\r\n                        {eventParticipants[event.id] && eventParticipants[event.id].length > 0 && event.creator_id !== user.id && (\r\n                          <div className=\"space-y-2\">\r\n                            <span className=\"text-white/60 text-sm font-medium\">Participantes ({eventParticipants[event.id].length})</span>\r\n                            {renderParticipantAvatars(event)}\r\n                          </div>\r\n                        )}\r\n                        \r\n                        {event.creator_id === user.id ? (\r\n                          <div className=\"space-y-3\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <span className=\"text-white/60 text-sm font-medium\">\r\n                                Participantes\r\n                              </span>\r\n                              <span className=\"text-white/40 text-xs\">\r\n                                {(eventParticipants[event.id] || []).length} / {event.max_vagas || event.vagas}\r\n                              </span>\r\n                            </div>\r\n                            {renderParticipantAvatars(event)}\r\n\r\n                            <Link to={`/event/${event.id}/chat`}>\r\n                              <Button className=\"w-full\" variant=\"outline\" size=\"sm\">\r\n                                <MessageSquare className=\"w-4 h-4 mr-2\" />\r\n                                Acessar Chat do Evento\r\n                              </Button>\r\n                            </Link>\r\n                            \r\n                            <Button\r\n                              onClick={(e) => {\r\n                                e.preventDefault();\r\n                                handleCancelEvent(event);\r\n                              }}\r\n                              variant=\"destructive\"\r\n                              className=\"w-full\"\r\n                              size=\"sm\"\r\n                            >\r\n                              <XCircle className=\"w-4 h-4 mr-2\" />\r\n                              Cancelar Evento\r\n                            </Button>\r\n                          </div>\r\n                        ) : crusherInvites[event.id] ? (\r\n                          <div className=\"space-y-2\">\r\n                            <div className=\"glass-effect rounded-lg p-3 border border-pink-500/30 bg-pink-500/10\">\r\n                              <p className=\"text-pink-300 text-sm font-medium flex items-center gap-2\">\r\n                                <Heart className=\"w-4 h-4\" />\r\n                                Voc√™ recebeu um convite Crusher exclusivo!\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"flex gap-2\">\r\n                              <Button\r\n                                onClick={(e) => {\r\n                                  e.preventDefault();\r\n                                  handleAcceptCrusherInvite(event);\r\n                                }}\r\n                                className=\"flex-1 bg-gradient-to-r from-pink-500 to-purple-500\"\r\n                                size=\"sm\"\r\n                              >\r\n                                <CheckCircle className=\"w-4 h-4 mr-2\" />\r\n                                Aceitar Convite\r\n                              </Button>\r\n                              <Button\r\n                                onClick={(e) => {\r\n                                  e.preventDefault();\r\n                                  handleRejectCrusherInvite(event);\r\n                                }}\r\n                                variant=\"outline\"\r\n                                size=\"sm\"\r\n                                className=\"flex-1\"\r\n                              >\r\n                                <XCircle className=\"w-4 h-4 mr-2\" />\r\n                                Recusar\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        ) : userParticipations[event.id] ? (\r\n                          getUserParticipationBadge(event.id)\r\n                        ) : (\r\n                          <Button\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              handleOpenApplyModal(event);\r\n                            }}\r\n                            className=\"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold\"\r\n                            size=\"sm\"\r\n                          >\r\n                            <UserPlus className=\"w-4 h-4 mr-2\" />\r\n                            Participar\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </motion.div>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {recentEvents.length === 0 && (\r\n              <div className=\"glass-effect rounded-2xl p-12 border border-white/10 text-center\">\r\n                <Calendar className=\"w-16 h-16 text-white/20 mx-auto mb-4\" />\r\n                <p className=\"text-white/60 text-lg mb-4\">\r\n                  Nenhum evento dispon√≠vel no momento\r\n                </p>\r\n                <Link to=\"/criar-evento\">\r\n                  <Button className=\"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600\">\r\n                    Criar Primeiro Evento\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n\r\n      <Settings \r\n        isOpen={settingsOpen} \r\n        onClose={() => setSettingsOpen(false)} \r\n      />\r\n\r\n      {/* ================================================================= */}\r\n      {/* üí° 4. DIALOG CORRIGIDO COM L√ìGICA CONDICIONAL üí° */}\r\n      {/* ================================================================= */}\r\n      <Dialog open={applyModalOpen} onOpenChange={setApplyModalOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>{selectedEvent?.title}</DialogTitle>\r\n            <DialogDescription>\r\n              {selectedEvent?.event_type === 'institucional'\r\n                ? 'Confirme sua inscri√ß√£o para este evento.'\r\n                : 'Candidate-se para participar deste evento'}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          \r\n          {selectedEvent && (\r\n            <>\r\n              {selectedEvent.event_type === 'institucional' ? (\r\n                // 1. L√≥gica para Evento Institucional\r\n                <div className=\"space-y-4 pt-4\">\r\n                  <div className=\"p-4 rounded-md bg-blue-500/10 border border-blue-500/20 text-blue-300 text-sm\">\r\n                    <p>Este √© um evento institucional. Sua inscri√ß√£o ser√° aprovada automaticamente.</p>\r\n                  </div>\r\n                  <Button\r\n                    onClick={() => handleInstitutionalApply(selectedEvent)}\r\n                    disabled={isRegistering}\r\n                    className=\"w-full\"\r\n                  >\r\n                    {isRegistering ? (\r\n                      <Loader className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                    ) : null}\r\n                    {isRegistering ? 'Inscrevendo...' : 'Inscrever-se Agora'}\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                // 2. L√≥gica para Evento Normal (como estava antes)\r\n                <EventApply \r\n                  event={selectedEvent} \r\n                  onSuccess={handleApplySuccess}\r\n                />\r\n              )}\r\n            </>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <Dialog open={cancelModalOpen} onOpenChange={setCancelModalOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Cancelar Evento</DialogTitle>\r\n            <DialogDescription>\r\n              {eventToCancel?.title}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          \r\n          {cancelError ? (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"glass-effect rounded-lg p-4 border border-red-500/30 bg-red-500/10\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <XCircle className=\"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0\" />\r\n                  <div>\r\n                    <h4 className=\"text-red-300 font-semibold mb-1\">\r\n                      Cancelamento N√£o Permitido\r\n                    </h4>\r\n                    <p className=\"text-red-200/80 text-sm\">\r\n                      {cancelError}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <Button\r\n                onClick={() => {\r\n                  setCancelModalOpen(false);\r\n                  setCancelError(null);\r\n                  setEventToCancel(null);\r\n                }}\r\n                className=\"w-full\"\r\n              >\r\n                Entendi\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"glass-effect rounded-lg p-4 border border-yellow-500/30 bg-yellow-500/10\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <Calendar className=\"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0\" />\r\n                  <div>\r\n                    <h4 className=\"text-yellow-300 font-semibold mb-1\">\r\n                      Confirmar Cancelamento\r\n                    </h4>\r\n                    <p className=\"text-yellow-200/80 text-sm\">\r\n                      Tem certeza que deseja cancelar este evento? Esta a√ß√£o n√£o pode ser desfeita.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex gap-3\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => {\r\n                    setCancelModalOpen(false);\r\n                    setEventToCancel(null);\r\n                  }}\r\n                  className=\"flex-1 glass-effect border-white/10\"\r\n                >\r\n                  Voltar\r\n                </Button>\r\n                <Button\r\n                  variant=\"destructive\"\r\n                  onClick={confirmCancelEvent}\r\n                  className=\"flex-1\"\r\n                >\r\n                  <XCircle className=\"w-4 h-4 mr-2\" />\r\n                  Cancelar Evento\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"version":3}