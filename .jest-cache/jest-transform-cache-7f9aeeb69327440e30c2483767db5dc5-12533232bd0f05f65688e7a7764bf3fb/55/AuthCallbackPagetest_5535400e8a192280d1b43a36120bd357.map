{"file":"C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\pages\\AuthCallbackPage.test.jsx","mappings":"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","names":[],"sources":["C:\\DEVMix\\App.Mesapra2.com\\src\\features\\shared\\pages\\AuthCallbackPage.test.jsx"],"sourcesContent":["// src/features/auth/pages/AuthCallbackPage.test.jsx\r\n/* eslint-disable react/prop-types */\r\n\r\nimport { describe, it, expect, jest, beforeEach, afterEach } from '@jest/globals';\r\nimport { render, screen, waitFor } from '@testing-library/react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport userEvent from '@testing-library/user-event';\r\n\r\n// --- 1. CRIAR MOCKS ANTES DE IMPORTAR ---\r\n\r\nconst mockNavigate = jest.fn();\r\nconst mockGet = jest.fn();\r\nconst mockVerifyOtp = jest.fn();\r\n\r\n// Mock do react-router-dom\r\njest.mock('react-router-dom', () => ({\r\n  ...jest.requireActual('react-router-dom'),\r\n  useNavigate: () => mockNavigate,\r\n  useSearchParams: () => [{ get: mockGet }],\r\n}));\r\n\r\n// Mock do Supabase - ABORDAGEM CORRETA\r\njest.mock('@/lib/supabaseClient', () => ({\r\n  supabase: {\r\n    auth: {\r\n      verifyOtp: (...args) => mockVerifyOtp(...args),\r\n    },\r\n  },\r\n}));\r\n\r\n// Mock do Helmet\r\njest.mock('react-helmet-async', () => ({\r\n  Helmet: ({ children }) => <div data-testid=\"helmet\">{children}</div>,\r\n}));\r\n\r\n// Mock do Framer Motion\r\njest.mock('framer-motion', () => ({\r\n  motion: {\r\n    div: ({ children, ...props }) => <div {...props}>{children}</div>,\r\n  },\r\n}));\r\n\r\n// Mock dos componentes Lucide\r\njest.mock('lucide-react', () => ({\r\n  CheckCircle: () => <div data-testid=\"check-icon\">✓</div>,\r\n  XCircle: () => <div data-testid=\"x-icon\">✗</div>,\r\n  Loader2: () => <div data-testid=\"loader-icon\">Loading...</div>,\r\n}));\r\n\r\n// Mock do Button\r\njest.mock('@/features/shared/components/ui/button', () => ({\r\n  Button: ({ children, onClick, ...props }) => (\r\n    <button onClick={onClick} data-testid={props['data-testid']} {...props}>\r\n      {children}\r\n    </button>\r\n  ),\r\n}));\r\n\r\n// Importar APÓS os mocks\r\nimport AuthCallbackPage from './AuthCallbackPage';\r\n\r\n// --- 2. HELPER ---\r\n\r\nconst renderWithRouter = (component) => {\r\n  return render(\r\n    <BrowserRouter>\r\n      {component}\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\n// --- 3. TESTES ---\r\n\r\ndescribe('AuthCallbackPage', () => {\r\n  beforeEach(() => {\r\n    jest.clearAllMocks();\r\n    jest.useFakeTimers();\r\n    mockGet.mockReset();\r\n    mockVerifyOtp.mockReset();\r\n    mockNavigate.mockReset();\r\n    \r\n    // Configurar comportamento padrão do mockVerifyOtp\r\n    mockVerifyOtp.mockResolvedValue({\r\n      data: { user: { email: 'default@example.com' } },\r\n      error: null,\r\n    });\r\n  });\r\n\r\n  afterEach(() => {\r\n    jest.runOnlyPendingTimers();\r\n    jest.useRealTimers();\r\n  });\r\n\r\n  describe('Estado de loading', () => {\r\n    it('deve mostrar loader enquanto processa a confirmação', () => {\r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'token_hash') return 'test-token';\r\n        if (param === 'type') return 'email';\r\n        return null;\r\n      });\r\n\r\n      mockVerifyOtp.mockImplementation(() => new Promise(() => {})); // Never resolves\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      expect(screen.getByTestId('loader-icon')).toBeInTheDocument();\r\n      expect(screen.getByText('Confirmando seu email...')).toBeInTheDocument();\r\n      expect(screen.getByText('Aguarde enquanto validamos seu cadastro')).toBeInTheDocument();\r\n    });\r\n  });\r\n\r\n  describe('Confirmação bem-sucedida', () => {\r\n    it('deve mostrar mensagem de sucesso e redirecionar após confirmar email', async () => {\r\n      const mockUser = { email: 'test@example.com' };\r\n      \r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'token_hash') return 'valid-token';\r\n        if (param === 'type') return 'email';\r\n        return null;\r\n      });\r\n\r\n      mockVerifyOtp.mockResolvedValue({\r\n        data: { user: mockUser },\r\n        error: null,\r\n      });\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      // Aguarda processamento\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('check-icon')).toBeInTheDocument();\r\n      }, { timeout: 3000 });\r\n\r\n      expect(screen.getByText('Email Confirmado!')).toBeInTheDocument();\r\n      expect(screen.getByText(/confirmado com sucesso/i)).toBeInTheDocument();\r\n\r\n      // Verifica se verifyOtp foi chamado\r\n      expect(mockVerifyOtp).toHaveBeenCalledWith({\r\n        token_hash: 'valid-token',\r\n        type: 'email',\r\n      });\r\n\r\n      // Avança o timer\r\n      jest.advanceTimersByTime(2000);\r\n\r\n      // Verifica redirecionamento\r\n      await waitFor(() => {\r\n        expect(mockNavigate).toHaveBeenCalledWith('/login', {\r\n          state: {\r\n            emailConfirmed: true,\r\n            email: 'test@example.com',\r\n          },\r\n        });\r\n      });\r\n    });\r\n\r\n    it('deve funcionar mesmo sem email do usuário', async () => {\r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'token_hash') return 'valid-token';\r\n        if (param === 'type') return 'email';\r\n        return null;\r\n      });\r\n\r\n      mockVerifyOtp.mockResolvedValue({\r\n        data: { user: null },\r\n        error: null,\r\n      });\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('check-icon')).toBeInTheDocument();\r\n      }, { timeout: 3000 });\r\n\r\n      jest.advanceTimersByTime(2000);\r\n\r\n      await waitFor(() => {\r\n        expect(mockNavigate).toHaveBeenCalledWith('/login', {\r\n          state: {\r\n            emailConfirmed: true,\r\n            email: undefined,\r\n          },\r\n        });\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Erros de validação', () => {\r\n    it('deve mostrar erro quando token_hash estiver ausente', async () => {\r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'type') return 'email';\r\n        return null;\r\n      });\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('x-icon')).toBeInTheDocument();\r\n      });\r\n\r\n      expect(screen.getByText('Erro na Confirmação')).toBeInTheDocument();\r\n      expect(screen.getByText(/Link de confirmação inválido/i)).toBeInTheDocument();\r\n      expect(mockVerifyOtp).not.toHaveBeenCalled();\r\n    });\r\n\r\n    it('deve mostrar erro quando type não for \"email\"', async () => {\r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'token_hash') return 'test-token';\r\n        if (param === 'type') return 'recovery';\r\n        return null;\r\n      });\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('x-icon')).toBeInTheDocument();\r\n      });\r\n\r\n      expect(screen.getByText(/Link de confirmação inválido/i)).toBeInTheDocument();\r\n      expect(mockVerifyOtp).not.toHaveBeenCalled();\r\n    });\r\n\r\n    it('deve mostrar erro quando verifyOtp falhar', async () => {\r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'token_hash') return 'invalid-token';\r\n        if (param === 'type') return 'email';\r\n        return null;\r\n      });\r\n\r\n      mockVerifyOtp.mockResolvedValue({\r\n        data: null,\r\n        error: { message: 'Token inválido' },\r\n      });\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('x-icon')).toBeInTheDocument();\r\n        expect(screen.getByText(/Token inválido/i)).toBeInTheDocument();\r\n      });\r\n    });\r\n\r\n    it('deve mostrar mensagem específica para email já confirmado', async () => {\r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'token_hash') return 'already-used-token';\r\n        if (param === 'type') return 'email';\r\n        return null;\r\n      });\r\n\r\n      mockVerifyOtp.mockResolvedValue({\r\n        data: null,\r\n        error: { message: 'Email already confirmed' },\r\n      });\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByText(/já foi confirmado anteriormente/i)).toBeInTheDocument();\r\n      });\r\n    });\r\n\r\n    it('deve mostrar mensagem específica para link expirado', async () => {\r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'token_hash') return 'expired-token';\r\n        if (param === 'type') return 'email';\r\n        return null;\r\n      });\r\n\r\n      mockVerifyOtp.mockResolvedValue({\r\n        data: null,\r\n        error: { message: 'Token expired' },\r\n      });\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByText(/link de confirmação expirou/i)).toBeInTheDocument();\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('Interações do usuário no estado de erro', () => {\r\n    beforeEach(async () => {\r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'token_hash') return 'error-token';\r\n        if (param === 'type') return 'email';\r\n        return null;\r\n      });\r\n\r\n      mockVerifyOtp.mockResolvedValue({\r\n        data: null,\r\n        error: { message: 'Erro genérico' },\r\n      });\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('x-icon')).toBeInTheDocument();\r\n      });\r\n    });\r\n\r\n    it('deve navegar para login ao clicar em \"Ir para Login\"', async () => {\r\n      const user = userEvent.setup({ delay: null });\r\n      const loginButton = screen.getByText('Ir para Login');\r\n\r\n      await user.click(loginButton);\r\n\r\n      expect(mockNavigate).toHaveBeenCalledWith('/login');\r\n    });\r\n\r\n    it('deve navegar para registro ao clicar em \"Tentar Novamente\"', async () => {\r\n      const user = userEvent.setup({ delay: null });\r\n      const retryButton = screen.getByText('Tentar Novamente');\r\n\r\n      await user.click(retryButton);\r\n\r\n      expect(mockNavigate).toHaveBeenCalledWith('/partner/register');\r\n    });\r\n  });\r\n\r\n  describe('Metadados e SEO', () => {\r\n    it('deve renderizar o Helmet com título correto', () => {\r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'token_hash') return 'test-token';\r\n        if (param === 'type') return 'email';\r\n        return null;\r\n      });\r\n\r\n      mockVerifyOtp.mockImplementation(() => new Promise(() => {}));\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      const helmet = screen.getByTestId('helmet');\r\n      expect(helmet).toBeInTheDocument();\r\n      expect(screen.getByText('Confirmação de Email - Mesa Pra 2')).toBeInTheDocument();\r\n    });\r\n  });\r\n\r\n  describe('Console errors', () => {\r\n    it('deve logar erro no console quando verificação falhar', async () => {\r\n      const consoleErrorSpy = jest.spyOn(console, 'error').mockImplementation(() => {});\r\n      \r\n      mockGet.mockImplementation((param) => {\r\n        if (param === 'token_hash') return 'error-token';\r\n        if (param === 'type') return 'email';\r\n        return null;\r\n      });\r\n\r\n      const errorObj = { message: 'Test error' };\r\n      mockVerifyOtp.mockResolvedValue({\r\n        data: null,\r\n        error: errorObj,\r\n      });\r\n\r\n      renderWithRouter(<AuthCallbackPage />);\r\n\r\n      await waitFor(() => {\r\n        expect(screen.getByTestId('x-icon')).toBeInTheDocument();\r\n      });\r\n\r\n      expect(consoleErrorSpy).toHaveBeenCalled();\r\n      expect(consoleErrorSpy.mock.calls[0][0]).toBe('Erro na confirmação:');\r\n\r\n      consoleErrorSpy.mockRestore();\r\n    });\r\n  });\r\n});"],"version":3}